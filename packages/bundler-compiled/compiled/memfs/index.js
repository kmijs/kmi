(function(){var e={57:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Dir=void 0;const i=r(615);const n=r(32);class Dir{constructor(e,t){this.link=e;this.options=t;this.iteratorInfo=[];this.path=e.getParentPath();this.iteratorInfo.push(e.children[Symbol.iterator]())}wrapAsync(e,t,r){(0,i.validateCallback)(r);setImmediate((()=>{let i;try{i=e.apply(this,t)}catch(e){r(e);return}r(null,i)}))}isFunction(e){return typeof e==="function"}promisify(e,t){return(...r)=>new Promise(((i,n)=>{if(this.isFunction(e[t])){e[t].bind(e)(...r,((e,t)=>{if(e)n(e);i(t)}))}else{n("Not a function")}}))}closeBase(){}readBase(e){let t;let r;let i;let s;do{do{({done:t,value:r}=e[e.length-1].next());if(!t){[i,s]=r}else{break}}while(i==="."||i==="..");if(t){e.pop();if(e.length===0){break}else{t=false}}else{if(this.options.recursive&&s.children.size){e.push(s.children[Symbol.iterator]())}return n.default.build(s,this.options.encoding)}}while(!t);return null}closeBaseAsync(e){this.wrapAsync(this.closeBase,[],e)}close(e){if(typeof e==="function"){this.closeBaseAsync(e)}else{return this.promisify(this,"closeBaseAsync")()}}closeSync(){this.closeBase()}readBaseAsync(e){this.wrapAsync(this.readBase,[this.iteratorInfo],e)}read(e){if(typeof e==="function"){this.readBaseAsync(e)}else{return this.promisify(this,"readBaseAsync")()}}readSync(){return this.readBase(this.iteratorInfo)}[Symbol.asyncIterator](){const e=[];const t=this;e.push(t.link.children[Symbol.iterator]());const r={readBaseAsync(r){t.wrapAsync(t.readBase,[e],r)}};return{async next(){const e=await t.promisify(r,"readBaseAsync")();if(e!==null){return{done:false,value:e}}else{return{done:true,value:undefined}}},[Symbol.asyncIterator](){throw new Error("Not implemented")}}}}t.Dir=Dir},32:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Dirent=void 0;const i=r(992);const n=r(456);const{S_IFMT:s,S_IFDIR:o,S_IFREG:a,S_IFBLK:c,S_IFCHR:l,S_IFLNK:f,S_IFIFO:u,S_IFSOCK:h}=i.constants;class Dirent{constructor(){this.name="";this.path="";this.parentPath="";this.mode=0}static build(e,t){const r=new Dirent;const{mode:i}=e.getNode();r.name=(0,n.strToEncoding)(e.getName(),t);r.mode=i;r.path=e.getParentPath();r.parentPath=r.path;return r}_checkModeProperty(e){return(this.mode&s)===e}isDirectory(){return this._checkModeProperty(o)}isFile(){return this._checkModeProperty(a)}isBlockDevice(){return this._checkModeProperty(c)}isCharacterDevice(){return this._checkModeProperty(l)}isSymbolicLink(){return this._checkModeProperty(f)}isFIFO(){return this._checkModeProperty(u)}isSocket(){return this._checkModeProperty(h)}}t.Dirent=Dirent;t["default"]=Dirent},441:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Stats=void 0;const i=r(992);const{S_IFMT:n,S_IFDIR:s,S_IFREG:o,S_IFBLK:a,S_IFCHR:c,S_IFLNK:l,S_IFIFO:f,S_IFSOCK:u}=i.constants;class Stats{static build(e,t=false){const r=new Stats;const{uid:i,gid:n,atime:s,mtime:o,ctime:a}=e;const c=!t?e=>e:e=>BigInt(e);r.uid=c(i);r.gid=c(n);r.rdev=c(0);r.blksize=c(4096);r.ino=c(e.ino);r.size=c(e.getSize());r.blocks=c(1);r.atime=s;r.mtime=o;r.ctime=a;r.birthtime=a;r.atimeMs=c(s.getTime());r.mtimeMs=c(o.getTime());const l=c(a.getTime());r.ctimeMs=l;r.birthtimeMs=l;if(t){r.atimeNs=BigInt(s.getTime())*BigInt(1e6);r.mtimeNs=BigInt(o.getTime())*BigInt(1e6);const e=BigInt(a.getTime())*BigInt(1e6);r.ctimeNs=e;r.birthtimeNs=e}r.dev=c(0);r.mode=c(e.mode);r.nlink=c(e.nlink);return r}_checkModeProperty(e){return(Number(this.mode)&n)===e}isDirectory(){return this._checkModeProperty(s)}isFile(){return this._checkModeProperty(o)}isBlockDevice(){return this._checkModeProperty(a)}isCharacterDevice(){return this._checkModeProperty(c)}isSymbolicLink(){return this._checkModeProperty(l)}isFIFO(){return this._checkModeProperty(f)}isSocket(){return this._checkModeProperty(u)}}t.Stats=Stats;t["default"]=Stats},992:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.constants=void 0;t.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_SYMLINK:2097152,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}},456:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ENCODING_UTF8=void 0;t.assertEncoding=assertEncoding;t.strToEncoding=strToEncoding;const i=r(453);const n=r(640);t.ENCODING_UTF8="utf8";function assertEncoding(e){if(e&&!i.Buffer.isEncoding(e))throw new n.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",e)}function strToEncoding(e,r){if(!r||r===t.ENCODING_UTF8)return e;if(r==="buffer")return new i.Buffer(e);return new i.Buffer(e).toString(r)}},336:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.memfs=t.fs=t.vol=t.Volume=void 0;t.createFsFromVolume=createFsFromVolume;const i=r(441);const n=r(32);const s=r(431);const o=r(992);const a=r(62);const c=r(565);const{F_OK:l,R_OK:f,W_OK:u,X_OK:h}=o.constants;t.Volume=s.Volume;t.vol=new s.Volume;function createFsFromVolume(e){const t={F_OK:l,R_OK:f,W_OK:u,X_OK:h,constants:o.constants,Stats:i.default,Dirent:n.default};for(const r of a.fsSynchronousApiList)if(typeof e[r]==="function")t[r]=e[r].bind(e);for(const r of c.fsCallbackApiList)if(typeof e[r]==="function")t[r]=e[r].bind(e);t.StatWatcher=e.StatWatcher;t.FSWatcher=e.FSWatcher;t.WriteStream=e.WriteStream;t.ReadStream=e.ReadStream;t.promises=e.promises;t._toUnixTimestamp=s.toUnixTimestamp;t.__vol=e;return t}t.fs=createFsFromVolume(t.vol);const memfs=(e={},r="/")=>{const i=t.Volume.fromNestedJSON(e,r);const n=createFsFromVolume(i);return{fs:n,vol:i}};t.memfs=memfs;e.exports=Object.assign(Object.assign({},e.exports),t.fs);e.exports.semantic=true},453:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.bufferFrom=t.bufferAllocUnsafe=t.Buffer=void 0;const i=r(300);Object.defineProperty(t,"Buffer",{enumerable:true,get:function(){return i.Buffer}});function bufferV0P12Ponyfill(e,...t){return new i.Buffer(e,...t)}const n=i.Buffer.allocUnsafe||bufferV0P12Ponyfill;t.bufferAllocUnsafe=n;const s=i.Buffer.from||bufferV0P12Ponyfill;t.bufferFrom=s},640:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AssertionError=t.RangeError=t.TypeError=t.Error=void 0;t.message=message;t.E=E;const i=r(491);const n=r(837);const s=typeof Symbol==="undefined"?"_kCode":Symbol("code");const o={};function makeNodeError(e){return class NodeError extends e{constructor(e,...t){super(message(e,t));this.code=e;this[s]=e;this.name=`${super.name} [${this[s]}]`}}}const a=typeof globalThis!=="undefined"?globalThis:global;class AssertionError extends a.Error{constructor(e){if(typeof e!=="object"||e===null){throw new t.TypeError("ERR_INVALID_ARG_TYPE","options","object")}if(e.message){super(e.message)}else{super(`${n.inspect(e.actual).slice(0,128)} `+`${e.operator} ${n.inspect(e.expected).slice(0,128)}`)}this.generatedMessage=!e.message;this.name="AssertionError [ERR_ASSERTION]";this.code="ERR_ASSERTION";this.actual=e.actual;this.expected=e.expected;this.operator=e.operator;t.Error.captureStackTrace(this,e.stackStartFunction)}}t.AssertionError=AssertionError;function message(e,t){i.strictEqual(typeof e,"string");const r=o[e];i(r,`An invalid error message key was used: ${e}.`);let s;if(typeof r==="function"){s=r}else{s=n.format;if(t===undefined||t.length===0)return r;t.unshift(r)}return String(s.apply(null,t))}function E(e,t){o[e]=typeof t==="function"?t:String(t)}t.Error=makeNodeError(a.Error);t.TypeError=makeNodeError(a.TypeError);t.RangeError=makeNodeError(a.RangeError);E("ERR_ARG_NOT_ITERABLE","%s must be iterable");E("ERR_ASSERTION","%s");E("ERR_BUFFER_OUT_OF_BOUNDS",bufferOutOfBounds);E("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received");E("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s");E("ERR_CPU_USAGE","Unable to obtain cpu usage %s");E("ERR_DNS_SET_SERVERS_FAILED",((e,t)=>`c-ares failed to set servers: "${e}" [${t}]`));E("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value");E("ERR_ENCODING_NOT_SUPPORTED",(e=>`The "${e}" encoding is not supported`));E("ERR_ENCODING_INVALID_ENCODED_DATA",(e=>`The encoded data was not valid for encoding ${e}`));E("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client");E("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s");E("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding");E("ERR_INDEX_OUT_OF_RANGE","Index out of range");E("ERR_INVALID_ARG_TYPE",invalidArgType);E("ERR_INVALID_ARRAY_LENGTH",((e,t,r)=>{i.strictEqual(typeof r,"number");return`The array "${e}" (length ${r}) must be of length ${t}.`}));E("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s");E("ERR_INVALID_CALLBACK","Callback must be a function");E("ERR_INVALID_CHAR","Invalid character in %s");E("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column");E("ERR_INVALID_FD",'"fd" must be a positive integer: %s');E("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s');E("ERR_INVALID_FILE_URL_PATH","File URL path %s");E("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent");E("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s");E("ERR_INVALID_OPT_VALUE",((e,t)=>`The value "${String(t)}" is invalid for option "${e}"`));E("ERR_INVALID_OPT_VALUE_ENCODING",(e=>`The value "${String(e)}" is invalid for option "encoding"`));E("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL');E("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s");E("ERR_INVALID_THIS",'Value of "this" must be of type %s');E("ERR_INVALID_TUPLE","%s must be an iterable %s tuple");E("ERR_INVALID_URL","Invalid URL: %s");E("ERR_INVALID_URL_SCHEME",(e=>`The URL must be ${oneOf(e,"scheme")}`));E("ERR_IPC_CHANNEL_CLOSED","Channel closed");E("ERR_IPC_DISCONNECTED","IPC channel is already disconnected");E("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe");E("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks");E("ERR_MISSING_ARGS",missingArgs);E("ERR_MULTIPLE_CALLBACK","Callback called multiple times");E("ERR_NAPI_CONS_FUNCTION","Constructor must be a function");E("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object");E("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support");E("ERR_NO_LONGER_SUPPORTED","%s is no longer supported");E("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s");E("ERR_SOCKET_ALREADY_BOUND","Socket is already bound");E("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536");E("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6");E("ERR_SOCKET_CANNOT_SEND","Unable to send data");E("ERR_SOCKET_CLOSED","Socket is closed");E("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running");E("ERR_STDERR_CLOSE","process.stderr cannot be closed");E("ERR_STDOUT_CLOSE","process.stdout cannot be closed");E("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode");E("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s");E("ERR_TLS_DH_PARAM_SIZE",(e=>`DH parameter size ${e} is less than 2048`));E("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout");E("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate");E("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext');E("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected");E("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming");E("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0");E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s");E("ERR_UNKNOWN_SIGNAL","Unknown signal: %s");E("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type");E("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type");E("ERR_V8BREAKITERATOR","Full ICU data not installed. "+"See https://github.com/nodejs/node/wiki/Intl");function invalidArgType(e,t,r){i(e,"name is required");let n;if(t.includes("not ")){n="must not be";t=t.split("not ")[1]}else{n="must be"}let s;if(Array.isArray(e)){const r=e.map((e=>`"${e}"`)).join(", ");s=`The ${r} arguments ${n} ${oneOf(t,"type")}`}else if(e.includes(" argument")){s=`The ${e} ${n} ${oneOf(t,"type")}`}else{const r=e.includes(".")?"property":"argument";s=`The "${e}" ${r} ${n} ${oneOf(t,"type")}`}if(arguments.length>=3){s+=`. Received type ${r!==null?typeof r:"null"}`}return s}function missingArgs(...e){i(e.length>0,"At least one arg needs to be specified");let t="The ";const r=e.length;e=e.map((e=>`"${e}"`));switch(r){case 1:t+=`${e[0]} argument`;break;case 2:t+=`${e[0]} and ${e[1]} arguments`;break;default:t+=e.slice(0,r-1).join(", ");t+=`, and ${e[r-1]} arguments`;break}return`${t} must be specified`}function oneOf(e,t){i(e,"expected is required");i(typeof t==="string","thing is required");if(Array.isArray(e)){const r=e.length;i(r>0,"At least one expected value needs to be specified");e=e.map((e=>String(e)));if(r>2){return`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]}else if(r===2){return`one of ${t} ${e[0]} or ${e[1]}`}else{return`of ${t} ${e[0]}`}}else{return`of ${t} ${String(e)}`}}function bufferOutOfBounds(e,t){if(t){return"Attempt to write outside buffer bounds"}else{return`"${e}" is outside of buffer bounds`}}},497:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.newNotAllowedError=t.newTypeMismatchError=t.newNotFoundError=t.assertCanWrite=t.assertName=t.basename=t.ctx=void 0;const ctx=(e={})=>Object.assign({separator:"/",syncHandleAllowed:false,mode:"read"},e);t.ctx=ctx;const basename=(e,t)=>{if(e[e.length-1]===t)e=e.slice(0,-1);const r=e.lastIndexOf(t);return r===-1?e:e.slice(r+1)};t.basename=basename;const r=/^(\.{1,2})$|^(.*([\/\\]).*)$/;const assertName=(e,t,i)=>{const n=!e||r.test(e);if(n)throw new TypeError(`Failed to execute '${t}' on '${i}': Name is not allowed.`)};t.assertName=assertName;const assertCanWrite=e=>{if(e!=="readwrite")throw new DOMException("The request is not allowed by the user agent or the platform in the current context.","NotAllowedError")};t.assertCanWrite=assertCanWrite;const newNotFoundError=()=>new DOMException("A requested file or directory could not be found at the time an operation was processed.","NotFoundError");t.newNotFoundError=newNotFoundError;const newTypeMismatchError=()=>new DOMException("The path supplied exists, but was not an entry of requested type.","TypeMismatchError");t.newTypeMismatchError=newTypeMismatchError;const newNotAllowedError=()=>new DOMException("Permission not granted.","NotAllowedError");t.newNotAllowedError=newNotAllowedError},339:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.File=t.Link=t.Node=t.SEP=void 0;const i=r(426);const n=r(453);const s=r(992);const o=r(361);const a=r(441);const{S_IFMT:c,S_IFDIR:l,S_IFREG:f,S_IFLNK:u,O_APPEND:h}=s.constants;const getuid=()=>{var e,t;return(t=(e=i.default.getuid)===null||e===void 0?void 0:e.call(i.default))!==null&&t!==void 0?t:0};const getgid=()=>{var e,t;return(t=(e=i.default.getgid)===null||e===void 0?void 0:e.call(i.default))!==null&&t!==void 0?t:0};t.SEP="/";class Node extends o.EventEmitter{constructor(e,t=438){super();this._uid=getuid();this._gid=getgid();this._atime=new Date;this._mtime=new Date;this._ctime=new Date;this._perm=438;this.mode=f;this._nlink=1;this._perm=t;this.mode|=t;this.ino=e}set ctime(e){this._ctime=e}get ctime(){return this._ctime}set uid(e){this._uid=e;this.ctime=new Date}get uid(){return this._uid}set gid(e){this._gid=e;this.ctime=new Date}get gid(){return this._gid}set atime(e){this._atime=e;this.ctime=new Date}get atime(){return this._atime}set mtime(e){this._mtime=e;this.ctime=new Date}get mtime(){return this._mtime}set perm(e){this._perm=e;this.ctime=new Date}get perm(){return this._perm}set nlink(e){this._nlink=e;this.ctime=new Date}get nlink(){return this._nlink}getString(e="utf8"){this.atime=new Date;return this.getBuffer().toString(e)}setString(e){this.buf=(0,n.bufferFrom)(e,"utf8");this.touch()}getBuffer(){this.atime=new Date;if(!this.buf)this.setBuffer((0,n.bufferAllocUnsafe)(0));return(0,n.bufferFrom)(this.buf)}setBuffer(e){this.buf=(0,n.bufferFrom)(e);this.touch()}getSize(){return this.buf?this.buf.length:0}setModeProperty(e){this.mode=this.mode&~c|e}setIsFile(){this.setModeProperty(f)}setIsDirectory(){this.setModeProperty(l)}setIsSymlink(){this.setModeProperty(u)}isFile(){return(this.mode&c)===f}isDirectory(){return(this.mode&c)===l}isSymlink(){return(this.mode&c)===u}makeSymlink(e){this.symlink=e;this.setIsSymlink()}write(e,t=0,r=e.length,i=0){if(!this.buf)this.buf=(0,n.bufferAllocUnsafe)(0);if(i+r>this.buf.length){const e=(0,n.bufferAllocUnsafe)(i+r);this.buf.copy(e,0,0,this.buf.length);this.buf=e}e.copy(this.buf,i,t,t+r);this.touch();return r}read(e,t=0,r=e.byteLength,i=0){this.atime=new Date;if(!this.buf)this.buf=(0,n.bufferAllocUnsafe)(0);let s=r;if(s>e.byteLength){s=e.byteLength}if(s+i>this.buf.length){s=this.buf.length-i}const o=e instanceof n.Buffer?e:n.Buffer.from(e.buffer);this.buf.copy(o,t,i,i+s);return s}truncate(e=0){if(!e)this.buf=(0,n.bufferAllocUnsafe)(0);else{if(!this.buf)this.buf=(0,n.bufferAllocUnsafe)(0);if(e<=this.buf.length){this.buf=this.buf.slice(0,e)}else{const t=(0,n.bufferAllocUnsafe)(e);this.buf.copy(t);t.fill(0,this.buf.length);this.buf=t}}this.touch()}chmod(e){this.perm=e;this.mode=this.mode&~511|e;this.touch()}chown(e,t){this.uid=e;this.gid=t;this.touch()}touch(){this.mtime=new Date;this.emit("change",this)}canRead(e=getuid(),t=getgid()){if(this.perm&4){return true}if(t===this.gid){if(this.perm&32){return true}}if(e===this.uid){if(this.perm&256){return true}}return false}canWrite(e=getuid(),t=getgid()){if(this.perm&2){return true}if(t===this.gid){if(this.perm&16){return true}}if(e===this.uid){if(this.perm&128){return true}}return false}canExecute(e=getuid(),t=getgid()){if(this.perm&1){return true}if(t===this.gid){if(this.perm&8){return true}}if(e===this.uid){if(this.perm&64){return true}}return false}del(){this.emit("delete",this)}toJSON(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}}}t.Node=Node;class Link extends o.EventEmitter{get steps(){return this._steps}set steps(e){this._steps=e;for(const[e,t]of this.children.entries()){if(e==="."||e===".."){continue}t===null||t===void 0?void 0:t.syncSteps()}}constructor(e,t,r){super();this.children=new Map;this._steps=[];this.ino=0;this.length=0;this.vol=e;this.parent=t;this.name=r;this.syncSteps()}setNode(e){this.node=e;this.ino=e.ino}getNode(){return this.node}createChild(e,t=this.vol.createNode()){const r=new Link(this.vol,this,e);r.setNode(t);if(t.isDirectory()){r.children.set(".",r);r.getNode().nlink++}this.setChild(e,r);return r}setChild(e,t=new Link(this.vol,this,e)){this.children.set(e,t);t.parent=this;this.length++;const r=t.getNode();if(r.isDirectory()){t.children.set("..",this);this.getNode().nlink++}this.getNode().mtime=new Date;this.emit("child:add",t,this);return t}deleteChild(e){const t=e.getNode();if(t.isDirectory()){e.children.delete("..");this.getNode().nlink--}this.children.delete(e.getName());this.length--;this.getNode().mtime=new Date;this.emit("child:delete",e,this)}getChild(e){this.getNode().mtime=new Date;return this.children.get(e)}getPath(){return this.steps.join(t.SEP)}getParentPath(){return this.steps.slice(0,-1).join(t.SEP)}getName(){return this.steps[this.steps.length-1]}toJSON(){return{steps:this.steps,ino:this.ino,children:Array.from(this.children.keys())}}syncSteps(){this.steps=this.parent?this.parent.steps.concat([this.name]):[this.name]}}t.Link=Link;class File{constructor(e,t,r,i){this.link=e;this.node=t;this.flags=r;this.fd=i;this.position=0;if(this.flags&h)this.position=this.getSize()}getString(e="utf8"){return this.node.getString()}setString(e){this.node.setString(e)}getBuffer(){return this.node.getBuffer()}setBuffer(e){this.node.setBuffer(e)}getSize(){return this.node.getSize()}truncate(e){this.node.truncate(e)}seekTo(e){this.position=e}stats(){return a.default.build(this.node)}write(e,t=0,r=e.length,i){if(typeof i!=="number")i=this.position;const n=this.node.write(e,t,r,i);this.position=i+n;return n}read(e,t=0,r=e.byteLength,i){if(typeof i!=="number")i=this.position;const n=this.node.read(e,t,r,i);this.position=i+n;return n}chmod(e){this.node.chmod(e)}chown(e,t){this.node.chown(e,t)}}t.File=File},494:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FileHandle=void 0;const i=r(615);class FileHandle{constructor(e,t){this.fs=e;this.fd=t}appendFile(e,t){return(0,i.promisify)(this.fs,"appendFile")(this.fd,e,t)}chmod(e){return(0,i.promisify)(this.fs,"fchmod")(this.fd,e)}chown(e,t){return(0,i.promisify)(this.fs,"fchown")(this.fd,e,t)}close(){return(0,i.promisify)(this.fs,"close")(this.fd)}datasync(){return(0,i.promisify)(this.fs,"fdatasync")(this.fd)}readableWebStream(e){return new ReadableStream({pull:async e=>{const t=await this.readFile();e.enqueue(t);e.close()}})}read(e,t,r,n){return(0,i.promisify)(this.fs,"read",(t=>({bytesRead:t,buffer:e})))(this.fd,e,t,r,n)}readv(e,t){return(0,i.promisify)(this.fs,"readv",(t=>({bytesRead:t,buffers:e})))(this.fd,e,t)}readFile(e){return(0,i.promisify)(this.fs,"readFile")(this.fd,e)}stat(e){return(0,i.promisify)(this.fs,"fstat")(this.fd,e)}sync(){return(0,i.promisify)(this.fs,"fsync")(this.fd)}truncate(e){return(0,i.promisify)(this.fs,"ftruncate")(this.fd,e)}utimes(e,t){return(0,i.promisify)(this.fs,"futimes")(this.fd,e,t)}write(e,t,r,n){return(0,i.promisify)(this.fs,"write",(t=>({bytesWritten:t,buffer:e})))(this.fd,e,t,r,n)}writev(e,t){return(0,i.promisify)(this.fs,"writev",(t=>({bytesWritten:t,buffers:e})))(this.fd,e,t)}writeFile(e,t){return(0,i.promisify)(this.fs,"writeFile")(this.fd,e,t)}}t.FileHandle=FileHandle},556:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FsPromises=void 0;const i=r(615);const n=r(992);class FsPromises{constructor(e,t){this.fs=e;this.FileHandle=t;this.constants=n.constants;this.cp=(0,i.promisify)(this.fs,"cp");this.opendir=(0,i.promisify)(this.fs,"opendir");this.statfs=(0,i.promisify)(this.fs,"statfs");this.lutimes=(0,i.promisify)(this.fs,"lutimes");this.access=(0,i.promisify)(this.fs,"access");this.chmod=(0,i.promisify)(this.fs,"chmod");this.chown=(0,i.promisify)(this.fs,"chown");this.copyFile=(0,i.promisify)(this.fs,"copyFile");this.lchmod=(0,i.promisify)(this.fs,"lchmod");this.lchown=(0,i.promisify)(this.fs,"lchown");this.link=(0,i.promisify)(this.fs,"link");this.lstat=(0,i.promisify)(this.fs,"lstat");this.mkdir=(0,i.promisify)(this.fs,"mkdir");this.mkdtemp=(0,i.promisify)(this.fs,"mkdtemp");this.readdir=(0,i.promisify)(this.fs,"readdir");this.readlink=(0,i.promisify)(this.fs,"readlink");this.realpath=(0,i.promisify)(this.fs,"realpath");this.rename=(0,i.promisify)(this.fs,"rename");this.rmdir=(0,i.promisify)(this.fs,"rmdir");this.rm=(0,i.promisify)(this.fs,"rm");this.stat=(0,i.promisify)(this.fs,"stat");this.symlink=(0,i.promisify)(this.fs,"symlink");this.truncate=(0,i.promisify)(this.fs,"truncate");this.unlink=(0,i.promisify)(this.fs,"unlink");this.utimes=(0,i.promisify)(this.fs,"utimes");this.readFile=(e,t)=>(0,i.promisify)(this.fs,"readFile")(e instanceof this.FileHandle?e.fd:e,t);this.appendFile=(e,t,r)=>(0,i.promisify)(this.fs,"appendFile")(e instanceof this.FileHandle?e.fd:e,t,r);this.open=(e,t="r",r)=>(0,i.promisify)(this.fs,"open",(e=>new this.FileHandle(this.fs,e)))(e,t,r);this.writeFile=(e,t,r)=>{const n=(0,i.isReadableStream)(t)?(0,i.streamToBuffer)(t):Promise.resolve(t);return n.then((t=>(0,i.promisify)(this.fs,"writeFile")(e instanceof this.FileHandle?e.fd:e,t,r)))};this.watch=()=>{throw new Error("Not implemented")}}}t.FsPromises=FsPromises},138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FLAGS=t.ERRSTR=void 0;const i=r(992);t.ERRSTR={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};const{O_RDONLY:n,O_WRONLY:s,O_RDWR:o,O_CREAT:a,O_EXCL:c,O_TRUNC:l,O_APPEND:f,O_SYNC:u}=i.constants;var h;(function(e){e[e["r"]=n]="r";e[e["r+"]=o]="r+";e[e["rs"]=n|u]="rs";e[e["sr"]=e.rs]="sr";e[e["rs+"]=o|u]="rs+";e[e["sr+"]=e["rs+"]]="sr+";e[e["w"]=s|a|l]="w";e[e["wx"]=s|a|l|c]="wx";e[e["xw"]=e.wx]="xw";e[e["w+"]=o|a|l]="w+";e[e["wx+"]=o|a|l|c]="wx+";e[e["xw+"]=e["wx+"]]="xw+";e[e["a"]=s|f|a]="a";e[e["ax"]=s|f|a|c]="ax";e[e["xa"]=e.ax]="xa";e[e["a+"]=o|f|a]="a+";e[e["ax+"]=o|f|a|c]="ax+";e[e["xa+"]=e["ax+"]]="xa+"})(h||(t.FLAGS=h={}))},565:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fsCallbackApiList=void 0;t.fsCallbackApiList=["access","appendFile","chmod","chown","close","copyFile","createReadStream","createWriteStream","exists","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","read","readv","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","unwatchFile","utimes","lutimes","watch","watchFile","write","writev","writeFile"]},62:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fsSynchronousApiList=void 0;t.fsSynchronousApiList=["accessSync","appendFileSync","chmodSync","chownSync","closeSync","copyFileSync","existsSync","fchmodSync","fchownSync","fdatasyncSync","fstatSync","fsyncSync","ftruncateSync","futimesSync","lchmodSync","lchownSync","linkSync","lstatSync","mkdirSync","mkdtempSync","openSync","readdirSync","readFileSync","readlinkSync","readSync","readvSync","realpathSync","renameSync","rmdirSync","rmSync","statSync","symlinkSync","truncateSync","unlinkSync","utimesSync","lutimesSync","writeFileSync","writeSync","writevSync"]},391:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getWriteFileOptions=t.writeFileDefaults=t.getRealpathOptsAndCb=t.getRealpathOptions=t.getStatOptsAndCb=t.getStatOptions=t.getAppendFileOptsAndCb=t.getAppendFileOpts=t.getOpendirOptsAndCb=t.getOpendirOptions=t.getReaddirOptsAndCb=t.getReaddirOptions=t.getReadFileOptions=t.getRmOptsAndCb=t.getRmdirOptions=t.getDefaultOptsAndCb=t.getDefaultOpts=t.optsDefaults=t.getMkdirOptions=void 0;t.getOptions=getOptions;t.optsGenerator=optsGenerator;t.optsAndCbGenerator=optsAndCbGenerator;const i=r(138);const n=r(456);const s=r(615);const o={mode:511,recursive:false};const getMkdirOptions=e=>{if(typeof e==="number")return Object.assign({},o,{mode:e});return Object.assign({},o,e)};t.getMkdirOptions=getMkdirOptions;const ERRSTR_OPTS=e=>`Expected options to be either an object or a string, but got ${e} instead`;function getOptions(e,t){let r;if(!t)return e;else{const i=typeof t;switch(i){case"string":r=Object.assign({},e,{encoding:t});break;case"object":r=Object.assign({},e,t);break;default:throw TypeError(ERRSTR_OPTS(i))}}if(r.encoding!=="buffer")(0,n.assertEncoding)(r.encoding);return r}function optsGenerator(e){return t=>getOptions(e,t)}function optsAndCbGenerator(e){return(t,r)=>typeof t==="function"?[e(),t]:[e(t),(0,s.validateCallback)(r)]}t.optsDefaults={encoding:"utf8"};t.getDefaultOpts=optsGenerator(t.optsDefaults);t.getDefaultOptsAndCb=optsAndCbGenerator(t.getDefaultOpts);const a={recursive:false};const getRmdirOptions=e=>Object.assign({},a,e);t.getRmdirOptions=getRmdirOptions;const c=optsGenerator(t.optsDefaults);t.getRmOptsAndCb=optsAndCbGenerator(c);const l={flag:"r"};t.getReadFileOptions=optsGenerator(l);const f={encoding:"utf8",recursive:false,withFileTypes:false};t.getReaddirOptions=optsGenerator(f);t.getReaddirOptsAndCb=optsAndCbGenerator(t.getReaddirOptions);const u={encoding:"utf8",bufferSize:32,recursive:false};t.getOpendirOptions=optsGenerator(u);t.getOpendirOptsAndCb=optsAndCbGenerator(t.getOpendirOptions);const h={encoding:"utf8",mode:438,flag:i.FLAGS[i.FLAGS.a]};t.getAppendFileOpts=optsGenerator(h);t.getAppendFileOptsAndCb=optsAndCbGenerator(t.getAppendFileOpts);const d={bigint:false};const getStatOptions=(e={})=>Object.assign({},d,e);t.getStatOptions=getStatOptions;const getStatOptsAndCb=(e,r)=>typeof e==="function"?[(0,t.getStatOptions)(),e]:[(0,t.getStatOptions)(e),(0,s.validateCallback)(r)];t.getStatOptsAndCb=getStatOptsAndCb;const p=t.optsDefaults;t.getRealpathOptions=optsGenerator(p);t.getRealpathOptsAndCb=optsAndCbGenerator(t.getRealpathOptions);t.writeFileDefaults={encoding:"utf8",mode:438,flag:i.FLAGS[i.FLAGS.w]};t.getWriteFileOptions=optsGenerator(t.writeFileDefaults)},615:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.unixify=t.getWriteSyncArgs=t.getWriteArgs=t.bufToUint8=t.isWin=void 0;t.promisify=promisify;t.validateCallback=validateCallback;t.modeToNumber=modeToNumber;t.nullCheck=nullCheck;t.pathToFilename=pathToFilename;t.createError=createError;t.genRndStr6=genRndStr6;t.flagsToNumber=flagsToNumber;t.isFd=isFd;t.validateFd=validateFd;t.streamToBuffer=streamToBuffer;t.dataToBuffer=dataToBuffer;t.bufferToEncoding=bufferToEncoding;t.isReadableStream=isReadableStream;const i=r(138);const n=r(640);const s=r(453);const o=r(456);const a=r(453);const c=r(405);t.isWin=process.platform==="win32";function promisify(e,t,r=(e=>e)){return(...i)=>new Promise(((n,s)=>{e[t].bind(e)(...i,((e,t)=>{if(e)return s(e);return n(r(t))}))}))}function validateCallback(e){if(typeof e!=="function")throw TypeError(i.ERRSTR.CB);return e}function _modeToNumber(e,t){if(typeof e==="number")return e;if(typeof e==="string")return parseInt(e,8);if(t)return modeToNumber(t);return undefined}function modeToNumber(e,t){const r=_modeToNumber(e,t);if(typeof r!=="number"||isNaN(r))throw new TypeError(i.ERRSTR.MODE_INT);return r}function nullCheck(e,t){if((""+e).indexOf("\0")!==-1){const e=new Error("Path must be a string without null bytes");e.code="ENOENT";if(typeof t!=="function")throw e;(0,c.default)((()=>{t(e)}));return false}return true}function getPathFromURLPosix(e){if(e.hostname!==""){throw new n.TypeError("ERR_INVALID_FILE_URL_HOST",process.platform)}const t=e.pathname;for(let e=0;e<t.length;e++){if(t[e]==="%"){const r=t.codePointAt(e+2)|32;if(t[e+1]==="2"&&r===102){throw new n.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}}}return decodeURIComponent(t)}function pathToFilename(e){if(typeof e!=="string"&&!s.Buffer.isBuffer(e)){try{if(!(e instanceof r(310).URL))throw new TypeError(i.ERRSTR.PATH_STR)}catch(e){throw new TypeError(i.ERRSTR.PATH_STR)}e=getPathFromURLPosix(e)}const t=String(e);nullCheck(t);return t}const l="ENOENT";const f="EBADF";const u="EINVAL";const h="EPERM";const d="EPROTO";const p="EEXIST";const m="ENOTDIR";const y="EMFILE";const g="EACCES";const _="EISDIR";const b="ENOTEMPTY";const w="ENOSYS";const S="ERR_FS_EISDIR";const T="ERR_OUT_OF_RANGE";function formatError(e,t="",r="",i=""){let n="";if(r)n=` '${r}'`;if(i)n+=` -> '${i}'`;switch(e){case l:return`ENOENT: no such file or directory, ${t}${n}`;case f:return`EBADF: bad file descriptor, ${t}${n}`;case u:return`EINVAL: invalid argument, ${t}${n}`;case h:return`EPERM: operation not permitted, ${t}${n}`;case d:return`EPROTO: protocol error, ${t}${n}`;case p:return`EEXIST: file already exists, ${t}${n}`;case m:return`ENOTDIR: not a directory, ${t}${n}`;case _:return`EISDIR: illegal operation on a directory, ${t}${n}`;case g:return`EACCES: permission denied, ${t}${n}`;case b:return`ENOTEMPTY: directory not empty, ${t}${n}`;case y:return`EMFILE: too many open files, ${t}${n}`;case w:return`ENOSYS: function not implemented, ${t}${n}`;case S:return`[ERR_FS_EISDIR]: Path is a directory: ${t} returned EISDIR (is a directory) ${r}`;case T:return`[ERR_OUT_OF_RANGE]: value out of range, ${t}${n}`;default:return`${e}: error occurred, ${t}${n}`}}function createError(e,t="",r="",i="",n=Error){const s=new n(formatError(e,t,r,i));s.code=e;if(r){s.path=r}return s}function genRndStr6(){const e=(Math.random()+1).toString(36).substring(2,8);if(e.length===6)return e;else return genRndStr6()}function flagsToNumber(e){if(typeof e==="number")return e;if(typeof e==="string"){const t=i.FLAGS[e];if(typeof t!=="undefined")return t}throw new n.TypeError("ERR_INVALID_OPT_VALUE","flags",e)}function isFd(e){return e>>>0===e}function validateFd(e){if(!isFd(e))throw TypeError(i.ERRSTR.FD)}function streamToBuffer(e){const t=[];return new Promise(((r,i)=>{e.on("data",(e=>t.push(e)));e.on("end",(()=>r(s.Buffer.concat(t))));e.on("error",i)}))}function dataToBuffer(e,t=o.ENCODING_UTF8){if(s.Buffer.isBuffer(e))return e;else if(e instanceof Uint8Array)return(0,a.bufferFrom)(e);else return(0,a.bufferFrom)(String(e),t)}const bufToUint8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.bufToUint8=bufToUint8;const getWriteArgs=(e,t,r,i,n,s)=>{validateFd(e);let o=0;let a;let c=null;let l;let f;const u=typeof t;const h=typeof r;const d=typeof i;const p=typeof n;if(u!=="string"){if(h==="function"){f=r}else if(d==="function"){o=r|0;f=i}else if(p==="function"){o=r|0;a=i;f=n}else{o=r|0;a=i;c=n;f=s}}else{if(h==="function"){f=r}else if(d==="function"){c=r;f=i}else if(p==="function"){c=r;l=i;f=n}}const m=dataToBuffer(t,l);if(u!=="string"){if(typeof a==="undefined")a=m.length}else{o=0;a=m.length}const y=validateCallback(f);return[e,u==="string",m,o,a,c,y]};t.getWriteArgs=getWriteArgs;const getWriteSyncArgs=(e,t,r,i,n)=>{validateFd(e);let s;let o;let a;let c;const l=typeof t!=="string";if(l){o=(r||0)|0;a=i;c=n}else{c=r;s=i}const f=dataToBuffer(t,s);if(l){if(typeof a==="undefined"){a=f.length}}else{o=0;a=f.length}return[e,f,o||0,a,c]};t.getWriteSyncArgs=getWriteSyncArgs;function bufferToEncoding(e,t){if(!t||t==="buffer")return e;else return e.toString(t)}function isReadableStream(e){return e!==null&&typeof e==="object"&&typeof e.pipe==="function"&&typeof e.on==="function"&&e.readable===true}const isSeparator=(e,r)=>{let i=e[r];return r>0&&(i==="/"||t.isWin&&i==="\\")};const removeTrailingSeparator=e=>{let t=e.length-1;if(t<2)return e;while(isSeparator(e,t))t--;return e.substr(0,t+1)};const normalizePath=(e,t)=>{if(typeof e!=="string")throw new TypeError("expected a string");e=e.replace(/[\\\/]+/g,"/");if(t!==false)e=removeTrailingSeparator(e);return e};const unixify=(e,r=true)=>{if(t.isWin){e=normalizePath(e,r);return e.replace(/^([a-zA-Z]+:|\.\/)/,"")}return e};t.unixify=unixify},362:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toTreeSync=void 0;const i=r(922);const n=r(497);const toTreeSync=(e,r={})=>{var s;const o=r.separator||"/";let a=r.dir||o;if(a[a.length-1]!==o)a+=o;const c=r.tab||"";const l=(s=r.depth)!==null&&s!==void 0?s:10;let f=" (...)";if(l>0){const r=e.readdirSync(a,{withFileTypes:true});f=(0,i.printTree)(c,r.map((r=>i=>{if(r.isDirectory()){return(0,t.toTreeSync)(e,{dir:a+r.name,depth:l-1,tab:i})}else if(r.isSymbolicLink()){return""+r.name+" → "+e.readlinkSync(a+r.name)}else{return""+r.name}})))}const u=(0,n.basename)(a,o)+o;return u+f};t.toTreeSync=toTreeSync},426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createProcess=createProcess;const maybeReturnProcess=()=>{if(typeof process!=="undefined"){return process}try{return r(282)}catch(e){return undefined}};function createProcess(){const e=maybeReturnProcess()||{};if(!e.cwd)e.cwd=()=>"/";if(!e.emitWarning)e.emitWarning=(e,t)=>{console.warn(`${t}${t?": ":""}${e}`)};if(!e.env)e.env={};return e}t["default"]=createProcess()},405:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=typeof queueMicrotask==="function"?queueMicrotask:e=>Promise.resolve().then((()=>e())).catch((()=>{}))},942:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});let r;if(typeof setImmediate==="function")r=setImmediate.bind(typeof globalThis!=="undefined"?globalThis:global);else r=setTimeout.bind(typeof globalThis!=="undefined"?globalThis:global);t["default"]=r},595:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function setTimeoutUnref(e,t,r){const i=setTimeout.apply(typeof globalThis!=="undefined"?globalThis:global,arguments);if(i&&typeof i==="object"&&typeof i.unref==="function")i.unref();return i}t["default"]=setTimeoutUnref},431:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FSWatcher=t.StatWatcher=t.Volume=void 0;t.filenameToSteps=filenameToSteps;t.pathToSteps=pathToSteps;t.dataToStr=dataToStr;t.toUnixTimestamp=toUnixTimestamp;const i=r(17);const n=r(339);const s=r(441);const o=r(32);const a=r(453);const c=r(942);const l=r(405);const f=r(426);const u=r(595);const h=r(781);const d=r(992);const p=r(361);const m=r(456);const y=r(494);const g=r(837);const _=r(556);const b=r(362);const w=r(138);const S=r(391);const T=r(615);const O=r(57);const R=i.resolve;const{O_RDONLY:F,O_WRONLY:v,O_RDWR:N,O_CREAT:k,O_EXCL:A,O_TRUNC:I,O_APPEND:B,O_DIRECTORY:L,O_SYMLINK:C,F_OK:P,COPYFILE_EXCL:D,COPYFILE_FICLONE_FORCE:x}=d.constants;const{sep:j,relative:M,join:U,dirname:W}=i.posix?i.posix:i;const $=128;const G="EPERM";const V="ENOENT";const K="EBADF";const Y="EINVAL";const H="EEXIST";const q="ENOTDIR";const J="EMFILE";const X="EACCES";const z="EISDIR";const Z="ENOTEMPTY";const Q="ENOSYS";const ee="ERR_FS_EISDIR";const te="ERR_OUT_OF_RANGE";let resolve=(e,t=f.default.cwd())=>R(t,e);if(T.isWin){const e=resolve;resolve=(t,r)=>(0,T.unixify)(e(t,r))}function filenameToSteps(e,t){const r=resolve(e,t);const i=r.substring(1);if(!i)return[];return i.split(j)}function pathToSteps(e){return filenameToSteps((0,T.pathToFilename)(e))}function dataToStr(e,t=m.ENCODING_UTF8){if(a.Buffer.isBuffer(e))return e.toString(t);else if(e instanceof Uint8Array)return(0,a.bufferFrom)(e).toString(t);else return String(e)}function toUnixTimestamp(e){if(typeof e==="string"&&+e==e){return+e}if(e instanceof Date){return e.getTime()/1e3}if(isFinite(e)){if(e<0){return Date.now()/1e3}return e}throw new Error("Cannot parse time: "+e)}function validateUid(e){if(typeof e!=="number")throw TypeError(w.ERRSTR.UID)}function validateGid(e){if(typeof e!=="number")throw TypeError(w.ERRSTR.GID)}function flattenJSON(e){const t={};function flatten(e,r){for(const i in r){const n=r[i];const s=U(e,i);if(typeof n==="string"||n instanceof a.Buffer){t[s]=n}else if(typeof n==="object"&&n!==null&&Object.keys(n).length>0){flatten(s,n)}else{t[s]=null}}}flatten("",e);return t}const notImplemented=()=>{throw new Error("Not implemented")};class Volume{static fromJSON(e,t){const r=new Volume;r.fromJSON(e,t);return r}static fromNestedJSON(e,t){const r=new Volume;r.fromNestedJSON(e,t);return r}get promises(){if(this.promisesApi===null)throw new Error("Promise is not supported in this environment.");return this.promisesApi}constructor(e={}){this.ino=0;this.inodes={};this.releasedInos=[];this.fds={};this.releasedFds=[];this.maxFiles=1e4;this.openFiles=0;this.promisesApi=new _.FsPromises(this,y.FileHandle);this.statWatchers={};this.cpSync=notImplemented;this.statfsSync=notImplemented;this.cp=notImplemented;this.statfs=notImplemented;this.openAsBlob=notImplemented;this.props=Object.assign({Node:n.Node,Link:n.Link,File:n.File},e);const t=this.createLink();t.setNode(this.createNode(true));const r=this;this.StatWatcher=class extends StatWatcher{constructor(){super(r)}};const i=FsReadStream;this.ReadStream=class extends i{constructor(...e){super(r,...e)}};const s=FsWriteStream;this.WriteStream=class extends s{constructor(...e){super(r,...e)}};this.FSWatcher=class extends FSWatcher{constructor(){super(r)}};t.setChild(".",t);t.getNode().nlink++;t.setChild("..",t);t.getNode().nlink++;this.root=t}createLink(e,t,r=false,i){if(!e){return new this.props.Link(this,null,"")}if(!t){throw new Error("createLink: name cannot be empty")}return e.createChild(t,this.createNode(r,i))}deleteLink(e){const t=e.parent;if(t){t.deleteChild(e);return true}return false}newInoNumber(){const e=this.releasedInos.pop();if(e)return e;else{this.ino=(this.ino+1)%4294967295;return this.ino}}newFdNumber(){const e=this.releasedFds.pop();return typeof e==="number"?e:Volume.fd--}createNode(e=false,t){t!==null&&t!==void 0?t:t=e?511:438;const r=new this.props.Node(this.newInoNumber(),t);if(e)r.setIsDirectory();this.inodes[r.ino]=r;return r}deleteNode(e){e.del();delete this.inodes[e.ino];this.releasedInos.push(e.ino)}walk(e,t=false,r=false,i=false,s){var o;let a;let c;if(e instanceof n.Link){a=e.steps;c=j+a.join(j)}else if(typeof e==="string"){a=filenameToSteps(e);c=e}else{a=e;c=j+a.join(j)}let l=this.root;let f=0;while(f<a.length){let e=l.getNode();if(e.isDirectory()){if(i&&!e.canExecute()){throw(0,T.createError)(X,s,c)}}else{if(f<a.length-1)throw(0,T.createError)(q,s,c)}l=(o=l.getChild(a[f]))!==null&&o!==void 0?o:null;if(!l)if(r)throw(0,T.createError)(V,s,c);else return null;e=l===null||l===void 0?void 0:l.getNode();if(t&&e.isSymlink()){a=e.symlink.concat(a.slice(f+1));l=this.root;f=0;continue}f++}return l}getLink(e){return this.walk(e,false,false,false)}getLinkOrThrow(e,t){return this.walk(e,false,true,true,t)}getResolvedLink(e){return this.walk(e,true,false,false)}getResolvedLinkOrThrow(e,t){return this.walk(e,true,true,true,t)}resolveSymlinks(e){return this.getResolvedLink(e.steps.slice(1))}getLinkAsDirOrThrow(e,t){const r=this.getLinkOrThrow(e,t);if(!r.getNode().isDirectory())throw(0,T.createError)(q,t,e);return r}getLinkParent(e){return this.getLink(e.slice(0,-1))}getLinkParentAsDirOrThrow(e,t){const r=(e instanceof Array?e:filenameToSteps(e)).slice(0,-1);const i=j+r.join(j);const n=this.getLinkOrThrow(i,t);if(!n.getNode().isDirectory())throw(0,T.createError)(q,t,i);return n}getFileByFd(e){return this.fds[String(e)]}getFileByFdOrThrow(e,t){if(!(0,T.isFd)(e))throw TypeError(w.ERRSTR.FD);const r=this.getFileByFd(e);if(!r)throw(0,T.createError)(K,t);return r}wrapAsync(e,t,r){(0,T.validateCallback)(r);(0,c.default)((()=>{let i;try{i=e.apply(this,t)}catch(e){r(e);return}r(null,i)}))}_toJSON(e=this.root,t={},r,i){let n=true;let s=e.children;if(e.getNode().isFile()){s=new Map([[e.getName(),e.parent.getChild(e.getName())]]);e=e.parent}for(const o of s.keys()){if(o==="."||o===".."){continue}n=false;const s=e.getChild(o);if(!s){throw new Error("_toJSON: unexpected undefined")}const a=s.getNode();if(a.isFile()){let e=s.getPath();if(r)e=M(r,e);t[e]=i?a.getBuffer():a.getString()}else if(a.isDirectory()){this._toJSON(s,t,r,i)}}let o=e.getPath();if(r)o=M(r,o);if(o&&n){t[o]=null}return t}toJSON(e,t={},r=false,i=false){const n=[];if(e){if(!Array.isArray(e))e=[e];for(const t of e){const e=(0,T.pathToFilename)(t);const r=this.getResolvedLink(e);if(!r)continue;n.push(r)}}else{n.push(this.root)}if(!n.length)return t;for(const e of n)this._toJSON(e,t,r?e.getPath():"",i);return t}fromJSON(e,t=f.default.cwd()){for(let r in e){const i=e[r];r=resolve(r,t);if(typeof i==="string"||i instanceof a.Buffer){const e=W(r);this.mkdirpBase(e,511);this.writeFileSync(r,i)}else{this.mkdirpBase(r,511)}}}fromNestedJSON(e,t){this.fromJSON(flattenJSON(e),t)}toTree(e={separator:j}){return(0,b.toTreeSync)(this,e)}reset(){this.ino=0;this.inodes={};this.releasedInos=[];this.fds={};this.releasedFds=[];this.openFiles=0;this.root=this.createLink();this.root.setNode(this.createNode(true))}mountSync(e,t){this.fromJSON(t,e)}openLink(e,t,r=true){if(this.openFiles>=this.maxFiles){throw(0,T.createError)(J,"open",e.getPath())}let i=e;if(r)i=this.getResolvedLinkOrThrow(e.getPath(),"open");const n=i.getNode();if(n.isDirectory()){if((t&(F|N|v))!==F)throw(0,T.createError)(z,"open",e.getPath())}else{if(t&L)throw(0,T.createError)(q,"open",e.getPath())}if(!(t&v)){if(!n.canRead()){throw(0,T.createError)(X,"open",e.getPath())}}if(!(t&F)){if(!n.canWrite()){throw(0,T.createError)(X,"open",e.getPath())}}const s=new this.props.File(e,n,t,this.newFdNumber());this.fds[s.fd]=s;this.openFiles++;if(t&I)s.truncate();return s}openFile(e,t,r,n=true){const s=filenameToSteps(e);let o;try{o=n?this.getResolvedLinkOrThrow(e,"open"):this.getLinkOrThrow(e,"open");if(o&&t&k&&t&A)throw(0,T.createError)(H,"open",e)}catch(n){if(n.code===V&&t&k){const t=i.dirname(e);const n=this.getResolvedLinkOrThrow(t);const a=n.getNode();if(!a.isDirectory())throw(0,T.createError)(q,"open",e);if(!a.canExecute()||!a.canWrite())throw(0,T.createError)(X,"open",e);r!==null&&r!==void 0?r:r=438;o=this.createLink(n,s[s.length-1],false,r)}else throw n}if(o)return this.openLink(o,t,n);throw(0,T.createError)(V,"open",e)}openBase(e,t,r,i=true){const n=this.openFile(e,t,r,i);if(!n)throw(0,T.createError)(V,"open",e);return n.fd}openSync(e,t,r=438){const i=(0,T.modeToNumber)(r);const n=(0,T.pathToFilename)(e);const s=(0,T.flagsToNumber)(t);return this.openBase(n,s,i,!(s&C))}open(e,t,r,i){let n=r;let s=i;if(typeof r==="function"){n=438;s=r}n=n||438;const o=(0,T.modeToNumber)(n);const a=(0,T.pathToFilename)(e);const c=(0,T.flagsToNumber)(t);this.wrapAsync(this.openBase,[a,c,o,!(c&C)],s)}closeFile(e){if(!this.fds[e.fd])return;this.openFiles--;delete this.fds[e.fd];this.releasedFds.push(e.fd)}closeSync(e){(0,T.validateFd)(e);const t=this.getFileByFdOrThrow(e,"close");this.closeFile(t)}close(e,t){(0,T.validateFd)(e);this.wrapAsync(this.closeSync,[e],t)}openFileOrGetById(e,t,r){if(typeof e==="number"){const t=this.fds[e];if(!t)throw(0,T.createError)(V);return t}else{return this.openFile((0,T.pathToFilename)(e),t,r)}}readBase(e,t,r,i,n){if(t.byteLength<i){throw(0,T.createError)(te,"read",undefined,undefined,RangeError)}const s=this.getFileByFdOrThrow(e);if(s.node.isSymlink()){throw(0,T.createError)(G,"read",s.link.getPath())}return s.read(t,Number(r),Number(i),n===-1||typeof n!=="number"?undefined:n)}readSync(e,t,r,i,n){(0,T.validateFd)(e);return this.readBase(e,t,r,i,n)}read(e,t,r,i,n,s){(0,T.validateCallback)(s);if(i===0){return(0,l.default)((()=>{if(s)s(null,0,t)}))}(0,c.default)((()=>{try{const o=this.readBase(e,t,r,i,n);s(null,o,t)}catch(e){s(e)}}))}readvBase(e,t,r){const i=this.getFileByFdOrThrow(e);let n=r!==null&&r!==void 0?r:undefined;if(n===-1){n=undefined}let s=0;for(const e of t){const t=i.read(e,0,e.byteLength,n);n=undefined;s+=t;if(t<e.byteLength)break}return s}readv(e,t,r,i){let n=r;let s=i;if(typeof r==="function"){n=null;s=r}(0,T.validateCallback)(s);(0,c.default)((()=>{try{const r=this.readvBase(e,t,n);s(null,r,t)}catch(e){s(e)}}))}readvSync(e,t,r){(0,T.validateFd)(e);return this.readvBase(e,t,r)}readFileBase(e,t,r){let i;const n=typeof e==="number";const s=n&&(0,T.isFd)(e);let o;if(s)o=e;else{const r=(0,T.pathToFilename)(e);const i=this.getResolvedLinkOrThrow(r,"open");const n=i.getNode();if(n.isDirectory())throw(0,T.createError)(z,"open",i.getPath());o=this.openSync(e,t)}try{i=(0,T.bufferToEncoding)(this.getFileByFdOrThrow(o).getBuffer(),r)}finally{if(!s){this.closeSync(o)}}return i}readFileSync(e,t){const r=(0,S.getReadFileOptions)(t);const i=(0,T.flagsToNumber)(r.flag);return this.readFileBase(e,i,r.encoding)}readFile(e,t,r){const[i,n]=(0,S.optsAndCbGenerator)(S.getReadFileOptions)(t,r);const s=(0,T.flagsToNumber)(i.flag);this.wrapAsync(this.readFileBase,[e,s,i.encoding],n)}writeBase(e,t,r,i,n){const s=this.getFileByFdOrThrow(e,"write");if(s.node.isSymlink()){throw(0,T.createError)(K,"write",s.link.getPath())}return s.write(t,r,i,n===-1||typeof n!=="number"?undefined:n)}writeSync(e,t,r,i,n){const[,s,o,a,c]=(0,T.getWriteSyncArgs)(e,t,r,i,n);return this.writeBase(e,s,o,a,c)}write(e,t,r,i,n,s){const[,o,a,l,f,u,h]=(0,T.getWriteArgs)(e,t,r,i,n,s);(0,c.default)((()=>{try{const r=this.writeBase(e,a,l,f,u);if(!o){h(null,r,a)}else{h(null,r,t)}}catch(e){h(e)}}))}writevBase(e,t,r){const i=this.getFileByFdOrThrow(e);let n=r!==null&&r!==void 0?r:undefined;if(n===-1){n=undefined}let s=0;for(const e of t){const t=a.Buffer.from(e.buffer,e.byteOffset,e.byteLength);const r=i.write(t,0,t.byteLength,n);n=undefined;s+=r;if(r<t.byteLength)break}return s}writev(e,t,r,i){let n=r;let s=i;if(typeof r==="function"){n=null;s=r}(0,T.validateCallback)(s);(0,c.default)((()=>{try{const r=this.writevBase(e,t,n);s(null,r,t)}catch(e){s(e)}}))}writevSync(e,t,r){(0,T.validateFd)(e);return this.writevBase(e,t,r)}writeFileBase(e,t,r,i){const n=typeof e==="number";let s;if(n)s=e;else{s=this.openBase((0,T.pathToFilename)(e),r,i)}let o=0;let a=t.length;let c=r&B?undefined:0;try{while(a>0){const e=this.writeSync(s,t,o,a,c);o+=e;a-=e;if(c!==undefined)c+=e}}finally{if(!n)this.closeSync(s)}}writeFileSync(e,t,r){const i=(0,S.getWriteFileOptions)(r);const n=(0,T.flagsToNumber)(i.flag);const s=(0,T.modeToNumber)(i.mode);const o=(0,T.dataToBuffer)(t,i.encoding);this.writeFileBase(e,o,n,s)}writeFile(e,t,r,i){let n=r;let s=i;if(typeof r==="function"){n=S.writeFileDefaults;s=r}const o=(0,T.validateCallback)(s);const a=(0,S.getWriteFileOptions)(n);const c=(0,T.flagsToNumber)(a.flag);const l=(0,T.modeToNumber)(a.mode);const f=(0,T.dataToBuffer)(t,a.encoding);this.wrapAsync(this.writeFileBase,[e,f,c,l],o)}linkBase(e,t){let r;try{r=this.getLinkOrThrow(e,"link")}catch(r){if(r.code)r=(0,T.createError)(r.code,"link",e,t);throw r}const n=i.dirname(t);let s;try{s=this.getLinkOrThrow(n,"link")}catch(r){if(r.code)r=(0,T.createError)(r.code,"link",e,t);throw r}const o=i.basename(t);if(s.getChild(o))throw(0,T.createError)(H,"link",e,t);const a=r.getNode();a.nlink++;s.createChild(o,a)}copyFileBase(e,t,r){const i=this.readFileSync(e);if(r&D){if(this.existsSync(t)){throw(0,T.createError)(H,"copyFile",e,t)}}if(r&x){throw(0,T.createError)(Q,"copyFile",e,t)}this.writeFileBase(t,i,w.FLAGS.w,438)}copyFileSync(e,t,r){const i=(0,T.pathToFilename)(e);const n=(0,T.pathToFilename)(t);return this.copyFileBase(i,n,(r||0)|0)}copyFile(e,t,r,i){const n=(0,T.pathToFilename)(e);const s=(0,T.pathToFilename)(t);let o;let a;if(typeof r==="function"){o=0;a=r}else{o=r;a=i}(0,T.validateCallback)(a);this.wrapAsync(this.copyFileBase,[n,s,o],a)}linkSync(e,t){const r=(0,T.pathToFilename)(e);const i=(0,T.pathToFilename)(t);this.linkBase(r,i)}link(e,t,r){const i=(0,T.pathToFilename)(e);const n=(0,T.pathToFilename)(t);this.wrapAsync(this.linkBase,[i,n],r)}unlinkBase(e){const t=this.getLinkOrThrow(e,"unlink");if(t.length)throw Error("Dir not empty...");this.deleteLink(t);const r=t.getNode();r.nlink--;if(r.nlink<=0){this.deleteNode(r)}}unlinkSync(e){const t=(0,T.pathToFilename)(e);this.unlinkBase(t)}unlink(e,t){const r=(0,T.pathToFilename)(e);this.wrapAsync(this.unlinkBase,[r],t)}symlinkBase(e,t){const r=filenameToSteps(t);let i;try{i=this.getLinkParentAsDirOrThrow(r)}catch(r){if(r.code)r=(0,T.createError)(r.code,"symlink",e,t);throw r}const n=r[r.length-1];if(i.getChild(n))throw(0,T.createError)(H,"symlink",e,t);const s=i.getNode();if(!s.canExecute()||!s.canWrite())throw(0,T.createError)(X,"symlink",e,t);const o=i.createChild(n);o.getNode().makeSymlink(filenameToSteps(e));return o}symlinkSync(e,t,r){const i=(0,T.pathToFilename)(e);const n=(0,T.pathToFilename)(t);this.symlinkBase(i,n)}symlink(e,t,r,i){const n=(0,T.validateCallback)(typeof r==="function"?r:i);const s=(0,T.pathToFilename)(e);const o=(0,T.pathToFilename)(t);this.wrapAsync(this.symlinkBase,[s,o],n)}realpathBase(e,t){debugger;const r=this.getResolvedLinkOrThrow(e,"realpath");return(0,m.strToEncoding)(r.getPath()||"/",t)}realpathSync(e,t){return this.realpathBase((0,T.pathToFilename)(e),(0,S.getRealpathOptions)(t).encoding)}realpath(e,t,r){const[i,n]=(0,S.getRealpathOptsAndCb)(t,r);const s=(0,T.pathToFilename)(e);this.wrapAsync(this.realpathBase,[s,i.encoding],n)}lstatBase(e,t=false,r=false){let i;try{i=this.getLinkOrThrow(e,"lstat")}catch(e){if(e.code===V&&!r)return undefined;else throw e}return s.default.build(i.getNode(),t)}lstatSync(e,t){const{throwIfNoEntry:r=true,bigint:i=false}=(0,S.getStatOptions)(t);return this.lstatBase((0,T.pathToFilename)(e),i,r)}lstat(e,t,r){const[{throwIfNoEntry:i=true,bigint:n=false},s]=(0,S.getStatOptsAndCb)(t,r);this.wrapAsync(this.lstatBase,[(0,T.pathToFilename)(e),n,i],s)}statBase(e,t=false,r=true){let i;try{i=this.getResolvedLinkOrThrow(e,"stat")}catch(e){if(e.code===V&&!r)return undefined;else throw e}return s.default.build(i.getNode(),t)}statSync(e,t){const{bigint:r=true,throwIfNoEntry:i=true}=(0,S.getStatOptions)(t);return this.statBase((0,T.pathToFilename)(e),r,i)}stat(e,t,r){const[{bigint:i=false,throwIfNoEntry:n=true},s]=(0,S.getStatOptsAndCb)(t,r);this.wrapAsync(this.statBase,[(0,T.pathToFilename)(e),i,n],s)}fstatBase(e,t=false){const r=this.getFileByFd(e);if(!r)throw(0,T.createError)(K,"fstat");return s.default.build(r.node,t)}fstatSync(e,t){return this.fstatBase(e,(0,S.getStatOptions)(t).bigint)}fstat(e,t,r){const[i,n]=(0,S.getStatOptsAndCb)(t,r);this.wrapAsync(this.fstatBase,[e,i.bigint],n)}renameBase(e,t){let r;try{r=this.getResolvedLinkOrThrow(e)}catch(r){if(r.code)r=(0,T.createError)(r.code,"rename",e,t);throw r}let n;try{n=this.getLinkParentAsDirOrThrow(t)}catch(r){if(r.code)r=(0,T.createError)(r.code,"rename",e,t);throw r}const s=r.parent;const o=s.getNode();const a=n.getNode();if(!o.canExecute()||!o.canWrite()||!a.canExecute()||!a.canWrite()){throw(0,T.createError)(X,"rename",e,t)}s.deleteChild(r);const c=i.basename(t);r.name=c;r.steps=[...n.steps,c];n.setChild(r.getName(),r)}renameSync(e,t){const r=(0,T.pathToFilename)(e);const i=(0,T.pathToFilename)(t);this.renameBase(r,i)}rename(e,t,r){const i=(0,T.pathToFilename)(e);const n=(0,T.pathToFilename)(t);this.wrapAsync(this.renameBase,[i,n],r)}existsBase(e){return!!this.statBase(e)}existsSync(e){try{return this.existsBase((0,T.pathToFilename)(e))}catch(e){return false}}exists(e,t){const r=(0,T.pathToFilename)(e);if(typeof t!=="function")throw Error(w.ERRSTR.CB);(0,c.default)((()=>{try{t(this.existsBase(r))}catch(e){t(false)}}))}accessBase(e,t){const r=this.getLinkOrThrow(e,"access")}accessSync(e,t=P){const r=(0,T.pathToFilename)(e);t=t|0;this.accessBase(r,t)}access(e,t,r){let i=P;let n;if(typeof t!=="function"){i=t|0;n=(0,T.validateCallback)(r)}else{n=t}const s=(0,T.pathToFilename)(e);this.wrapAsync(this.accessBase,[s,i],n)}appendFileSync(e,t,r){const i=(0,S.getAppendFileOpts)(r);if(!i.flag||(0,T.isFd)(e))i.flag="a";this.writeFileSync(e,t,i)}appendFile(e,t,r,i){const[n,s]=(0,S.getAppendFileOptsAndCb)(r,i);if(!n.flag||(0,T.isFd)(e))n.flag="a";this.writeFile(e,t,n,s)}readdirBase(e,t){const r=filenameToSteps(e);const n=this.getResolvedLinkOrThrow(e,"scandir");const s=n.getNode();if(!s.isDirectory())throw(0,T.createError)(q,"scandir",e);if(!s.canRead())throw(0,T.createError)(X,"scandir",e);const a=[];for(const e of n.children.keys()){const r=n.getChild(e);if(!r||e==="."||e==="..")continue;a.push(o.default.build(r,t.encoding));if(t.recursive&&r.children.size){const e=Object.assign(Object.assign({},t),{recursive:true,withFileTypes:true});const i=this.readdirBase(r.getPath(),e);a.push(...i)}}if(!T.isWin&&t.encoding!=="buffer")a.sort(((e,t)=>{if(e.name<t.name)return-1;if(e.name>t.name)return 1;return 0}));if(t.withFileTypes)return a;let c=e;if(T.isWin){c=c.replace(/\\/g,"/")}return a.map((e=>{if(t.recursive){let t=i.join(e.parentPath,e.name.toString());if(T.isWin){t=t.replace(/\\/g,"/")}return t.replace(c+i.posix.sep,"")}return e.name}))}readdirSync(e,t){const r=(0,S.getReaddirOptions)(t);const i=(0,T.pathToFilename)(e);return this.readdirBase(i,r)}readdir(e,t,r){const[i,n]=(0,S.getReaddirOptsAndCb)(t,r);const s=(0,T.pathToFilename)(e);this.wrapAsync(this.readdirBase,[s,i],n)}readlinkBase(e,t){const r=this.getLinkOrThrow(e,"readlink");const i=r.getNode();if(!i.isSymlink())throw(0,T.createError)(Y,"readlink",e);const n=j+i.symlink.join(j);return(0,m.strToEncoding)(n,t)}readlinkSync(e,t){const r=(0,S.getDefaultOpts)(t);const i=(0,T.pathToFilename)(e);return this.readlinkBase(i,r.encoding)}readlink(e,t,r){const[i,n]=(0,S.getDefaultOptsAndCb)(t,r);const s=(0,T.pathToFilename)(e);this.wrapAsync(this.readlinkBase,[s,i.encoding],n)}fsyncBase(e){this.getFileByFdOrThrow(e,"fsync")}fsyncSync(e){this.fsyncBase(e)}fsync(e,t){this.wrapAsync(this.fsyncBase,[e],t)}fdatasyncBase(e){this.getFileByFdOrThrow(e,"fdatasync")}fdatasyncSync(e){this.fdatasyncBase(e)}fdatasync(e,t){this.wrapAsync(this.fdatasyncBase,[e],t)}ftruncateBase(e,t){const r=this.getFileByFdOrThrow(e,"ftruncate");r.truncate(t)}ftruncateSync(e,t){this.ftruncateBase(e,t)}ftruncate(e,t,r){const i=typeof t==="number"?t:0;const n=(0,T.validateCallback)(typeof t==="number"?r:t);this.wrapAsync(this.ftruncateBase,[e,i],n)}truncateBase(e,t){const r=this.openSync(e,"r+");try{this.ftruncateSync(r,t)}finally{this.closeSync(r)}}truncateSync(e,t){if((0,T.isFd)(e))return this.ftruncateSync(e,t);this.truncateBase(e,t)}truncate(e,t,r){const i=typeof t==="number"?t:0;const n=(0,T.validateCallback)(typeof t==="number"?r:t);if((0,T.isFd)(e))return this.ftruncate(e,i,n);this.wrapAsync(this.truncateBase,[e,i],n)}futimesBase(e,t,r){const i=this.getFileByFdOrThrow(e,"futimes");const n=i.node;n.atime=new Date(t*1e3);n.mtime=new Date(r*1e3)}futimesSync(e,t,r){this.futimesBase(e,toUnixTimestamp(t),toUnixTimestamp(r))}futimes(e,t,r,i){this.wrapAsync(this.futimesBase,[e,toUnixTimestamp(t),toUnixTimestamp(r)],i)}utimesBase(e,t,r,i=true){const n=i?this.getResolvedLinkOrThrow(e,"utimes"):this.getLinkOrThrow(e,"lutimes");const s=n.getNode();s.atime=new Date(t*1e3);s.mtime=new Date(r*1e3)}utimesSync(e,t,r){this.utimesBase((0,T.pathToFilename)(e),toUnixTimestamp(t),toUnixTimestamp(r),true)}utimes(e,t,r,i){this.wrapAsync(this.utimesBase,[(0,T.pathToFilename)(e),toUnixTimestamp(t),toUnixTimestamp(r),true],i)}lutimesSync(e,t,r){this.utimesBase((0,T.pathToFilename)(e),toUnixTimestamp(t),toUnixTimestamp(r),false)}lutimes(e,t,r,i){this.wrapAsync(this.utimesBase,[(0,T.pathToFilename)(e),toUnixTimestamp(t),toUnixTimestamp(r),false],i)}mkdirBase(e,t){const r=filenameToSteps(e);if(!r.length){throw(0,T.createError)(H,"mkdir",e)}const i=this.getLinkParentAsDirOrThrow(e,"mkdir");const n=r[r.length-1];if(i.getChild(n))throw(0,T.createError)(H,"mkdir",e);const s=i.getNode();if(!s.canWrite()||!s.canExecute())throw(0,T.createError)(X,"mkdir",e);i.createChild(n,this.createNode(true,t))}mkdirpBase(e,t){let r=false;const i=filenameToSteps(e);let n=null;let s=i.length;for(s=i.length;s>=0;s--){n=this.getResolvedLink(i.slice(0,s));if(n)break}if(!n){n=this.root;s=0}n=this.getResolvedLinkOrThrow(j+i.slice(0,s).join(j),"mkdir");for(s;s<i.length;s++){const o=n.getNode();if(o.isDirectory()){if(!o.canExecute()||!o.canWrite())throw(0,T.createError)(X,"mkdir",e)}else{throw(0,T.createError)(q,"mkdir",e)}r=true;n=n.createChild(i[s],this.createNode(true,t))}return r?e:undefined}mkdirSync(e,t){const r=(0,S.getMkdirOptions)(t);const i=(0,T.modeToNumber)(r.mode,511);const n=(0,T.pathToFilename)(e);if(r.recursive)return this.mkdirpBase(n,i);this.mkdirBase(n,i)}mkdir(e,t,r){const i=(0,S.getMkdirOptions)(t);const n=(0,T.validateCallback)(typeof t==="function"?t:r);const s=(0,T.modeToNumber)(i.mode,511);const o=(0,T.pathToFilename)(e);if(i.recursive)this.wrapAsync(this.mkdirpBase,[o,s],n);else this.wrapAsync(this.mkdirBase,[o,s],n)}mkdtempBase(e,t,r=5){const i=e+(0,T.genRndStr6)();try{this.mkdirBase(i,511);return(0,m.strToEncoding)(i,t)}catch(i){if(i.code===H){if(r>1)return this.mkdtempBase(e,t,r-1);else throw Error("Could not create temp dir.")}else throw i}}mkdtempSync(e,t){const{encoding:r}=(0,S.getDefaultOpts)(t);if(!e||typeof e!=="string")throw new TypeError("filename prefix is required");(0,T.nullCheck)(e);return this.mkdtempBase(e,r)}mkdtemp(e,t,r){const[{encoding:i},n]=(0,S.getDefaultOptsAndCb)(t,r);if(!e||typeof e!=="string")throw new TypeError("filename prefix is required");if(!(0,T.nullCheck)(e))return;this.wrapAsync(this.mkdtempBase,[e,i],n)}rmdirBase(e,t){const r=(0,S.getRmdirOptions)(t);const i=this.getLinkAsDirOrThrow(e,"rmdir");if(i.length&&!r.recursive)throw(0,T.createError)(Z,"rmdir",e);this.deleteLink(i)}rmdirSync(e,t){this.rmdirBase((0,T.pathToFilename)(e),t)}rmdir(e,t,r){const i=(0,S.getRmdirOptions)(t);const n=(0,T.validateCallback)(typeof t==="function"?t:r);this.wrapAsync(this.rmdirBase,[(0,T.pathToFilename)(e),i],n)}rmBase(e,t={}){let r;try{r=this.getResolvedLinkOrThrow(e,"stat")}catch(e){if(e.code===V&&t.force)return;else throw e}if(r.getNode().isDirectory()&&!t.recursive)throw(0,T.createError)(ee,"rm",e);if(!r.parent.getNode().canWrite())throw(0,T.createError)(X,"rm",e);this.deleteLink(r)}rmSync(e,t){this.rmBase((0,T.pathToFilename)(e),t)}rm(e,t,r){const[i,n]=(0,S.getRmOptsAndCb)(t,r);this.wrapAsync(this.rmBase,[(0,T.pathToFilename)(e),i],n)}fchmodBase(e,t){const r=this.getFileByFdOrThrow(e,"fchmod");r.chmod(t)}fchmodSync(e,t){this.fchmodBase(e,(0,T.modeToNumber)(t))}fchmod(e,t,r){this.wrapAsync(this.fchmodBase,[e,(0,T.modeToNumber)(t)],r)}chmodBase(e,t,r=true){const i=r?this.getResolvedLinkOrThrow(e,"chmod"):this.getLinkOrThrow(e,"chmod");const n=i.getNode();n.chmod(t)}chmodSync(e,t){const r=(0,T.modeToNumber)(t);const i=(0,T.pathToFilename)(e);this.chmodBase(i,r,true)}chmod(e,t,r){const i=(0,T.modeToNumber)(t);const n=(0,T.pathToFilename)(e);this.wrapAsync(this.chmodBase,[n,i],r)}lchmodBase(e,t){this.chmodBase(e,t,false)}lchmodSync(e,t){const r=(0,T.modeToNumber)(t);const i=(0,T.pathToFilename)(e);this.lchmodBase(i,r)}lchmod(e,t,r){const i=(0,T.modeToNumber)(t);const n=(0,T.pathToFilename)(e);this.wrapAsync(this.lchmodBase,[n,i],r)}fchownBase(e,t,r){this.getFileByFdOrThrow(e,"fchown").chown(t,r)}fchownSync(e,t,r){validateUid(t);validateGid(r);this.fchownBase(e,t,r)}fchown(e,t,r,i){validateUid(t);validateGid(r);this.wrapAsync(this.fchownBase,[e,t,r],i)}chownBase(e,t,r){const i=this.getResolvedLinkOrThrow(e,"chown");const n=i.getNode();n.chown(t,r)}chownSync(e,t,r){validateUid(t);validateGid(r);this.chownBase((0,T.pathToFilename)(e),t,r)}chown(e,t,r,i){validateUid(t);validateGid(r);this.wrapAsync(this.chownBase,[(0,T.pathToFilename)(e),t,r],i)}lchownBase(e,t,r){this.getLinkOrThrow(e,"lchown").getNode().chown(t,r)}lchownSync(e,t,r){validateUid(t);validateGid(r);this.lchownBase((0,T.pathToFilename)(e),t,r)}lchown(e,t,r,i){validateUid(t);validateGid(r);this.wrapAsync(this.lchownBase,[(0,T.pathToFilename)(e),t,r],i)}watchFile(e,t,r){const i=(0,T.pathToFilename)(e);let n=t;let s=r;if(typeof n==="function"){s=t;n=null}if(typeof s!=="function"){throw Error('"watchFile()" requires a listener function')}let o=5007;let a=true;if(n&&typeof n==="object"){if(typeof n.interval==="number")o=n.interval;if(typeof n.persistent==="boolean")a=n.persistent}let c=this.statWatchers[i];if(!c){c=new this.StatWatcher;c.start(i,a,o);this.statWatchers[i]=c}c.addListener("change",s);return c}unwatchFile(e,t){const r=(0,T.pathToFilename)(e);const i=this.statWatchers[r];if(!i)return;if(typeof t==="function"){i.removeListener("change",t)}else{i.removeAllListeners("change")}if(i.listenerCount("change")===0){i.stop();delete this.statWatchers[r]}}createReadStream(e,t){return new this.ReadStream(e,t)}createWriteStream(e,t){return new this.WriteStream(e,t)}watch(e,t,r){const i=(0,T.pathToFilename)(e);let n=t;if(typeof t==="function"){r=t;n=null}let{persistent:s,recursive:o,encoding:a}=(0,S.getDefaultOpts)(n);if(s===undefined)s=true;if(o===undefined)o=false;const c=new this.FSWatcher;c.start(i,s,o,a);if(r){c.addListener("change",r)}return c}opendirBase(e,t){const r=this.getResolvedLinkOrThrow(e,"scandir");const i=r.getNode();if(!i.isDirectory())throw(0,T.createError)(q,"scandir",e);return new O.Dir(r,t)}opendirSync(e,t){const r=(0,S.getOpendirOptions)(t);const i=(0,T.pathToFilename)(e);return this.opendirBase(i,r)}opendir(e,t,r){const[i,n]=(0,S.getOpendirOptsAndCb)(t,r);const s=(0,T.pathToFilename)(e);this.wrapAsync(this.opendirBase,[s,i],n)}}t.Volume=Volume;Volume.fd=2147483647;function emitStop(e){e.emit("stop")}class StatWatcher extends p.EventEmitter{constructor(e){super();this.onInterval=()=>{try{const e=this.vol.statSync(this.filename);if(this.hasChanged(e)){this.emit("change",e,this.prev);this.prev=e}}finally{this.loop()}};this.vol=e}loop(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)}hasChanged(e){if(e.mtimeMs>this.prev.mtimeMs)return true;if(e.nlink!==this.prev.nlink)return true;return false}start(e,t=true,r=5007){this.filename=(0,T.pathToFilename)(e);this.setTimeout=t?setTimeout.bind(typeof globalThis!=="undefined"?globalThis:global):u.default;this.interval=r;this.prev=this.vol.statSync(this.filename);this.loop()}stop(){clearTimeout(this.timeoutRef);(0,l.default)((()=>{emitStop.call(this,this)}))}}t.StatWatcher=StatWatcher;var re;function allocNewPool(e){re=(0,a.bufferAllocUnsafe)(e);re.used=0}g.inherits(FsReadStream,h.Readable);t.ReadStream=FsReadStream;function FsReadStream(e,t,r){if(!(this instanceof FsReadStream))return new FsReadStream(e,t,r);this._vol=e;r=Object.assign({},(0,S.getOptions)(r,{}));if(r.highWaterMark===undefined)r.highWaterMark=64*1024;h.Readable.call(this,r);this.path=(0,T.pathToFilename)(t);this.fd=r.fd===undefined?null:r.fd;this.flags=r.flags===undefined?"r":r.flags;this.mode=r.mode===undefined?438:r.mode;this.start=r.start;this.end=r.end;this.autoClose=r.autoClose===undefined?true:r.autoClose;this.pos=undefined;this.bytesRead=0;if(this.start!==undefined){if(typeof this.start!=="number"){throw new TypeError('"start" option must be a Number')}if(this.end===undefined){this.end=Infinity}else if(typeof this.end!=="number"){throw new TypeError('"end" option must be a Number')}if(this.start>this.end){throw new Error('"start" option must be <= "end" option')}this.pos=this.start}if(typeof this.fd!=="number")this.open();this.on("end",(function(){if(this.autoClose){if(this.destroy)this.destroy()}}))}FsReadStream.prototype.open=function(){var e=this;this._vol.open(this.path,this.flags,this.mode,((t,r)=>{if(t){if(e.autoClose){if(e.destroy)e.destroy()}e.emit("error",t);return}e.fd=r;e.emit("open",r);e.read()}))};FsReadStream.prototype._read=function(e){if(typeof this.fd!=="number"){return this.once("open",(function(){this._read(e)}))}if(this.destroyed)return;if(!re||re.length-re.used<$){allocNewPool(this._readableState.highWaterMark)}var t=re;var r=Math.min(re.length-re.used,e);var i=re.used;if(this.pos!==undefined)r=Math.min(this.end-this.pos+1,r);if(r<=0)return this.push(null);var n=this;this._vol.read(this.fd,re,re.used,r,this.pos,onread);if(this.pos!==undefined)this.pos+=r;re.used+=r;function onread(e,r){if(e){if(n.autoClose&&n.destroy){n.destroy()}n.emit("error",e)}else{var s=null;if(r>0){n.bytesRead+=r;s=t.slice(i,i+r)}n.push(s)}}};FsReadStream.prototype._destroy=function(e,t){this.close((r=>{t(e||r)}))};FsReadStream.prototype.close=function(e){var t;if(e)this.once("close",e);if(this.closed||typeof this.fd!=="number"){if(typeof this.fd!=="number"){this.once("open",closeOnOpen);return}return(0,l.default)((()=>this.emit("close")))}if(typeof((t=this._readableState)===null||t===void 0?void 0:t.closed)==="boolean"){this._readableState.closed=true}else{this.closed=true}this._vol.close(this.fd,(e=>{if(e)this.emit("error",e);else this.emit("close")}));this.fd=null};function closeOnOpen(e){this.close()}g.inherits(FsWriteStream,h.Writable);t.WriteStream=FsWriteStream;function FsWriteStream(e,t,r){if(!(this instanceof FsWriteStream))return new FsWriteStream(e,t,r);this._vol=e;r=Object.assign({},(0,S.getOptions)(r,{}));h.Writable.call(this,r);this.path=(0,T.pathToFilename)(t);this.fd=r.fd===undefined?null:r.fd;this.flags=r.flags===undefined?"w":r.flags;this.mode=r.mode===undefined?438:r.mode;this.start=r.start;this.autoClose=r.autoClose===undefined?true:!!r.autoClose;this.pos=undefined;this.bytesWritten=0;this.pending=true;if(this.start!==undefined){if(typeof this.start!=="number"){throw new TypeError('"start" option must be a Number')}if(this.start<0){throw new Error('"start" must be >= zero')}this.pos=this.start}if(r.encoding)this.setDefaultEncoding(r.encoding);if(typeof this.fd!=="number")this.open();this.once("finish",(function(){if(this.autoClose){this.close()}}))}FsWriteStream.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(e,t){if(e){if(this.autoClose&&this.destroy){this.destroy()}this.emit("error",e);return}this.fd=t;this.pending=false;this.emit("open",t)}.bind(this))};FsWriteStream.prototype._write=function(e,t,r){if(!(e instanceof a.Buffer||e instanceof Uint8Array))return this.emit("error",new Error("Invalid data"));if(typeof this.fd!=="number"){return this.once("open",(function(){this._write(e,t,r)}))}var i=this;this._vol.write(this.fd,e,0,e.length,this.pos,((e,t)=>{if(e){if(i.autoClose&&i.destroy){i.destroy()}return r(e)}i.bytesWritten+=t;r()}));if(this.pos!==undefined)this.pos+=e.length};FsWriteStream.prototype._writev=function(e,t){if(typeof this.fd!=="number"){return this.once("open",(function(){this._writev(e,t)}))}const r=this;const i=e.length;const n=new Array(i);var s=0;for(var o=0;o<i;o++){var c=e[o].chunk;n[o]=c;s+=c.length}const l=a.Buffer.concat(n);this._vol.write(this.fd,l,0,l.length,this.pos,((e,i)=>{if(e){if(r.destroy)r.destroy();return t(e)}r.bytesWritten+=i;t()}));if(this.pos!==undefined)this.pos+=s};FsWriteStream.prototype.close=function(e){var t;if(e)this.once("close",e);if(this.closed||typeof this.fd!=="number"){if(typeof this.fd!=="number"){this.once("open",closeOnOpen);return}return(0,l.default)((()=>this.emit("close")))}if(typeof((t=this._writableState)===null||t===void 0?void 0:t.closed)==="boolean"){this._writableState.closed=true}else{this.closed=true}this._vol.close(this.fd,(e=>{if(e)this.emit("error",e);else this.emit("close")}));this.fd=null};FsWriteStream.prototype._destroy=FsReadStream.prototype._destroy;FsWriteStream.prototype.destroySoon=FsWriteStream.prototype.end;class FSWatcher extends p.EventEmitter{constructor(e){super();this._filename="";this._filenameEncoded="";this._recursive=false;this._encoding=m.ENCODING_UTF8;this._listenerRemovers=new Map;this._onParentChild=e=>{if(e.getName()===this._getName()){this._emit("rename")}};this._emit=e=>{this.emit("change",e,this._filenameEncoded)};this._persist=()=>{this._timer=setTimeout(this._persist,1e6)};this._vol=e}_getName(){return this._steps[this._steps.length-1]}start(e,t=true,r=false,i=m.ENCODING_UTF8){this._filename=(0,T.pathToFilename)(e);this._steps=filenameToSteps(this._filename);this._filenameEncoded=(0,m.strToEncoding)(this._filename);this._recursive=r;this._encoding=i;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(e){const t=new Error(`watch ${this._filename} ${e.code}`);t.code=e.code;t.errno=e.code;throw t}const watchLinkNodeChanged=e=>{var t;const r=e.getPath();const i=e.getNode();const onNodeChange=()=>{let e=M(this._filename,r);if(!e){e=this._getName()}return this.emit("change","change",e)};i.on("change",onNodeChange);const n=(t=this._listenerRemovers.get(i.ino))!==null&&t!==void 0?t:[];n.push((()=>i.removeListener("change",onNodeChange)));this._listenerRemovers.set(i.ino,n)};const watchLinkChildrenChanged=e=>{var t;const i=e.getNode();const onLinkChildAdd=e=>{this.emit("change","rename",M(this._filename,e.getPath()));setTimeout((()=>{watchLinkNodeChanged(e);watchLinkChildrenChanged(e)}))};const onLinkChildDelete=e=>{const removeLinkNodeListeners=e=>{const t=e.getNode().ino;const r=this._listenerRemovers.get(t);if(r){r.forEach((e=>e()));this._listenerRemovers.delete(t)}for(const[t,r]of e.children.entries()){if(r&&t!=="."&&t!==".."){removeLinkNodeListeners(r)}}};removeLinkNodeListeners(e);this.emit("change","rename",M(this._filename,e.getPath()))};for(const[t,r]of e.children.entries()){if(r&&t!=="."&&t!==".."){watchLinkNodeChanged(r)}}e.on("child:add",onLinkChildAdd);e.on("child:delete",onLinkChildDelete);const n=(t=this._listenerRemovers.get(i.ino))!==null&&t!==void 0?t:[];n.push((()=>{e.removeListener("child:add",onLinkChildAdd);e.removeListener("child:delete",onLinkChildDelete)}));if(r){for(const[t,r]of e.children.entries()){if(r&&t!=="."&&t!==".."){watchLinkChildrenChanged(r)}}}};watchLinkNodeChanged(this._link);watchLinkChildrenChanged(this._link);const n=this._link.parent;if(n){n.setMaxListeners(n.getMaxListeners()+1);n.on("child:delete",this._onParentChild)}if(t)this._persist()}close(){clearTimeout(this._timer);this._listenerRemovers.forEach((e=>{e.forEach((e=>e()))}));this._listenerRemovers.clear();const e=this._link.parent;if(e){e.removeListener("child:delete",this._onParentChild)}}}t.FSWatcher=FSWatcher},922:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=r(721);i.__exportStar(r(70),t);i.__exportStar(r(165),t)},165:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.printBinary=void 0;const printBinary=(e="",t)=>{const r=t[0],i=t[1];let n="";if(r)n+="\n"+e+"← "+r(e+"  ");if(i)n+="\n"+e+"→ "+i(e+"  ");return n};t.printBinary=printBinary},70:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.printTree=void 0;const printTree=(e="",t)=>{let r="";let i=t.length-1;for(;i>=0;i--)if(t[i])break;for(let n=0;n<=i;n++){const s=t[n];if(!s)continue;const o=n===i;const a=s(e+(o?" ":"│")+"  ");const c=a?o?"└─":"├─":"│";r+="\n"+e+c+(a?" "+a:"")}return r};t.printTree=printTree},721:function(e){var t;var r;var i;var n;var s;var o;var a;var c;var l;var f;var u;var h;var d;var p;var m;var y;var g;var _;var b;var w;var S;var T;var O;var R;var F;var v;var N;var k;var A;var I;var B;var L;(function(t){var r=typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:{};if(typeof define==="function"&&define.amd){define("tslib",["exports"],(function(e){t(createExporter(r,createExporter(e)))}))}else if(true&&typeof e.exports==="object"){t(createExporter(r,createExporter(e.exports)))}else{t(createExporter(r))}function createExporter(e,t){if(e!==r){if(typeof Object.create==="function"){Object.defineProperty(e,"__esModule",{value:true})}else{e.__esModule=true}}return function(r,i){return e[r]=t?t(r,i):i}}})((function(e){var C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};t=function(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");C(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)};r=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))e[n]=t[n]}return e};i=function(e,t){var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0)r[i]=e[i];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++){if(t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n]))r[i[n]]=e[i[n]]}return r};n=function(e,t,r,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)if(o=e[a])s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s;return n>3&&s&&Object.defineProperty(t,r,s),s};s=function(e,t){return function(r,i){t(r,i,e)}};o=function(e,t,r,i,n,s){function accept(e){if(e!==void 0&&typeof e!=="function")throw new TypeError("Function expected");return e}var o=i.kind,a=o==="getter"?"get":o==="setter"?"set":"value";var c=!t&&e?i["static"]?e:e.prototype:null;var l=t||(c?Object.getOwnPropertyDescriptor(c,i.name):{});var f,u=false;for(var h=r.length-1;h>=0;h--){var d={};for(var p in i)d[p]=p==="access"?{}:i[p];for(var p in i.access)d.access[p]=i.access[p];d.addInitializer=function(e){if(u)throw new TypeError("Cannot add initializers after decoration has completed");s.push(accept(e||null))};var m=(0,r[h])(o==="accessor"?{get:l.get,set:l.set}:l[a],d);if(o==="accessor"){if(m===void 0)continue;if(m===null||typeof m!=="object")throw new TypeError("Object expected");if(f=accept(m.get))l.get=f;if(f=accept(m.set))l.set=f;if(f=accept(m.init))n.unshift(f)}else if(f=accept(m)){if(o==="field")n.unshift(f);else l[a]=f}}if(c)Object.defineProperty(c,i.name,l);u=true};a=function(e,t,r){var i=arguments.length>2;for(var n=0;n<t.length;n++){r=i?t[n].call(e,r):t[n].call(e)}return i?r:void 0};c=function(e){return typeof e==="symbol"?e:"".concat(e)};l=function(e,t,r){if(typeof t==="symbol")t=t.description?"[".concat(t.description,"]"):"";return Object.defineProperty(e,"name",{configurable:true,value:r?"".concat(r," ",t):t})};f=function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};u=function(e,t,r,i){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function fulfilled(e){try{step(i.next(e))}catch(e){n(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){n(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};h=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return o.next=verb(0),o["throw"]=verb(1),o["return"]=verb(2),typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(a){if(i)throw new TypeError("Generator is already executing.");while(o&&(o=0,a[0]&&(r=0)),r)try{if(i=1,n&&(s=a[0]&2?n["return"]:a[0]?n["throw"]||((s=n["return"])&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;if(n=0,s)a=[a[0]&2,s.value];switch(a[0]){case 0:case 1:s=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;n=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(s=r.trys,s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(a[0]===6&&r.label<s[1]){r.label=s[1];s=a;break}if(s&&r.label<s[2]){r.label=s[2];r.ops.push(a);break}if(s[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];n=0}finally{i=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};d=function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))A(t,e,r)};A=Object.create?function(e,t,r,i){if(i===undefined)i=r;var n=Object.getOwnPropertyDescriptor(t,r);if(!n||("get"in n?!t.__esModule:n.writable||n.configurable)){n={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,i,n)}:function(e,t,r,i){if(i===undefined)i=r;e[i]=t[r]};p=function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};m=function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),n,s=[],o;try{while((t===void 0||t-- >0)&&!(n=i.next()).done)s.push(n.value)}catch(e){o={error:e}}finally{try{if(n&&!n.done&&(r=i["return"]))r.call(i)}finally{if(o)throw o.error}}return s};y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e};g=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i};_=function(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,s;i<n;i++){if(s||!(i in t)){if(!s)s=Array.prototype.slice.call(t,0,i);s[i]=t[i]}}return e.concat(s||Array.prototype.slice.call(t))};b=function(e){return this instanceof b?(this.v=e,this):new b(e)};w=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),n,s=[];return n=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",awaitReturn),n[Symbol.asyncIterator]=function(){return this},n;function awaitReturn(e){return function(t){return Promise.resolve(t).then(e,reject)}}function verb(e,t){if(i[e]){n[e]=function(t){return new Promise((function(r,i){s.push([e,t,r,i])>1||resume(e,t)}))};if(t)n[e]=t(n[e])}}function resume(e,t){try{step(i[e](t))}catch(e){settle(s[0][3],e)}}function step(e){e.value instanceof b?Promise.resolve(e.value.v).then(fulfill,reject):settle(s[0][2],e)}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){if(e(t),s.shift(),s.length)resume(s[0][0],s[0][1])}};S=function(e){var t,r;return t={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),t[Symbol.iterator]=function(){return this},t;function verb(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:b(e[i](t)),done:false}:n?n(t):t}:n}};T=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof p==="function"?p(e):e[Symbol.iterator](),r={},verb("next"),verb("throw"),verb("return"),r[Symbol.asyncIterator]=function(){return this},r);function verb(t){r[t]=e[t]&&function(r){return new Promise((function(i,n){r=e[t](r),settle(i,n,r.done,r.value)}))}}function settle(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}};O=function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var P=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t};var ownKeys=function(e){ownKeys=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[t.length]=r;return t};return ownKeys(e)};R=function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ownKeys(e),i=0;i<r.length;i++)if(r[i]!=="default")A(t,e,r[i]);P(t,e);return t};F=function(e){return e&&e.__esModule?e:{default:e}};v=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)};N=function(e,t,r,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r};k=function(e,t){if(t===null||typeof t!=="object"&&typeof t!=="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e==="function"?t===e:e.has(t)};I=function(e,t,r){if(t!==null&&t!==void 0){if(typeof t!=="object"&&typeof t!=="function")throw new TypeError("Object expected.");var i,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose];if(r)n=i}if(typeof i!=="function")throw new TypeError("Object not disposable.");if(n)i=function(){try{n.call(this)}catch(e){return Promise.reject(e)}};e.stack.push({value:t,dispose:i,async:r})}else if(r){e.stack.push({async:true})}return t};var D=typeof SuppressedError==="function"?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};B=function(e){function fail(t){e.error=e.hasError?new D(t,e.error,"An error was suppressed during disposal."):t;e.hasError=true}var t,r=0;function next(){while(t=e.stack.pop()){try{if(!t.async&&r===1)return r=0,e.stack.push(t),Promise.resolve().then(next);if(t.dispose){var i=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(i).then(next,(function(e){fail(e);return next()}))}else r|=1}catch(e){fail(e)}}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return next()};L=function(e,t){if(typeof e==="string"&&/^\.\.?\//.test(e)){return e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,r,i,n,s){return r?t?".jsx":".js":i&&(!n||!s)?e:i+n+"."+s.toLowerCase()+"js"}))}return e};e("__extends",t);e("__assign",r);e("__rest",i);e("__decorate",n);e("__param",s);e("__esDecorate",o);e("__runInitializers",a);e("__propKey",c);e("__setFunctionName",l);e("__metadata",f);e("__awaiter",u);e("__generator",h);e("__exportStar",d);e("__createBinding",A);e("__values",p);e("__read",m);e("__spread",y);e("__spreadArrays",g);e("__spreadArray",_);e("__await",b);e("__asyncGenerator",w);e("__asyncDelegator",S);e("__asyncValues",T);e("__makeTemplateObject",O);e("__importStar",R);e("__importDefault",F);e("__classPrivateFieldGet",v);e("__classPrivateFieldSet",N);e("__classPrivateFieldIn",k);e("__addDisposableResource",I);e("__disposeResources",B);e("__rewriteRelativeImportExtension",L)}));0&&0},491:function(e){"use strict";e.exports=require("assert")},300:function(e){"use strict";e.exports=require("buffer")},361:function(e){"use strict";e.exports=require("events")},17:function(e){"use strict";e.exports=require("path")},282:function(e){"use strict";e.exports=require("process")},781:function(e){"use strict";e.exports=require("stream")},310:function(e){"use strict";e.exports=require("url")},837:function(e){"use strict";e.exports=require("util")}};var t={};function __nccwpck_require__(r){var i=t[r];if(i!==undefined){return i.exports}var n=t[r]={exports:{}};var s=true;try{e[r](n,n.exports,__nccwpck_require__);s=false}finally{if(s)delete t[r]}return n.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r=__nccwpck_require__(336);module.exports=r})();