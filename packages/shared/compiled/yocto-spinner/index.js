(function(){"use strict";var t={};!function(){t.d=function(n,e){for(var r in e){if(t.o(e,r)&&!t.o(n,r)){Object.defineProperty(n,r,{enumerable:true,get:e[r]})}}}}();!function(){t.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}();!function(){t.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})}}();if(typeof t!=="undefined")t.ab=__dirname+"/";var n={};t.r(n);t.d(n,{default:function(){return yoctoSpinner}});var e={};t.r(e);t.d(e,{bgBlack:function(){return I},bgBlue:function(){return M},bgBlueBright:function(){return D},bgCyan:function(){return G},bgCyanBright:function(){return z},bgGray:function(){return O},bgGreen:function(){return C},bgGreenBright:function(){return k},bgMagenta:function(){return E},bgMagentaBright:function(){return L},bgRed:function(){return T},bgRedBright:function(){return W},bgWhite:function(){return H},bgWhiteBright:function(){return A},bgYellow:function(){return F},bgYellowBright:function(){return q},black:function(){return g},blue:function(){return S},blueBright:function(){return Y},bold:function(){return c},cyan:function(){return B},cyanBright:function(){return j},dim:function(){return u},gray:function(){return w},green:function(){return p},greenBright:function(){return $},hidden:function(){return d},inverse:function(){return l},italic:function(){return h},magenta:function(){return y},magentaBright:function(){return _},overline:function(){return f},red:function(){return b},redBright:function(){return P},reset:function(){return o},strikethrough:function(){return m},underline:function(){return a},white:function(){return x},whiteBright:function(){return N},yellow:function(){return v},yellowBright:function(){return R}});var r=require("node:process");var i=require("node:tty");const s=i.WriteStream.prototype.hasColors?.()??false;const format=(t,n)=>{if(!s){return t=>t}const e=`[${t}m`;const r=`[${n}m`;return t=>{const n=t+"";let i=n.indexOf(r);if(i===-1){return e+n+r}let s=e;let o=0;while(i!==-1){s+=n.slice(o,i)+e;o=i+r.length;i=n.indexOf(r,o)}s+=n.slice(o)+r;return s}};const o=format(0,0);const c=format(1,22);const u=format(2,22);const h=format(3,23);const a=format(4,24);const f=format(53,55);const l=format(7,27);const d=format(8,28);const m=format(9,29);const g=format(30,39);const b=format(31,39);const p=format(32,39);const v=format(33,39);const S=format(34,39);const y=format(35,39);const B=format(36,39);const x=format(37,39);const w=format(90,39);const I=format(40,49);const T=format(41,49);const C=format(42,49);const F=format(43,49);const M=format(44,49);const E=format(45,49);const G=format(46,49);const H=format(47,49);const O=format(100,49);const P=format(91,39);const $=format(92,39);const R=format(93,39);const Y=format(94,39);const _=format(95,39);const j=format(96,39);const N=format(97,39);const W=format(101,49);const k=format(102,49);const q=format(103,49);const D=format(104,49);const L=format(105,49);const z=format(106,49);const A=format(107,49);const J=r.platform!=="win32"||Boolean(r.env.WT_SESSION);const isInteractive=t=>Boolean(t.isTTY&&r.env.TERM!=="dumb"&&!("CI"in r.env));const K=S(J?"â„¹":"i");const Q=p(J?"âœ”":"âˆš");const U=v(J?"âš ":"â€¼");const V=b(J?"âœ–ï¸":"Ã—");const X={frames:J?["â ‹","â ™","â ¹","â ¸","â ¼","â ´","â ¦","â §","â ‡","â "]:["-","\\","|","/"],interval:80};class YoctoSpinner{#t;#n;#e=-1;#r;#i;#s;#o;#c=0;#u;#h;#a=0;constructor(t={}){const n=t.spinner??X;this.#t=n.frames;this.#n=n.interval;this.#i=t.text??"";this.#s=t.stream??r.stderr;this.#o=t.color??"cyan";this.#h=isInteractive(this.#s);this.#u=this.#f.bind(this)}start(t){if(t){this.#i=t}if(this.isSpinning){return this}this.#l();this.#d();this.#m();this.#r=setInterval((()=>{this.#d()}),this.#n);return this}stop(t){if(!this.isSpinning){return this}clearInterval(this.#r);this.#r=undefined;this.#g();this.clear();this.#b();if(t){this.#s.write(`${t}\n`)}return this}#p(t,n){return this.stop(`${t} ${n??this.#i}`)}success(t){return this.#p(Q,t)}error(t){return this.#p(V,t)}warning(t){return this.#p(U,t)}info(t){return this.#p(K,t)}get isSpinning(){return this.#r!==undefined}get text(){return this.#i}set text(t=""){this.#i=t;this.#d()}get color(){return this.#o}set color(t){this.#o=t;this.#d()}clear(){if(!this.#h){return this}this.#s.cursorTo(0);for(let t=0;t<this.#c;t++){if(t>0){this.#s.moveCursor(0,-1)}this.#s.clearLine(1)}this.#c=0;return this}#d(){const t=Date.now();if(this.#e===-1||t-this.#a>=this.#n){this.#e=++this.#e%this.#t.length;this.#a=t}const n=e[this.#o]??B;const r=this.#t[this.#e];let i=`${n(r)} ${this.#i}`;if(!this.#h){i+="\n"}this.clear();this.#v(i);if(this.#h){this.#c=this.#S(i)}}#v(t){this.#s.write(t)}#S(t){const n=this.#s.columns??80;const e=t.split("\n");let r=0;for(const t of e){r+=Math.max(1,Math.ceil(t.length/n))}return r}#l(){if(this.#h){this.#v("[?25l")}}#g(){if(this.#h){this.#v("[?25h")}}#m(){r.once("SIGINT",this.#u);r.once("SIGTERM",this.#u)}#b(){r.off("SIGINT",this.#u);r.off("SIGTERM",this.#u)}#f(t){if(this.isSpinning){this.stop()}const n=t==="SIGINT"?130:t==="SIGTERM"?143:1;r.exit(n)}}function yoctoSpinner(t){return new YoctoSpinner(t)}module.exports=n})();