(function(){var t={857:function(t,e,i){"use strict";const s=i(364);const isGitHubShorthand=t=>{const e=t.indexOf("#");const i=t.indexOf("/");const s=t.indexOf("/",i+1);const n=t.indexOf(":");const r=/\s/.exec(t);const o=t.indexOf("@");const a=!r||e>-1&&r.index>e;const h=o===-1||e>-1&&o>e;const l=n===-1||e>-1&&n>e;const c=s===-1||e>-1&&s>e;const u=i>0;const f=e>-1?t[e-1]!=="/":!t.endsWith("/");const p=!t.startsWith(".");return a&&u&&f&&p&&h&&l&&c};t.exports=(t,e,{gitHosts:i,protocols:n})=>{if(!t){return}const r=isGitHubShorthand(t)?`github:${t}`:t;const o=s(r,n);if(!o){return}const a=i.byShortcut[o.protocol];const h=i.byDomain[o.hostname.startsWith("www.")?o.hostname.slice(4):o.hostname];const l=a||h;if(!l){return}const c=i[a||h];let u=null;if(n[o.protocol]?.auth&&(o.username||o.password)){u=`${o.username}${o.password?":"+o.password:""}`}let f=null;let p=null;let d=null;let m=null;try{if(a){let t=o.pathname.startsWith("/")?o.pathname.slice(1):o.pathname;const e=t.indexOf("@");if(e>-1){t=t.slice(e+1)}const i=t.lastIndexOf("/");if(i>-1){p=decodeURIComponent(t.slice(0,i));if(!p){p=null}d=decodeURIComponent(t.slice(i+1))}else{d=decodeURIComponent(t)}if(d.endsWith(".git")){d=d.slice(0,-4)}if(o.hash){f=decodeURIComponent(o.hash.slice(1))}m="shortcut"}else{if(!c.protocols.includes(o.protocol)){return}const t=c.extract(o);if(!t){return}p=t.user&&decodeURIComponent(t.user);d=decodeURIComponent(t.project);f=decodeURIComponent(t.committish);m=n[o.protocol]?.name||o.protocol.slice(0,-1)}}catch(t){if(t instanceof URIError){return}else{throw t}}return[l,p,u,d,f,m,e]}},27:function(t){"use strict";const maybeJoin=(...t)=>t.every((t=>t))?t.join(""):"";const maybeEncode=t=>t?encodeURIComponent(t):"";const formatHashFragment=t=>t.toLowerCase().replace(/^\W+/g,"").replace(/(?<!\W)\W+$/,"").replace(/\//g,"").replace(/\W+/g,"-");const e={sshtemplate:({domain:t,user:e,project:i,committish:s})=>`git@${t}:${e}/${i}.git${maybeJoin("#",s)}`,sshurltemplate:({domain:t,user:e,project:i,committish:s})=>`git+ssh://git@${t}/${e}/${i}.git${maybeJoin("#",s)}`,edittemplate:({domain:t,user:e,project:i,committish:s,editpath:n,path:r})=>`https://${t}/${e}/${i}${maybeJoin("/",n,"/",maybeEncode(s||"HEAD"),"/",r)}`,browsetemplate:({domain:t,user:e,project:i,committish:s,treepath:n})=>`https://${t}/${e}/${i}${maybeJoin("/",n,"/",maybeEncode(s))}`,browsetreetemplate:({domain:t,user:e,project:i,committish:s,treepath:n,path:r,fragment:o,hashformat:a})=>`https://${t}/${e}/${i}/${n}/${maybeEncode(s||"HEAD")}/${r}${maybeJoin("#",a(o||""))}`,browseblobtemplate:({domain:t,user:e,project:i,committish:s,blobpath:n,path:r,fragment:o,hashformat:a})=>`https://${t}/${e}/${i}/${n}/${maybeEncode(s||"HEAD")}/${r}${maybeJoin("#",a(o||""))}`,docstemplate:({domain:t,user:e,project:i,treepath:s,committish:n})=>`https://${t}/${e}/${i}${maybeJoin("/",s,"/",maybeEncode(n))}#readme`,httpstemplate:({auth:t,domain:e,user:i,project:s,committish:n})=>`git+https://${maybeJoin(t,"@")}${e}/${i}/${s}.git${maybeJoin("#",n)}`,filetemplate:({domain:t,user:e,project:i,committish:s,path:n})=>`https://${t}/${e}/${i}/raw/${maybeEncode(s||"HEAD")}/${n}`,shortcuttemplate:({type:t,user:e,project:i,committish:s})=>`${t}:${e}/${i}${maybeJoin("#",s)}`,pathtemplate:({user:t,project:e,committish:i})=>`${t}/${e}${maybeJoin("#",i)}`,bugstemplate:({domain:t,user:e,project:i})=>`https://${t}/${e}/${i}/issues`,hashformat:formatHashFragment};const i={};i.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:t,user:e,project:i,committish:s,path:n})=>`https://${maybeJoin(t,"@")}raw.githubusercontent.com/${e}/${i}/${maybeEncode(s||"HEAD")}/${n}`,gittemplate:({auth:t,domain:e,user:i,project:s,committish:n})=>`git://${maybeJoin(t,"@")}${e}/${i}/${s}.git${maybeJoin("#",n)}`,tarballtemplate:({domain:t,user:e,project:i,committish:s})=>`https://codeload.${t}/${e}/${i}/tar.gz/${maybeEncode(s||"HEAD")}`,extract:t=>{let[,e,i,s,n]=t.pathname.split("/",5);if(s&&s!=="tree"){return}if(!s){n=t.hash.slice(1)}if(i&&i.endsWith(".git")){i=i.slice(0,-4)}if(!e||!i){return}return{user:e,project:i,committish:n}}};i.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:t,user:e,project:i,committish:s,treepath:n,path:r,editpath:o})=>`https://${t}/${e}/${i}${maybeJoin("/",n,"/",maybeEncode(s||"HEAD"),"/",r,o)}`,tarballtemplate:({domain:t,user:e,project:i,committish:s})=>`https://${t}/${e}/${i}/get/${maybeEncode(s||"HEAD")}.tar.gz`,extract:t=>{let[,e,i,s]=t.pathname.split("/",4);if(["get"].includes(s)){return}if(i&&i.endsWith(".git")){i=i.slice(0,-4)}if(!e||!i){return}return{user:e,project:i,committish:t.hash.slice(1)}}};i.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:t,domain:e,user:i,project:s,committish:n})=>`git+https://${maybeJoin(t,"@")}${e}/${i}/${s}.git${maybeJoin("#",n)}`,tarballtemplate:({domain:t,user:e,project:i,committish:s})=>`https://${t}/${e}/${i}/repository/archive.tar.gz?ref=${maybeEncode(s||"HEAD")}`,extract:t=>{const e=t.pathname.slice(1);if(e.includes("/-/")||e.includes("/archive.tar.gz")){return}const i=e.split("/");let s=i.pop();if(s.endsWith(".git")){s=s.slice(0,-4)}const n=i.join("/");if(!n||!s){return}return{user:n,project:s,committish:t.hash.slice(1)}}};i.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:t,project:e,committish:i})=>`git@${t}:${e}.git${maybeJoin("#",i)}`,sshurltemplate:({domain:t,project:e,committish:i})=>`git+ssh://git@${t}/${e}.git${maybeJoin("#",i)}`,edittemplate:({domain:t,user:e,project:i,committish:s,editpath:n})=>`https://${t}/${e}/${i}${maybeJoin("/",maybeEncode(s))}/${n}`,browsetemplate:({domain:t,project:e,committish:i})=>`https://${t}/${e}${maybeJoin("/",maybeEncode(i))}`,browsetreetemplate:({domain:t,project:e,committish:i,path:s,hashformat:n})=>`https://${t}/${e}${maybeJoin("/",maybeEncode(i))}${maybeJoin("#",n(s))}`,browseblobtemplate:({domain:t,project:e,committish:i,path:s,hashformat:n})=>`https://${t}/${e}${maybeJoin("/",maybeEncode(i))}${maybeJoin("#",n(s))}`,docstemplate:({domain:t,project:e,committish:i})=>`https://${t}/${e}${maybeJoin("/",maybeEncode(i))}`,httpstemplate:({domain:t,project:e,committish:i})=>`git+https://${t}/${e}.git${maybeJoin("#",i)}`,filetemplate:({user:t,project:e,committish:i,path:s})=>`https://gist.githubusercontent.com/${t}/${e}/raw${maybeJoin("/",maybeEncode(i))}/${s}`,shortcuttemplate:({type:t,project:e,committish:i})=>`${t}:${e}${maybeJoin("#",i)}`,pathtemplate:({project:t,committish:e})=>`${t}${maybeJoin("#",e)}`,bugstemplate:({domain:t,project:e})=>`https://${t}/${e}`,gittemplate:({domain:t,project:e,committish:i})=>`git://${t}/${e}.git${maybeJoin("#",i)}`,tarballtemplate:({project:t,committish:e})=>`https://codeload.github.com/gist/${t}/tar.gz/${maybeEncode(e||"HEAD")}`,extract:t=>{let[,e,i,s]=t.pathname.split("/",4);if(s==="raw"){return}if(!i){if(!e){return}i=e;e=null}if(i.endsWith(".git")){i=i.slice(0,-4)}return{user:e,project:i,committish:t.hash.slice(1)}},hashformat:function(t){return t&&"file-"+formatHashFragment(t)}};i.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:t,user:e,project:i,committish:s,path:n})=>`https://${t}/${e}/${i}/blob/${maybeEncode(s)||"HEAD"}/${n}`,httpstemplate:({domain:t,user:e,project:i,committish:s})=>`https://${t}/${e}/${i}.git${maybeJoin("#",s)}`,tarballtemplate:({domain:t,user:e,project:i,committish:s})=>`https://${t}/${e}/${i}/archive/${maybeEncode(s)||"HEAD"}.tar.gz`,bugstemplate:()=>null,extract:t=>{let[,e,i,s]=t.pathname.split("/",4);if(["archive"].includes(s)){return}if(i&&i.endsWith(".git")){i=i.slice(0,-4)}if(!e||!i){return}return{user:e,project:i,committish:t.hash.slice(1)}}};for(const[t,s]of Object.entries(i)){i[t]=Object.assign({},e,s)}t.exports=i},147:function(t,e,i){"use strict";const{LRUCache:s}=i(877);const n=i(27);const r=i(857);const o=i(364);const a=new s({max:1e3});function unknownHostedUrl(t){try{const{protocol:e,hostname:i,pathname:s}=new URL(t);if(!i){return null}const n=/(?:git\+)http:$/.test(e)?"http:":"https:";const r=s.replace(/\.git$/,"");return`${n}//${i}${r}`}catch{return null}}class GitHost{constructor(t,e,i,s,n,r,o={}){Object.assign(this,GitHost.#t[t],{type:t,user:e,auth:i,project:s,committish:n,default:r,opts:o})}static#t={byShortcut:{},byDomain:{}};static#e={"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:true},"git:":{auth:true},"http:":{auth:true},"https:":{auth:true},"git+http:":{auth:true}};static addHost(t,e){GitHost.#t[t]=e;GitHost.#t.byDomain[e.domain]=t;GitHost.#t.byShortcut[`${t}:`]=t;GitHost.#e[`${t}:`]={name:t}}static fromUrl(t,e){if(typeof t!=="string"){return}const i=t+JSON.stringify(e||{});if(!a.has(i)){const s=r(t,e,{gitHosts:GitHost.#t,protocols:GitHost.#e});a.set(i,s?new GitHost(...s):undefined)}return a.get(i)}static fromManifest(t,e={}){if(!t||typeof t!=="object"){return}const i=t.repository;const s=i&&(typeof i==="string"?i:typeof i==="object"&&typeof i.url==="string"?i.url:null);if(!s){throw new Error("no repository")}const n=s&&GitHost.fromUrl(s.replace(/^git\+/,""),e)||null;if(n){return n}const r=unknownHostedUrl(s);return GitHost.fromUrl(r,e)||r}static parseUrl(t){return o(t)}#i(t,e){if(typeof t!=="function"){return null}const i={...this,...this.opts,...e};if(!i.path){i.path=""}if(i.path.startsWith("/")){i.path=i.path.slice(1)}if(i.noCommittish){i.committish=null}const s=t(i);return i.noGitPlus&&s.startsWith("git+")?s.slice(4):s}hash(){return this.committish?`#${this.committish}`:""}ssh(t){return this.#i(this.sshtemplate,t)}sshurl(t){return this.#i(this.sshurltemplate,t)}browse(t,...e){if(typeof t!=="string"){return this.#i(this.browsetemplate,t)}if(typeof e[0]!=="string"){return this.#i(this.browsetreetemplate,{...e[0],path:t})}return this.#i(this.browsetreetemplate,{...e[1],fragment:e[0],path:t})}browseFile(t,...e){if(typeof e[0]!=="string"){return this.#i(this.browseblobtemplate,{...e[0],path:t})}return this.#i(this.browseblobtemplate,{...e[1],fragment:e[0],path:t})}docs(t){return this.#i(this.docstemplate,t)}bugs(t){return this.#i(this.bugstemplate,t)}https(t){return this.#i(this.httpstemplate,t)}git(t){return this.#i(this.gittemplate,t)}shortcut(t){return this.#i(this.shortcuttemplate,t)}path(t){return this.#i(this.pathtemplate,t)}tarball(t){return this.#i(this.tarballtemplate,{...t,noCommittish:false})}file(t,e){return this.#i(this.filetemplate,{...e,path:t})}edit(t,e){return this.#i(this.edittemplate,{...e,path:t})}getDefaultRepresentation(){return this.default}toString(t){if(this.default&&typeof this[this.default]==="function"){return this[this.default](t)}return this.sshurl(t)}}for(const[t,e]of Object.entries(n)){GitHost.addHost(t,e)}t.exports=GitHost},364:function(t,e,i){const s=i(310);const lastIndexOfBefore=(t,e,i)=>{const s=t.indexOf(i);return t.lastIndexOf(e,s>-1?s:Infinity)};const safeUrl=t=>{try{return new s.URL(t)}catch{}};const correctProtocol=(t,e)=>{const i=t.indexOf(":");const s=t.slice(0,i+1);if(Object.prototype.hasOwnProperty.call(e,s)){return t}const n=t.indexOf("@");if(n>-1){if(n>i){return`git+ssh://${t}`}else{return t}}const r=t.indexOf("//");if(r===i+1){return t}return`${t.slice(0,i+1)}//${t.slice(i+1)}`};const correctUrl=t=>{const e=lastIndexOfBefore(t,"@","#");const i=lastIndexOfBefore(t,":","#");if(i>e){t=t.slice(0,i)+"/"+t.slice(i+1)}if(lastIndexOfBefore(t,":","#")===-1&&t.indexOf("//")===-1){t=`git+ssh://${t}`}return t};t.exports=(t,e)=>{const i=e?correctProtocol(t,e):t;return safeUrl(i)||safeUrl(correctUrl(i))}},566:function(t,e,i){"use strict";t.exports=npa;t.exports.resolve=resolve;t.exports.toPurl=toPurl;t.exports.Result=Result;const{URL:s}=i(310);const n=i(147);const r=i(204);const o=global.FAKE_WINDOWS?i(17).win32:i(17);const a=i(168);const{homedir:h}=i(37);const{log:l}=i(96);const c=process.platform==="win32"||global.FAKE_WINDOWS;const u=c?/\\|[/]/:/[/]/;const f=/^(?:git[+])?[a-z]+:/i;const p=/^[^@]+@[^:.]+\.[^:]+:.+$/i;const d=/[.](?:tgz|tar.gz|tar)$/i;function npa(t,e){let i;let s;if(typeof t==="object"){if(t instanceof Result&&(!e||e===t.where)){return t}else if(t.name&&t.rawSpec){return npa.resolve(t.name,t.rawSpec,e||t.where)}else{return npa(t.raw,e||t.where)}}const n=t[0]==="@"?t.slice(1).indexOf("@")+1:t.indexOf("@");const r=n>0?t.slice(0,n):t;if(f.test(t)){s=t}else if(p.test(t)){s=`git+ssh://${t}`}else if(r[0]!=="@"&&(u.test(r)||d.test(r))){s=t}else if(n>0){i=r;s=t.slice(n+1)||"*"}else{const e=a(t);if(e.validForOldPackages){i=t;s="*"}else{s=t}}return resolve(i,s,e,t)}const m=c?/^(?:[.]|~[/]|[/\\]|[a-zA-Z]:)/:/^(?:[.]|~[/]|[/]|[a-zA-Z]:)/;function resolve(t,e,i,s){const r=new Result({raw:s,name:t,rawSpec:e,fromArgument:s!=null});if(t){r.setName(t)}if(e&&(m.test(e)||/^file:/i.test(e))){return fromFile(r,i)}else if(e&&/^npm:/i.test(e)){return fromAlias(r,i)}const o=n.fromUrl(e,{noGitPlus:true,noCommittish:true});if(o){return fromHostedGit(r,o)}else if(e&&f.test(e)){return fromURL(r)}else if(e&&(u.test(e)||d.test(e))){return fromFile(r,i)}else{return fromRegistry(r)}}const g="https://registry.npmjs.org";function toPurl(t,e=g){const i=npa(t);if(i.type!=="version"){throw invalidPurlType(i.type,i.raw)}let s="pkg:npm/"+i.name.replace(/^@/,"%40")+"@"+i.rawSpec;if(e!==g){s+="?repository_url="+e}return s}function invalidPackageName(t,e,i){const s=new Error(`Invalid package name "${t}" of package "${i}": ${e.errors.join("; ")}.`);s.code="EINVALIDPACKAGENAME";return s}function invalidTagName(t,e){const i=new Error(`Invalid tag name "${t}" of package "${e}": Tags may not have any characters that encodeURIComponent encodes.`);i.code="EINVALIDTAGNAME";return i}function invalidPurlType(t,e){const i=new Error(`Invalid type "${t}" of package "${e}": Purl can only be generated for "version" types.`);i.code="EINVALIDPURLTYPE";return i}function Result(t){this.type=t.type;this.registry=t.registry;this.where=t.where;if(t.raw==null){this.raw=t.name?t.name+"@"+t.rawSpec:t.rawSpec}else{this.raw=t.raw}this.name=undefined;this.escapedName=undefined;this.scope=undefined;this.rawSpec=t.rawSpec||"";this.saveSpec=t.saveSpec;this.fetchSpec=t.fetchSpec;if(t.name){this.setName(t.name)}this.gitRange=t.gitRange;this.gitCommittish=t.gitCommittish;this.gitSubdir=t.gitSubdir;this.hosted=t.hosted}Result.prototype.setName=function(t){const e=a(t);if(!e.validForOldPackages){throw invalidPackageName(t,e,this.raw)}this.name=t;this.scope=t[0]==="@"?t.slice(0,t.indexOf("/")):undefined;this.escapedName=t.replace("/","%2f");return this};Result.prototype.toString=function(){const t=[];if(this.name!=null&&this.name!==""){t.push(this.name)}const e=this.saveSpec||this.fetchSpec||this.rawSpec;if(e!=null&&e!==""){t.push(e)}return t.length?t.join("@"):this.raw};Result.prototype.toJSON=function(){const t=Object.assign({},this);delete t.hosted;return t};function setGitAttrs(t,e){if(!e){t.gitCommittish=null;return}for(const i of e.split("::")){if(!i.includes(":")){if(t.gitRange){throw new Error("cannot override existing semver range with a committish")}if(t.gitCommittish){throw new Error("cannot override existing committish with a second committish")}t.gitCommittish=i;continue}const[e,s]=i.split(":");if(e==="semver"){if(t.gitCommittish){throw new Error("cannot override existing committish with a semver range")}if(t.gitRange){throw new Error("cannot override existing semver range with a second semver range")}t.gitRange=decodeURIComponent(s);continue}if(e==="path"){if(t.gitSubdir){throw new Error("cannot override existing path with a second path")}t.gitSubdir=`/${s}`;continue}l.warn("npm-package-arg",`ignoring unknown key "${e}"`)}}function fromFile(t,e){if(!e){e=process.cwd()}t.type=d.test(t.rawSpec)?"file":"directory";t.where=e;let i;let n;const r=!/^file:/.test(t.rawSpec)?"file:":"";const a=r+t.rawSpec;let l=a.replace(/^file:/,"");try{n=new s(a,`file://${o.resolve(e)}/`);i=new s(a)}catch(i){const s=new Error("Invalid file: URL, must comply with RFC 8089");throw Object.assign(s,{raw:t.rawSpec,spec:t,where:e,originalError:i})}if(n.host&&n.host!=="localhost"){const r=t.rawSpec.replace(/^file:\/\//,"file:///");n=new s(r,`file://${o.resolve(e)}/`);i=new s(r);l=r.replace(/^file:/,"")}if(/^\/{1,3}\.\.?(\/|$)/.test(l)){const r=t.rawSpec.replace(/^file:\/{1,3}/,"file:");n=new s(r,`file://${o.resolve(e)}/`);i=new s(r);l=r.replace(/^file:/,"")}let u=decodeURIComponent(i.pathname);let f=decodeURIComponent(n.pathname);if(c){u=u.replace(/^\/+([a-z]:\/)/i,"$1");f=f.replace(/^\/+([a-z]:\/)/i,"$1")}if(/^\/~(\/|$)/.test(u)){t.saveSpec=`file:${u.substr(1)}`;f=o.resolve(h(),u.substr(3))}else if(!o.isAbsolute(l)){t.saveSpec=`file:${o.relative(e,f)}`}else{t.saveSpec=`file:${o.resolve(f)}`}t.fetchSpec=o.resolve(e,f);return t}function fromHostedGit(t,e){t.type="git";t.hosted=e;t.saveSpec=e.toString({noGitPlus:false,noCommittish:false});t.fetchSpec=e.getDefaultRepresentation()==="shortcut"?null:e.toString();setGitAttrs(t,e.committish);return t}function unsupportedURLType(t,e){const i=new Error(`Unsupported URL Type "${t}": ${e}`);i.code="EUNSUPPORTEDPROTOCOL";return i}function fromURL(t){let e=t.rawSpec;t.saveSpec=e;if(e.startsWith("git+ssh:")){const i=e.match(/^git\+ssh:\/\/([^:#]+:[^#]+(?:\.git)?)(?:#(.*))?$/i);if(i&&!i[1].match(/:[0-9]+\/?.*$/i)){t.type="git";setGitAttrs(t,i[2]);t.fetchSpec=i[1];return t}}else if(e.startsWith("git+file://")){e=e.replace(/\\/g,"/")}const i=new s(e);switch(i.protocol){case"git:":case"git+http:":case"git+https:":case"git+rsync:":case"git+ftp:":case"git+file:":case"git+ssh:":t.type="git";setGitAttrs(t,i.hash.slice(1));if(i.protocol==="git+file:"&&/^git\+file:\/\/[a-z]:/i.test(e)){t.fetchSpec=`git+file://${i.host.toLowerCase()}:${i.pathname}`}else{i.hash="";t.fetchSpec=i.toString()}if(t.fetchSpec.startsWith("git+")){t.fetchSpec=t.fetchSpec.slice(4)}break;case"http:":case"https:":t.type="remote";t.fetchSpec=t.saveSpec;break;default:throw unsupportedURLType(i.protocol,e)}return t}function fromAlias(t,e){const i=npa(t.rawSpec.substr(4),e);if(i.type==="alias"){throw new Error("nested aliases not supported")}if(!i.registry){throw new Error("aliases only work for registry deps")}if(!i.name){throw new Error("aliases must have a name")}t.subSpec=i;t.registry=true;t.type="alias";t.saveSpec=null;t.fetchSpec=null;return t}function fromRegistry(t){t.registry=true;const e=t.rawSpec.trim();t.saveSpec=null;t.fetchSpec=e;const i=r.valid(e,true);const s=r.validRange(e,true);if(i){t.type="version"}else if(s){t.type="range"}else{if(encodeURIComponent(e)!==e){throw invalidTagName(e,t.raw)}t.type="tag"}return t}},96:function(t){const e=Symbol("proc-log.meta");t.exports={META:e,output:{LEVELS:["standard","error","buffer","flush"],KEYS:{standard:"standard",error:"error",buffer:"buffer",flush:"flush"},standard:function(...t){return process.emit("output","standard",...t)},error:function(...t){return process.emit("output","error",...t)},buffer:function(...t){return process.emit("output","buffer",...t)},flush:function(...t){return process.emit("output","flush",...t)}},log:{LEVELS:["notice","error","warn","info","verbose","http","silly","timing","pause","resume"],KEYS:{notice:"notice",error:"error",warn:"warn",info:"info",verbose:"verbose",http:"http",silly:"silly",timing:"timing",pause:"pause",resume:"resume"},error:function(...t){return process.emit("log","error",...t)},notice:function(...t){return process.emit("log","notice",...t)},warn:function(...t){return process.emit("log","warn",...t)},info:function(...t){return process.emit("log","info",...t)},verbose:function(...t){return process.emit("log","verbose",...t)},http:function(...t){return process.emit("log","http",...t)},silly:function(...t){return process.emit("log","silly",...t)},timing:function(...t){return process.emit("log","timing",...t)},pause:function(){return process.emit("log","pause")},resume:function(){return process.emit("log","resume")}},time:{LEVELS:["start","end"],KEYS:{start:"start",end:"end"},start:function(t,e){process.emit("time","start",t);function end(){return process.emit("time","end",t)}if(typeof e==="function"){const t=e();if(t&&t.finally){return t.finally(end)}end();return t}return end},end:function(t){return process.emit("time","end",t)}},input:{LEVELS:["start","end","read"],KEYS:{start:"start",end:"end",read:"read"},start:function(t){process.emit("input","start");function end(){return process.emit("input","end")}if(typeof t==="function"){const e=t();if(e&&e.finally){return e.finally(end)}end();return e}return end},end:function(){return process.emit("input","end")},read:function(...t){let e,i;const s=new Promise(((t,s)=>{e=t;i=s}));process.emit("input","read",e,i,...t);return s}}}},168:function(t,e,i){"use strict";const{builtinModules:s}=i(188);var n=new RegExp("^(?:@([^/]+?)[/])?([^/]+?)$");var r=["node_modules","favicon.ico"];function validate(t){var e=[];var i=[];if(t===null){i.push("name cannot be null");return done(e,i)}if(t===undefined){i.push("name cannot be undefined");return done(e,i)}if(typeof t!=="string"){i.push("name must be a string");return done(e,i)}if(!t.length){i.push("name length must be greater than zero")}if(t.match(/^\./)){i.push("name cannot start with a period")}if(t.match(/^_/)){i.push("name cannot start with an underscore")}if(t.trim()!==t){i.push("name cannot contain leading or trailing spaces")}r.forEach((function(e){if(t.toLowerCase()===e){i.push(e+" is a blacklisted name")}}));if(s.includes(t.toLowerCase())){e.push(t+" is a core module name")}if(t.length>214){e.push("name can no longer contain more than 214 characters")}if(t.toLowerCase()!==t){e.push("name can no longer contain capital letters")}if(/[~'!()*]/.test(t.split("/").slice(-1)[0])){e.push('name can no longer contain special characters ("~\'!()*")')}if(encodeURIComponent(t)!==t){var o=t.match(n);if(o){var a=o[1];var h=o[2];if(encodeURIComponent(a)===a&&encodeURIComponent(h)===h){return done(e,i)}}i.push("name can only contain URL-friendly characters")}return done(e,i)}var done=function(t,e){var i={validForNewPackages:e.length===0&&t.length===0,validForOldPackages:e.length===0,warnings:t,errors:e};if(!i.warnings.length){delete i.warnings}if(!i.errors.length){delete i.errors}return i};t.exports=validate},204:function(t){"use strict";t.exports=require("../semver")},188:function(t){"use strict";t.exports=require("module")},37:function(t){"use strict";t.exports=require("os")},17:function(t){"use strict";t.exports=require("path")},310:function(t){"use strict";t.exports=require("url")},877:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.LRUCache=void 0;const i=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date;const s=new Set;const n=typeof process==="object"&&!!process?process:{};const emitWarning=(t,e,i,s)=>{typeof n.emitWarning==="function"?n.emitWarning(t,e,i,s):console.error(`[${i}] ${e}: ${t}`)};let r=globalThis.AbortController;let o=globalThis.AbortSignal;if(typeof r==="undefined"){o=class AbortSignal{onabort;_onabort=[];reason;aborted=false;addEventListener(t,e){this._onabort.push(e)}};r=class AbortController{constructor(){warnACPolyfill()}signal=new o;abort(t){if(this.signal.aborted)return;this.signal.reason=t;this.signal.aborted=true;for(const e of this.signal._onabort){e(t)}this.signal.onabort?.(t)}};let t=n.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const warnACPolyfill=()=>{if(!t)return;t=false;emitWarning("AbortController is not defined. If using lru-cache in "+"node 14, load an AbortController polyfill from the "+"`node-abort-controller` package. A minimal polyfill is "+"provided for use by LRUCache.fetch(), but it should not be "+"relied upon in other contexts (eg, passing it to other APIs that "+"use AbortController/AbortSignal might have undesirable effects). "+"You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",warnACPolyfill)}}const shouldWarn=t=>!s.has(t);const a=Symbol("type");const isPosInt=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t);const getUintArray=t=>!isPosInt(t)?null:t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?ZeroArray:null;class ZeroArray extends Array{constructor(t){super(t);this.fill(0)}}class Stack{heap;length;static#s=false;static create(t){const e=getUintArray(t);if(!e)return[];Stack.#s=true;const i=new Stack(t,e);Stack.#s=false;return i}constructor(t,e){if(!Stack.#s){throw new TypeError("instantiate Stack using Stack.create(n)")}this.heap=new e(t);this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class LRUCache{#n;#r;#o;#a;#h;#l;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#u;#f;#p;#d;#m;#g;#w;#S;#y;#b;#$;#v;#x;#L;#A;#z;static unsafeExposeInternals(t){return{starts:t.#v,ttls:t.#x,sizes:t.#$,keyMap:t.#f,keyList:t.#p,valList:t.#d,next:t.#m,prev:t.#g,get head(){return t.#w},get tail(){return t.#S},free:t.#y,isBackgroundFetch:e=>t.#_(e),backgroundFetch:(e,i,s,n)=>t.#k(e,i,s,n),moveToTail:e=>t.#E(e),indexes:e=>t.#F(e),rindexes:e=>t.#T(e),isStale:e=>t.#O(e)}}get max(){return this.#n}get maxSize(){return this.#r}get calculatedSize(){return this.#u}get size(){return this.#c}get fetchMethod(){return this.#h}get memoMethod(){return this.#l}get dispose(){return this.#o}get disposeAfter(){return this.#a}constructor(t){const{max:e=0,ttl:i,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:h,dispose:l,disposeAfter:c,noDisposeOnSet:u,noUpdateTTL:f,maxSize:p=0,maxEntrySize:d=0,sizeCalculation:m,fetchMethod:g,memoMethod:w,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:y,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:$,ignoreFetchAbort:v}=t;if(e!==0&&!isPosInt(e)){throw new TypeError("max option must be a nonnegative integer")}const x=e?getUintArray(e):Array;if(!x){throw new Error("invalid max value: "+e)}this.#n=e;this.#r=p;this.maxEntrySize=d||this.#r;this.sizeCalculation=m;if(this.sizeCalculation){if(!this.#r&&!this.maxEntrySize){throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize")}if(typeof this.sizeCalculation!=="function"){throw new TypeError("sizeCalculation set to non-function")}}if(w!==undefined&&typeof w!=="function"){throw new TypeError("memoMethod must be a function if defined")}this.#l=w;if(g!==undefined&&typeof g!=="function"){throw new TypeError("fetchMethod must be a function if specified")}this.#h=g;this.#A=!!g;this.#f=new Map;this.#p=new Array(e).fill(undefined);this.#d=new Array(e).fill(undefined);this.#m=new x(e);this.#g=new x(e);this.#w=0;this.#S=0;this.#y=Stack.create(e);this.#c=0;this.#u=0;if(typeof l==="function"){this.#o=l}if(typeof c==="function"){this.#a=c;this.#b=[]}else{this.#a=undefined;this.#b=undefined}this.#L=!!this.#o;this.#z=!!this.#a;this.noDisposeOnSet=!!u;this.noUpdateTTL=!!f;this.noDeleteOnFetchRejection=!!S;this.allowStaleOnFetchRejection=!!b;this.allowStaleOnFetchAbort=!!$;this.ignoreFetchAbort=!!v;if(this.maxEntrySize!==0){if(this.#r!==0){if(!isPosInt(this.#r)){throw new TypeError("maxSize must be a positive integer if specified")}}if(!isPosInt(this.maxEntrySize)){throw new TypeError("maxEntrySize must be a positive integer if specified")}this.#R()}this.allowStale=!!h;this.noDeleteOnStaleGet=!!y;this.updateAgeOnGet=!!o;this.updateAgeOnHas=!!a;this.ttlResolution=isPosInt(n)||n===0?n:1;this.ttlAutopurge=!!r;this.ttl=i||0;if(this.ttl){if(!isPosInt(this.ttl)){throw new TypeError("ttl must be a positive integer if specified")}this.#C()}if(this.#n===0&&this.ttl===0&&this.#r===0){throw new TypeError("At least one of max, maxSize, or ttl is required")}if(!this.ttlAutopurge&&!this.#n&&!this.#r){const t="LRU_CACHE_UNBOUNDED";if(shouldWarn(t)){s.add(t);const e="TTL caching without ttlAutopurge, max, or maxSize can "+"result in unbounded memory consumption.";emitWarning(e,"UnboundedCacheWarning",t,LRUCache)}}}getRemainingTTL(t){return this.#f.has(t)?Infinity:0}#C(){const t=new ZeroArray(this.#n);const e=new ZeroArray(this.#n);this.#x=t;this.#v=e;this.#j=(s,n,r=i.now())=>{e[s]=n!==0?r:0;t[s]=n;if(n!==0&&this.ttlAutopurge){const t=setTimeout((()=>{if(this.#O(s)){this.#D(this.#p[s],"expire")}}),n+1);if(t.unref){t.unref()}}};this.#U=s=>{e[s]=t[s]!==0?i.now():0};this.#I=(i,n)=>{if(t[n]){const r=t[n];const o=e[n];if(!r||!o)return;i.ttl=r;i.start=o;i.now=s||getNow();const a=i.now-o;i.remainingTTL=r-a}};let s=0;const getNow=()=>{const t=i.now();if(this.ttlResolution>0){s=t;const e=setTimeout((()=>s=0),this.ttlResolution);if(e.unref){e.unref()}}return t};this.getRemainingTTL=i=>{const n=this.#f.get(i);if(n===undefined){return 0}const r=t[n];const o=e[n];if(!r||!o){return Infinity}const a=(s||getNow())-o;return r-a};this.#O=i=>{const n=e[i];const r=t[i];return!!r&&!!n&&(s||getNow())-n>r}}#U=()=>{};#I=()=>{};#j=()=>{};#O=()=>false;#R(){const t=new ZeroArray(this.#n);this.#u=0;this.#$=t;this.#W=e=>{this.#u-=t[e];t[e]=0};this.#M=(t,e,i,s)=>{if(this.#_(e)){return 0}if(!isPosInt(i)){if(s){if(typeof s!=="function"){throw new TypeError("sizeCalculation must be a function")}i=s(e,t);if(!isPosInt(i)){throw new TypeError("sizeCalculation return invalid (expect positive integer)")}}else{throw new TypeError("invalid size value (must be positive integer). "+"When maxSize or maxEntrySize is used, sizeCalculation "+"or size must be set.")}}return i};this.#G=(e,i,s)=>{t[e]=i;if(this.#r){const i=this.#r-t[e];while(this.#u>i){this.#H(true)}}this.#u+=t[e];if(s){s.entrySize=i;s.totalCalculatedSize=this.#u}}}#W=t=>{};#G=(t,e,i)=>{};#M=(t,e,i,s)=>{if(i||s){throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}return 0};*#F({allowStale:t=this.allowStale}={}){if(this.#c){for(let e=this.#S;true;){if(!this.#N(e)){break}if(t||!this.#O(e)){yield e}if(e===this.#w){break}else{e=this.#g[e]}}}}*#T({allowStale:t=this.allowStale}={}){if(this.#c){for(let e=this.#w;true;){if(!this.#N(e)){break}if(t||!this.#O(e)){yield e}if(e===this.#S){break}else{e=this.#m[e]}}}}#N(t){return t!==undefined&&this.#f.get(this.#p[t])===t}*entries(){for(const t of this.#F()){if(this.#d[t]!==undefined&&this.#p[t]!==undefined&&!this.#_(this.#d[t])){yield[this.#p[t],this.#d[t]]}}}*rentries(){for(const t of this.#T()){if(this.#d[t]!==undefined&&this.#p[t]!==undefined&&!this.#_(this.#d[t])){yield[this.#p[t],this.#d[t]]}}}*keys(){for(const t of this.#F()){const e=this.#p[t];if(e!==undefined&&!this.#_(this.#d[t])){yield e}}}*rkeys(){for(const t of this.#T()){const e=this.#p[t];if(e!==undefined&&!this.#_(this.#d[t])){yield e}}}*values(){for(const t of this.#F()){const e=this.#d[t];if(e!==undefined&&!this.#_(this.#d[t])){yield this.#d[t]}}}*rvalues(){for(const t of this.#T()){const e=this.#d[t];if(e!==undefined&&!this.#_(this.#d[t])){yield this.#d[t]}}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const i of this.#F()){const s=this.#d[i];const n=this.#_(s)?s.__staleWhileFetching:s;if(n===undefined)continue;if(t(n,this.#p[i],this)){return this.get(this.#p[i],e)}}}forEach(t,e=this){for(const i of this.#F()){const s=this.#d[i];const n=this.#_(s)?s.__staleWhileFetching:s;if(n===undefined)continue;t.call(e,n,this.#p[i],this)}}rforEach(t,e=this){for(const i of this.#T()){const s=this.#d[i];const n=this.#_(s)?s.__staleWhileFetching:s;if(n===undefined)continue;t.call(e,n,this.#p[i],this)}}purgeStale(){let t=false;for(const e of this.#T({allowStale:true})){if(this.#O(e)){this.#D(this.#p[e],"expire");t=true}}return t}info(t){const e=this.#f.get(t);if(e===undefined)return undefined;const s=this.#d[e];const n=this.#_(s)?s.__staleWhileFetching:s;if(n===undefined)return undefined;const r={value:n};if(this.#x&&this.#v){const t=this.#x[e];const s=this.#v[e];if(t&&s){const e=t-(i.now()-s);r.ttl=e;r.start=Date.now()}}if(this.#$){r.size=this.#$[e]}return r}dump(){const t=[];for(const e of this.#F({allowStale:true})){const s=this.#p[e];const n=this.#d[e];const r=this.#_(n)?n.__staleWhileFetching:n;if(r===undefined||s===undefined)continue;const o={value:r};if(this.#x&&this.#v){o.ttl=this.#x[e];const t=i.now()-this.#v[e];o.start=Math.floor(Date.now()-t)}if(this.#$){o.size=this.#$[e]}t.unshift([s,o])}return t}load(t){this.clear();for(const[e,s]of t){if(s.start){const t=Date.now()-s.start;s.start=i.now()-t}this.set(e,s.value,s)}}set(t,e,i={}){if(e===undefined){this.delete(t);return this}const{ttl:s=this.ttl,start:n,noDisposeOnSet:r=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=i;let{noUpdateTTL:h=this.noUpdateTTL}=i;const l=this.#M(t,e,i.size||0,o);if(this.maxEntrySize&&l>this.maxEntrySize){if(a){a.set="miss";a.maxEntrySizeExceeded=true}this.#D(t,"set");return this}let c=this.#c===0?undefined:this.#f.get(t);if(c===undefined){c=this.#c===0?this.#S:this.#y.length!==0?this.#y.pop():this.#c===this.#n?this.#H(false):this.#c;this.#p[c]=t;this.#d[c]=e;this.#f.set(t,c);this.#m[this.#S]=c;this.#g[c]=this.#S;this.#S=c;this.#c++;this.#G(c,l,a);if(a)a.set="add";h=false}else{this.#E(c);const i=this.#d[c];if(e!==i){if(this.#A&&this.#_(i)){i.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=i;if(e!==undefined&&!r){if(this.#L){this.#o?.(e,t,"set")}if(this.#z){this.#b?.push([e,t,"set"])}}}else if(!r){if(this.#L){this.#o?.(i,t,"set")}if(this.#z){this.#b?.push([i,t,"set"])}}this.#W(c);this.#G(c,l,a);this.#d[c]=e;if(a){a.set="replace";const t=i&&this.#_(i)?i.__staleWhileFetching:i;if(t!==undefined)a.oldValue=t}}else if(a){a.set="update"}}if(s!==0&&!this.#x){this.#C()}if(this.#x){if(!h){this.#j(c,s,n)}if(a)this.#I(a,c)}if(!r&&this.#z&&this.#b){const t=this.#b;let e;while(e=t?.shift()){this.#a?.(...e)}}return this}pop(){try{while(this.#c){const t=this.#d[this.#w];this.#H(true);if(this.#_(t)){if(t.__staleWhileFetching){return t.__staleWhileFetching}}else if(t!==undefined){return t}}}finally{if(this.#z&&this.#b){const t=this.#b;let e;while(e=t?.shift()){this.#a?.(...e)}}}}#H(t){const e=this.#w;const i=this.#p[e];const s=this.#d[e];if(this.#A&&this.#_(s)){s.__abortController.abort(new Error("evicted"))}else if(this.#L||this.#z){if(this.#L){this.#o?.(s,i,"evict")}if(this.#z){this.#b?.push([s,i,"evict"])}}this.#W(e);if(t){this.#p[e]=undefined;this.#d[e]=undefined;this.#y.push(e)}if(this.#c===1){this.#w=this.#S=0;this.#y.length=0}else{this.#w=this.#m[e]}this.#f.delete(i);this.#c--;return e}has(t,e={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:s}=e;const n=this.#f.get(t);if(n!==undefined){const t=this.#d[n];if(this.#_(t)&&t.__staleWhileFetching===undefined){return false}if(!this.#O(n)){if(i){this.#U(n)}if(s){s.has="hit";this.#I(s,n)}return true}else if(s){s.has="stale";this.#I(s,n)}}else if(s){s.has="miss"}return false}peek(t,e={}){const{allowStale:i=this.allowStale}=e;const s=this.#f.get(t);if(s===undefined||!i&&this.#O(s)){return}const n=this.#d[s];return this.#_(n)?n.__staleWhileFetching:n}#k(t,e,i,s){const n=e===undefined?undefined:this.#d[e];if(this.#_(n)){return n}const o=new r;const{signal:a}=i;a?.addEventListener("abort",(()=>o.abort(a.reason)),{signal:o.signal});const h={signal:o.signal,options:i,context:s};const cb=(s,n=false)=>{const{aborted:r}=o.signal;const a=i.ignoreFetchAbort&&s!==undefined;if(i.status){if(r&&!n){i.status.fetchAborted=true;i.status.fetchError=o.signal.reason;if(a)i.status.fetchAbortIgnored=true}else{i.status.fetchResolved=true}}if(r&&!a&&!n){return fetchFail(o.signal.reason)}const c=l;if(this.#d[e]===l){if(s===undefined){if(c.__staleWhileFetching){this.#d[e]=c.__staleWhileFetching}else{this.#D(t,"fetch")}}else{if(i.status)i.status.fetchUpdated=true;this.set(t,s,h.options)}}return s};const eb=t=>{if(i.status){i.status.fetchRejected=true;i.status.fetchError=t}return fetchFail(t)};const fetchFail=s=>{const{aborted:n}=o.signal;const r=n&&i.allowStaleOnFetchAbort;const a=r||i.allowStaleOnFetchRejection;const h=a||i.noDeleteOnFetchRejection;const c=l;if(this.#d[e]===l){const i=!h||c.__staleWhileFetching===undefined;if(i){this.#D(t,"fetch")}else if(!r){this.#d[e]=c.__staleWhileFetching}}if(a){if(i.status&&c.__staleWhileFetching!==undefined){i.status.returnedStale=true}return c.__staleWhileFetching}else if(c.__returned===c){throw s}};const pcall=(e,s)=>{const r=this.#h?.(t,n,h);if(r&&r instanceof Promise){r.then((t=>e(t===undefined?undefined:t)),s)}o.signal.addEventListener("abort",(()=>{if(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort){e(undefined);if(i.allowStaleOnFetchAbort){e=t=>cb(t,true)}}}))};if(i.status)i.status.fetchDispatched=true;const l=new Promise(pcall).then(cb,eb);const c=Object.assign(l,{__abortController:o,__staleWhileFetching:n,__returned:undefined});if(e===undefined){this.set(t,c,{...h.options,status:undefined});e=this.#f.get(t)}else{this.#d[e]=c}return c}#_(t){if(!this.#A)return false;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof r}async fetch(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:r=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:d,forceRefresh:m=false,status:g,signal:w}=e;if(!this.#A){if(g)g.fetch="get";return this.get(t,{allowStale:i,updateAgeOnGet:s,noDeleteOnStaleGet:n,status:g})}const S={allowStale:i,updateAgeOnGet:s,noDeleteOnStaleGet:n,ttl:r,noDisposeOnSet:o,size:a,sizeCalculation:h,noUpdateTTL:l,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:p,ignoreFetchAbort:f,status:g,signal:w};let y=this.#f.get(t);if(y===undefined){if(g)g.fetch="miss";const e=this.#k(t,y,S,d);return e.__returned=e}else{const e=this.#d[y];if(this.#_(e)){const t=i&&e.__staleWhileFetching!==undefined;if(g){g.fetch="inflight";if(t)g.returnedStale=true}return t?e.__staleWhileFetching:e.__returned=e}const n=this.#O(y);if(!m&&!n){if(g)g.fetch="hit";this.#E(y);if(s){this.#U(y)}if(g)this.#I(g,y);return e}const r=this.#k(t,y,S,d);const o=r.__staleWhileFetching!==undefined;const a=o&&i;if(g){g.fetch=n?"stale":"refresh";if(a&&n)g.returnedStale=true}return a?r.__staleWhileFetching:r.__returned=r}}async forceFetch(t,e={}){const i=await this.fetch(t,e);if(i===undefined)throw new Error("fetch() returned undefined");return i}memo(t,e={}){const i=this.#l;if(!i){throw new Error("no memoMethod provided to constructor")}const{context:s,forceRefresh:n,...r}=e;const o=this.get(t,r);if(!n&&o!==undefined)return o;const a=i(t,o,{options:r,context:s});this.set(t,a,r);return a}get(t,e={}){const{allowStale:i=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:r}=e;const o=this.#f.get(t);if(o!==undefined){const e=this.#d[o];const a=this.#_(e);if(r)this.#I(r,o);if(this.#O(o)){if(r)r.get="stale";if(!a){if(!n){this.#D(t,"expire")}if(r&&i)r.returnedStale=true;return i?e:undefined}else{if(r&&i&&e.__staleWhileFetching!==undefined){r.returnedStale=true}return i?e.__staleWhileFetching:undefined}}else{if(r)r.get="hit";if(a){return e.__staleWhileFetching}this.#E(o);if(s){this.#U(o)}return e}}else if(r){r.get="miss"}}#P(t,e){this.#g[e]=t;this.#m[t]=e}#E(t){if(t!==this.#S){if(t===this.#w){this.#w=this.#m[t]}else{this.#P(this.#g[t],this.#m[t])}this.#P(this.#S,t);this.#S=t}}delete(t){return this.#D(t,"delete")}#D(t,e){let i=false;if(this.#c!==0){const s=this.#f.get(t);if(s!==undefined){i=true;if(this.#c===1){this.#B(e)}else{this.#W(s);const i=this.#d[s];if(this.#_(i)){i.__abortController.abort(new Error("deleted"))}else if(this.#L||this.#z){if(this.#L){this.#o?.(i,t,e)}if(this.#z){this.#b?.push([i,t,e])}}this.#f.delete(t);this.#p[s]=undefined;this.#d[s]=undefined;if(s===this.#S){this.#S=this.#g[s]}else if(s===this.#w){this.#w=this.#m[s]}else{const t=this.#g[s];this.#m[t]=this.#m[s];const e=this.#m[s];this.#g[e]=this.#g[s]}this.#c--;this.#y.push(s)}}}if(this.#z&&this.#b?.length){const t=this.#b;let e;while(e=t?.shift()){this.#a?.(...e)}}return i}clear(){return this.#B("delete")}#B(t){for(const e of this.#T({allowStale:true})){const i=this.#d[e];if(this.#_(i)){i.__abortController.abort(new Error("deleted"))}else{const s=this.#p[e];if(this.#L){this.#o?.(i,s,t)}if(this.#z){this.#b?.push([i,s,t])}}}this.#f.clear();this.#d.fill(undefined);this.#p.fill(undefined);if(this.#x&&this.#v){this.#x.fill(0);this.#v.fill(0)}if(this.#$){this.#$.fill(0)}this.#w=0;this.#S=0;this.#y.length=0;this.#u=0;this.#c=0;if(this.#z&&this.#b){const t=this.#b;let e;while(e=t?.shift()){this.#a?.(...e)}}}}e.LRUCache=LRUCache}};var e={};function __nccwpck_require__(i){var s=e[i];if(s!==undefined){return s.exports}var n=e[i]={exports:{}};var r=true;try{t[i](n,n.exports,__nccwpck_require__);r=false}finally{if(r)delete e[i]}return n.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var i=__nccwpck_require__(566);module.exports=i})();