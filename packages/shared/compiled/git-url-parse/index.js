(()=>{"use strict";var e={543:(e,r,t)=>{const o=t(811),n=t(492);function gitUp(e){let r=o(e);r.token="";if(r.password==="x-oauth-basic"){r.token=r.user}else if(r.user==="x-token-auth"){r.token=r.password}if(n(r.protocols)||r.protocols.length===0&&n(e)){r.protocol="ssh"}else if(r.protocols.length){r.protocol=r.protocols[0]}else{r.protocol="file";r.protocols=["file"]}r.href=r.href.replace(/\/$/,"");return r}e.exports=gitUp},608:(e,r,t)=>{var o=t(543);function gitUrlParse(e,r){r=r||[];if(typeof e!=="string"){throw new Error("The url must be a string.")}if(!r.every((function(e){return typeof e==="string"}))){throw new Error("The refs should contain only strings")}var t=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;if(t.test(e)){e="https://github.com/"+e}var n=o(e),s=n.resource.split("."),i=null;n.toString=function(e){return gitUrlParse.stringify(this,e)};n.source=s.length>2?s.slice(1-s.length).join("."):n.source=n.resource;n.git_suffix=/\.git$/.test(n.pathname);n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,""));n.owner=decodeURIComponent(n.user);switch(n.source){case"git.cloudforge.com":n.owner=n.user;n.organization=s[0];n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){i=n.name.split("/");if(i.length===4){n.organization=i[1];n.owner=i[2];n.name=i[3];n.full_name=i[2]+"/"+i[3]}break}else{i=n.name.split("/");if(i.length===2){n.owner=i[1];n.name=i[1];n.full_name="_git/"+n.name}else if(i.length===3){n.name=i[2];if(i[0]==="DefaultCollection"){n.owner=i[2];n.organization=i[0];n.full_name=n.organization+"/_git/"+n.name}else{n.owner=i[0];n.full_name=n.owner+"/_git/"+n.name}}else if(i.length===4){n.organization=i[0];n.owner=i[1];n.name=i[3];n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name}break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){i=n.name.split("/");if(i.length===4){n.organization=i[1];n.owner=i[2];n.name=i[3]}break}else{i=n.name.split("/");if(i.length===5){n.organization=i[0];n.owner=i[1];n.name=i[4];n.full_name="_git/"+n.name}else if(i.length===3){n.name=i[2];if(i[0]==="DefaultCollection"){n.owner=i[2];n.organization=i[0];n.full_name=n.organization+"/_git/"+n.name}else{n.owner=i[0];n.full_name=n.owner+"/_git/"+n.name}}else if(i.length===4){n.organization=i[0];n.owner=i[1];n.name=i[3];n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name}if(n.query&&n.query["path"]){n.filepath=n.query["path"].replace(/^\/+/g,"")}if(n.query&&n.query["version"]){n.ref=n.query["version"].replace(/^GB/,"")}break}default:i=n.name.split("/");var l=i.length-1;if(i.length>=2){var f=i.indexOf("-",2);var c=i.indexOf("blob",2);var u=i.indexOf("tree",2);var p=i.indexOf("commit",2);var h=i.indexOf("issues",2);var m=i.indexOf("src",2);var d=i.indexOf("raw",2);var g=i.indexOf("edit",2);l=f>0?f-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:h>0?h-1:u>0?u-1:p>0?p-1:m>0?m-1:d>0?d-1:g>0?g-1:l;n.owner=i.slice(0,l).join("/");n.name=i[l];if(p&&h<0){n.commit=i[l+2]}}n.ref="";n.filepathtype="";n.filepath="";var v=i.length>l&&i[l+1]==="-"?l+1:l;if(i.length>v+2&&["raw","src","blob","tree","edit"].indexOf(i[v+1])>=0){n.filepathtype=i[v+1];n.ref=i[v+2];if(i.length>v+3){n.filepath=i.slice(v+3).join("/")}}n.organization=n.owner;break}if(!n.full_name){n.full_name=n.owner;if(n.name){n.full_name&&(n.full_name+="/");n.full_name+=n.name}}if(n.owner.startsWith("scm/")){n.source="bitbucket-server";n.owner=n.owner.replace("scm/","");n.organization=n.owner;n.full_name=n.owner+"/"+n.name}var _=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/;var w=_.exec(n.pathname);if(w!=null){n.source="bitbucket-server";if(w[1]==="users"){n.owner="~"+w[2]}else{n.owner=w[2]}n.organization=n.owner;n.name=w[3];i=w[4].split("/");if(i.length>1){if(["raw","browse"].indexOf(i[1])>=0){n.filepathtype=i[1];if(i.length>2){n.filepath=i.slice(2).join("/")}}else if(i[1]==="commits"&&i.length>2){n.commit=i[2]}}n.full_name=n.owner+"/"+n.name;if(n.query.at){n.ref=n.query.at}else{n.ref=""}}if(r.length!==0&&n.ref){n.ref=findLongestMatchingSubstring(n.href,r)||n.ref;n.filepath=n.href.split(n.ref+"/")[1]}return n}gitUrlParse.stringify=function(e,r){r=r||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var t=e.port?":"+e.port:"";var o=e.user||"git";var n=e.git_suffix?".git":"";switch(r){case"ssh":if(t)return"ssh://"+o+"@"+e.resource+t+"/"+e.full_name+n;else return o+"@"+e.resource+":"+e.full_name+n;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return r+"://"+o+"@"+e.resource+t+"/"+e.full_name+n;case"http":case"https":var s=e.token?buildToken(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return r+"://"+s+e.resource+t+"/"+buildPath(e)+n;default:return e.href}};
/*!
 * buildToken
 * Builds OAuth token prefix (helper function)
 *
 * @name buildToken
 * @function
 * @param {GitUrl} obj The parsed Git url object.
 * @return {String} token prefix
 */function buildToken(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}function buildPath(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var r=e.full_name.split("/").map((function(e){return encodeURIComponent(e)})).join("/");return r}}function findLongestMatchingSubstring(e,r){var t="";r.forEach((function(r){if(e.includes(r)&&r.length>t.length){t=r}}));return t}e.exports=gitUrlParse},492:(e,r,t)=>{var o=t(49);function isSsh(e){if(Array.isArray(e)){return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1}if(typeof e!=="string"){return false}var r=o(e);e=e.substring(e.indexOf("://")+3);if(isSsh(r)){return true}var t=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(t)&&e.indexOf("@")<e.indexOf(":")}e.exports=isSsh},321:(e,r,t)=>{var o=t(49);function parsePath(e){var r={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:false};try{var t=new URL(e);r.protocols=o(t);r.protocol=r.protocols[0];r.port=t.port;r.resource=t.hostname;r.host=t.host;r.user=t.username||"";r.password=t.password||"";r.pathname=t.pathname;r.hash=t.hash.slice(1);r.search=t.search.slice(1);r.href=t.href;r.query=Object.fromEntries(t.searchParams)}catch(t){r.protocols=["file"];r.protocol=r.protocols[0];r.port="";r.resource="";r.user="";r.pathname="";r.hash="";r.search="";r.href=e;r.query={};r.parse_failed=true}return r}e.exports=parsePath},811:(e,r,t)=>{var o=t(321);function _interopDefaultLegacy(e){return e&&typeof e==="object"&&"default"in e?e:{default:e}}var n=_interopDefaultLegacy(o);function getAugmentedNamespace(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var t=function a(){if(this instanceof a){var e=[null];e.push.apply(e,arguments);var t=Function.bind.apply(r,e);return new t}return r.apply(this,arguments)};t.prototype=r.prototype}else t={};Object.defineProperty(t,"__esModule",{value:true});Object.keys(e).forEach((function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:true,get:function(){return e[r]}})}));return t}var s={};const i="text/plain";const l="us-ascii";const testParameter=(e,r)=>r.some((r=>r instanceof RegExp?r.test(e):r===e));const normalizeDataURL=(e,{stripHash:r})=>{const t=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!t){throw new Error(`Invalid URL: ${e}`)}let{type:o,data:n,hash:s}=t.groups;const f=o.split(";");s=r?"":s;let c=false;if(f[f.length-1]==="base64"){f.pop();c=true}const u=(f.shift()||"").toLowerCase();const p=f.map((e=>{let[r,t=""]=e.split("=").map((e=>e.trim()));if(r==="charset"){t=t.toLowerCase();if(t===l){return""}}return`${r}${t?`=${t}`:""}`})).filter(Boolean);const h=[...p];if(c){h.push("base64")}if(h.length>0||u&&u!==i){h.unshift(u)}return`data:${h.join(";")},${c?n.trim():n}${s?`#${s}`:""}`};function normalizeUrl(e,r){r={defaultProtocol:"http:",normalizeProtocol:true,forceHttp:false,forceHttps:false,stripAuthentication:true,stripHash:false,stripTextFragment:true,stripWWW:true,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:true,removeSingleSlash:true,removeDirectoryIndex:false,sortQueryParameters:true,...r};e=e.trim();if(/^data:/i.test(e)){return normalizeDataURL(e,r)}if(/^view-source:/i.test(e)){throw new Error("`view-source:` is not supported as it is a non-standard protocol")}const t=e.startsWith("//");const o=!t&&/^\.*\//.test(e);if(!o){e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,r.defaultProtocol)}const n=new URL(e);if(r.forceHttp&&r.forceHttps){throw new Error("The `forceHttp` and `forceHttps` options cannot be used together")}if(r.forceHttp&&n.protocol==="https:"){n.protocol="http:"}if(r.forceHttps&&n.protocol==="http:"){n.protocol="https:"}if(r.stripAuthentication){n.username="";n.password=""}if(r.stripHash){n.hash=""}else if(r.stripTextFragment){n.hash=n.hash.replace(/#?:~:text.*?$/i,"")}if(n.pathname){const e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let r=0;let t="";for(;;){const o=e.exec(n.pathname);if(!o){break}const s=o[0];const i=o.index;const l=n.pathname.slice(r,i);t+=l.replace(/\/{2,}/g,"/");t+=s;r=i+s.length}const o=n.pathname.slice(r,n.pathname.length);t+=o.replace(/\/{2,}/g,"/");n.pathname=t}if(n.pathname){try{n.pathname=decodeURI(n.pathname)}catch{}}if(r.removeDirectoryIndex===true){r.removeDirectoryIndex=[/^index\.[a-z]+$/]}if(Array.isArray(r.removeDirectoryIndex)&&r.removeDirectoryIndex.length>0){let e=n.pathname.split("/");const t=e[e.length-1];if(testParameter(t,r.removeDirectoryIndex)){e=e.slice(0,-1);n.pathname=e.slice(1).join("/")+"/"}}if(n.hostname){n.hostname=n.hostname.replace(/\.$/,"");if(r.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(n.hostname)){n.hostname=n.hostname.replace(/^www\./,"")}}if(Array.isArray(r.removeQueryParameters)){for(const e of[...n.searchParams.keys()]){if(testParameter(e,r.removeQueryParameters)){n.searchParams.delete(e)}}}if(r.removeQueryParameters===true){n.search=""}if(r.sortQueryParameters){n.searchParams.sort();try{n.search=decodeURIComponent(n.search)}catch{}}if(r.removeTrailingSlash){n.pathname=n.pathname.replace(/\/$/,"")}const s=e;e=n.toString();if(!r.removeSingleSlash&&n.pathname==="/"&&!s.endsWith("/")&&n.hash===""){e=e.replace(/\/$/,"")}if((r.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&r.removeSingleSlash){e=e.replace(/\/$/,"")}if(t&&!r.normalizeProtocol){e=e.replace(/^http:\/\//,"//")}if(r.stripProtocol){e=e.replace(/^(?:https?:)?\/\//,"")}return e}var f=Object.freeze({__proto__:null,default:normalizeUrl});var c=getAugmentedNamespace(f);Object.defineProperty(s,"__esModule",{value:true});var u=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var p=c;var h=_interopRequireDefault(p);var m=n["default"];var d=_interopRequireDefault(m);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var g=function parseUrl(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var t=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/;var o=function throwErr(r){var t=new Error(r);t.subject_url=e;throw t};if(typeof e!=="string"||!e.trim()){o("Invalid url.")}if(e.length>parseUrl.MAX_INPUT_LENGTH){o("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH.")}if(r){if((typeof r==="undefined"?"undefined":u(r))!=="object"){r={stripHash:false}}e=(0,h.default)(e,r)}var n=(0,d.default)(e);if(n.parse_failed){var s=n.href.match(t);if(s){n.protocols=["ssh"];n.protocol="ssh";n.resource=s[2];n.host=s[2];n.user=s[1];n.pathname="/"+s[3];n.parse_failed=false}else{o("URL parsing failed.")}}return n};g.MAX_INPUT_LENGTH=2048;var v=s.default=g;e.exports=v},49:e=>{e.exports=function protocols(e,r){if(r===true){r=0}var t="";if(typeof e==="string"){try{t=new URL(e).protocol}catch(e){}}else if(e&&e.constructor===URL){t=e.protocol}var o=t.split(/\:|\+/).filter(Boolean);if(typeof r==="number"){return o[r]}return o}}};var r={};function __nccwpck_require__(t){var o=r[t];if(o!==undefined){return o.exports}var n=r[t]={exports:{}};var s=true;try{e[t](n,n.exports,__nccwpck_require__);s=false}finally{if(s)delete r[t]}return n.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var t=__nccwpck_require__(608);module.exports=t})();