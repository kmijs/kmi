(function(){var t={57:function(t,e,i){"use strict";const isObject=t=>t!==null&&typeof t==="object"&&!Array.isArray(t);const s=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g;const hasColor=()=>{if(typeof process!=="undefined"){return process.env.FORCE_COLOR!=="0"}return false};const create=()=>{const t={enabled:hasColor(),visible:true,styles:{},keys:{}};const ansi=t=>{let e=t.open=`[${t.codes[0]}m`;let i=t.close=`[${t.codes[1]}m`;let s=t.regex=new RegExp(`\\u001b\\[${t.codes[1]}m`,"g");t.wrap=(t,r)=>{if(t.includes(i))t=t.replace(s,i+e);let n=e+t+i;return r?n.replace(/\r*\n/g,`${i}$&${e}`):n};return t};const wrap=(t,e,i)=>typeof t==="function"?t(e):t.wrap(e,i);const style=(e,i)=>{if(e===""||e==null)return"";if(t.enabled===false)return e;if(t.visible===false)return"";let s=""+e;let r=s.includes("\n");let n=i.length;if(n>0&&i.includes("unstyle")){i=[...new Set(["unstyle",...i])].reverse()}while(n-- >0)s=wrap(t.styles[i[n]],s,r);return s};const define=(e,i,s)=>{t.styles[e]=ansi({name:e,codes:i});let r=t.keys[s]||(t.keys[s]=[]);r.push(e);Reflect.defineProperty(t,e,{configurable:true,enumerable:true,set(i){t.alias(e,i)},get(){let color=t=>style(t,color.stack);Reflect.setPrototypeOf(color,t);color.stack=this.stack?this.stack.concat(e):[e];return color}})};define("reset",[0,0],"modifier");define("bold",[1,22],"modifier");define("dim",[2,22],"modifier");define("italic",[3,23],"modifier");define("underline",[4,24],"modifier");define("inverse",[7,27],"modifier");define("hidden",[8,28],"modifier");define("strikethrough",[9,29],"modifier");define("black",[30,39],"color");define("red",[31,39],"color");define("green",[32,39],"color");define("yellow",[33,39],"color");define("blue",[34,39],"color");define("magenta",[35,39],"color");define("cyan",[36,39],"color");define("white",[37,39],"color");define("gray",[90,39],"color");define("grey",[90,39],"color");define("bgBlack",[40,49],"bg");define("bgRed",[41,49],"bg");define("bgGreen",[42,49],"bg");define("bgYellow",[43,49],"bg");define("bgBlue",[44,49],"bg");define("bgMagenta",[45,49],"bg");define("bgCyan",[46,49],"bg");define("bgWhite",[47,49],"bg");define("blackBright",[90,39],"bright");define("redBright",[91,39],"bright");define("greenBright",[92,39],"bright");define("yellowBright",[93,39],"bright");define("blueBright",[94,39],"bright");define("magentaBright",[95,39],"bright");define("cyanBright",[96,39],"bright");define("whiteBright",[97,39],"bright");define("bgBlackBright",[100,49],"bgBright");define("bgRedBright",[101,49],"bgBright");define("bgGreenBright",[102,49],"bgBright");define("bgYellowBright",[103,49],"bgBright");define("bgBlueBright",[104,49],"bgBright");define("bgMagentaBright",[105,49],"bgBright");define("bgCyanBright",[106,49],"bgBright");define("bgWhiteBright",[107,49],"bgBright");t.ansiRegex=s;t.hasColor=t.hasAnsi=e=>{t.ansiRegex.lastIndex=0;return typeof e==="string"&&e!==""&&t.ansiRegex.test(e)};t.alias=(e,i)=>{let s=typeof i==="string"?t[i]:i;if(typeof s!=="function"){throw new TypeError("Expected alias to be the name of an existing color (string) or a function")}if(!s.stack){Reflect.defineProperty(s,"name",{value:e});t.styles[e]=s;s.stack=[e]}Reflect.defineProperty(t,e,{configurable:true,enumerable:true,set(i){t.alias(e,i)},get(){let color=t=>style(t,color.stack);Reflect.setPrototypeOf(color,t);color.stack=this.stack?this.stack.concat(s.stack):s.stack;return color}})};t.theme=e=>{if(!isObject(e))throw new TypeError("Expected theme to be an object");for(let i of Object.keys(e)){t.alias(i,e[i])}return t};t.alias("unstyle",(e=>{if(typeof e==="string"&&e!==""){t.ansiRegex.lastIndex=0;return e.replace(t.ansiRegex,"")}return""}));t.alias("noop",(t=>t));t.none=t.clear=t.noop;t.stripColor=t.unstyle;t.symbols=i(117);t.define=define;return t};t.exports=create();t.exports.create=create},117:function(t){"use strict";const e=typeof process!=="undefined"&&process.env.TERM_PROGRAM==="Hyper";const i=typeof process!=="undefined"&&process.platform==="win32";const s=typeof process!=="undefined"&&process.platform==="linux";const r={ballotDisabled:"☒",ballotOff:"☐",ballotOn:"☑",bullet:"•",bulletWhite:"◦",fullBlock:"█",heart:"❤",identicalTo:"≡",line:"─",mark:"※",middot:"·",minus:"－",multiplication:"×",obelus:"÷",pencilDownRight:"✎",pencilRight:"✏",pencilUpRight:"✐",percent:"%",pilcrow2:"❡",pilcrow:"¶",plusMinus:"±",question:"?",section:"§",starsOff:"☆",starsOn:"★",upDownArrow:"↕"};const n=Object.assign({},r,{check:"√",cross:"×",ellipsisLarge:"...",ellipsis:"...",info:"i",questionSmall:"?",pointer:">",pointerSmall:"»",radioOff:"( )",radioOn:"(*)",warning:"‼"});const l=Object.assign({},r,{ballotCross:"✘",check:"✔",cross:"✖",ellipsisLarge:"⋯",ellipsis:"…",info:"ℹ",questionFull:"？",questionSmall:"﹖",pointer:s?"▸":"❯",pointerSmall:s?"‣":"›",radioOff:"◯",radioOn:"◉",warning:"⚠"});t.exports=i&&!e?n:l;Reflect.defineProperty(t.exports,"common",{enumerable:false,value:r});Reflect.defineProperty(t.exports,"windows",{enumerable:false,value:n});Reflect.defineProperty(t.exports,"other",{enumerable:false,value:l})},589:function(t,e,i){"use strict";const s=i(491);const r=i(361);const n=i(408);class Enquirer extends r{constructor(t,e){super();this.options=n.merge({},t);this.answers={...e}}register(t,e){if(n.isObject(t)){for(let e of Object.keys(t))this.register(e,t[e]);return this}s.equal(typeof e,"function","expected a function");const i=t.toLowerCase();if(e.prototype instanceof this.Prompt){this.prompts[i]=e}else{this.prompts[i]=e(this.Prompt,this)}return this}async prompt(t=[]){for(let e of[].concat(t)){try{if(typeof e==="function")e=await e.call(this);await this.ask(n.merge({},this.options,e))}catch(t){return Promise.reject(t)}}return this.answers}async ask(t){if(typeof t==="function"){t=await t.call(this)}let e=n.merge({},this.options,t);let{type:i,name:r}=t;let{set:l,get:a}=n;if(typeof i==="function"){i=await i.call(this,t,this.answers)}if(!i)return this.answers[r];if(i==="number")i="numeral";s(this.prompts[i],`Prompt "${i}" is not registered`);let o=new this.prompts[i](e);let h=a(this.answers,r);o.state.answers=this.answers;o.enquirer=this;if(r){o.on("submit",(t=>{this.emit("answer",r,t,o);l(this.answers,r,t)}))}let u=o.emit.bind(o);o.emit=(...t)=>{this.emit.call(this,...t);return u(...t)};this.emit("prompt",o,this);if(e.autofill&&h!=null){o.value=o.input=h;if(e.autofill==="show"){await o.submit()}}else{h=o.value=await o.run()}return h}use(t){t.call(this,this);return this}set Prompt(t){this._Prompt=t}get Prompt(){return this._Prompt||this.constructor.Prompt}get prompts(){return this.constructor.prompts}static set Prompt(t){this._Prompt=t}static get Prompt(){return this._Prompt||i(61)}static get prompts(){return i(185)}static get types(){return i(568)}static get prompt(){const fn=(t,...e)=>{let i=new this(...e);let s=i.emit.bind(i);i.emit=(...t)=>{fn.emit(...t);return s(...t)};return i.prompt(t)};n.mixinEmitter(fn,new r);return fn}}n.mixinEmitter(Enquirer,new r);const l=Enquirer.prompts;for(let t of Object.keys(l)){let e=t.toLowerCase();let run=e=>new l[t](e).run();Enquirer.prompt[e]=run;Enquirer[e]=run;if(!Enquirer[t]){Reflect.defineProperty(Enquirer,t,{get:()=>l[t]})}}const define=t=>{n.defineExport(Enquirer,t,(()=>Enquirer.types[t]))};define("ArrayPrompt");define("AuthPrompt");define("BooleanPrompt");define("NumberPrompt");define("StringPrompt");t.exports=Enquirer},423:function(t,e,i){"use strict";const s=process.env.TERM_PROGRAM==="Apple_Terminal";const r=i(286);const n=i(408);const l=t.exports=e;const a="[";const o="";let h=false;const u=l.code={bell:o,beep:o,beginning:`${a}G`,down:`${a}J`,esc:a,getPosition:`${a}6n`,hide:`${a}?25l`,line:`${a}2K`,lineEnd:`${a}K`,lineStart:`${a}1K`,restorePosition:a+(s?"8":"u"),savePosition:a+(s?"7":"s"),screen:`${a}2J`,show:`${a}?25h`,up:`${a}1J`};const c=l.cursor={get hidden(){return h},hide(){h=true;return u.hide},show(){h=false;return u.show},forward:(t=1)=>`${a}${t}C`,backward:(t=1)=>`${a}${t}D`,nextLine:(t=1)=>`${a}E`.repeat(t),prevLine:(t=1)=>`${a}F`.repeat(t),up:(t=1)=>t?`${a}${t}A`:"",down:(t=1)=>t?`${a}${t}B`:"",right:(t=1)=>t?`${a}${t}C`:"",left:(t=1)=>t?`${a}${t}D`:"",to(t,e){return e?`${a}${e+1};${t+1}H`:`${a}${t+1}G`},move(t=0,e=0){let i="";i+=t<0?c.left(-t):t>0?c.right(t):"";i+=e<0?c.up(-e):e>0?c.down(e):"";return i},strLen(t){var e=0,i=t.length,s=-1;for(var r=0;r<i;r++){s=t.charCodeAt(r);if(s>=0&&s<=128)e+=1;else e+=2}return e},restore(t={}){let{after:e,cursor:i,initial:s,input:r,prompt:a,size:o,value:h}=t;s=n.isPrimitive(s)?String(s):"";r=n.isPrimitive(r)?String(r):"";h=n.isPrimitive(h)?String(h):"";if(o){let t=l.cursor.up(o)+l.cursor.to(this.strLen(a));let e=r.length-i;if(e>0){t+=l.cursor.left(e)}return t}if(h||e){let t=!r&&!!s?-this.strLen(s):-this.strLen(r)+i;if(e)t-=this.strLen(e);if(r===""&&s&&!a.includes(s)){t+=this.strLen(s)}return l.cursor.move(t)}}};const p=l.erase={screen:u.screen,up:u.up,down:u.down,line:u.line,lineEnd:u.lineEnd,lineStart:u.lineStart,lines(t){let e="";for(let i=0;i<t;i++){e+=l.erase.line+(i<t-1?l.cursor.up(1):"")}if(t)e+=l.code.beginning;return e}};l.clear=(t="",e=process.stdout.columns)=>{if(!e)return p.line+c.to(0);let width=t=>[...r(t)].length;let i=t.split(/\r?\n/);let s=0;for(let t of i){s+=1+Math.floor(Math.max(width(t)-1,0)/e)}return(p.line+c.prevLine()).repeat(s-1)+p.line+c.to(0)}},783:function(t,e){"use strict";e.ctrl={a:"first",b:"backward",c:"cancel",d:"deleteForward",e:"last",f:"forward",g:"reset",i:"tab",k:"cutForward",l:"reset",n:"newItem",m:"cancel",j:"submit",p:"search",r:"remove",s:"save",u:"undo",w:"cutLeft",x:"toggleCursor",v:"paste"};e.shift={up:"shiftUp",down:"shiftDown",left:"shiftLeft",right:"shiftRight",tab:"prev"};e.fn={up:"pageUp",down:"pageDown",left:"pageLeft",right:"pageRight",delete:"deleteForward"};e.option={b:"backward",f:"forward",d:"cutRight",left:"cutLeft",up:"altUp",down:"altDown"};e.keys={pageup:"pageUp",pagedown:"pageDown",home:"home",end:"end",cancel:"cancel",delete:"deleteForward",backspace:"delete",down:"down",enter:"submit",escape:"cancel",left:"left",space:"space",number:"number",return:"submit",right:"right",tab:"next",up:"up"}},727:function(t){"use strict";const unique=t=>t.filter(((e,i)=>t.lastIndexOf(e)===i));const compact=t=>unique(t).filter(Boolean);t.exports=(t,e={},i="")=>{let{past:s=[],present:r=""}=e;let n,l;switch(t){case"prev":case"undo":n=s.slice(0,s.length-1);l=s[s.length-1]||"";return{past:compact([i,...n]),present:l};case"next":case"redo":n=s.slice(1);l=s[0]||"";return{past:compact([...n,i]),present:l};case"save":return{past:compact([...s,i]),present:""};case"remove":l=compact(s.filter((t=>t!==i)));r="";if(l.length){r=l.pop()}return{past:l,present:r};default:{throw new Error(`Invalid action: "${t}"`)}}}},206:function(t,e,i){"use strict";const s=i(286);const clean=(t="")=>typeof t==="string"?t.replace(/^['"]|['"]$/g,""):"";class Item{constructor(t){this.name=t.key;this.field=t.field||{};this.value=clean(t.initial||this.field.initial||"");this.message=t.message||this.name;this.cursor=0;this.input="";this.lines=[]}}const tokenize=async(t={},e={},i=(t=>t))=>{let s=new Set;let r=t.fields||[];let n=t.template;let l=[];let a=[];let o=[];let h=1;if(typeof n==="function"){n=await n()}let u=-1;let next=()=>n[++u];let peek=()=>n[u+1];let push=t=>{t.line=h;l.push(t)};push({type:"bos",value:""});while(u<n.length-1){let t=next();if(/^[^\S\n ]$/.test(t)){push({type:"text",value:t});continue}if(t==="\n"){push({type:"newline",value:t});h++;continue}if(t==="\\"){t+=next();push({type:"text",value:t});continue}if((t==="$"||t==="#"||t==="{")&&peek()==="{"){let n=next();t+=n;let l={type:"template",open:t,inner:"",close:"",value:t};let h;while(h=next()){if(h==="}"){if(peek()==="}")h+=next();l.value+=h;l.close=h;break}if(h===":"){l.initial="";l.key=l.inner}else if(l.initial!==void 0){l.initial+=h}l.value+=h;l.inner+=h}l.template=l.open+(l.initial||l.inner)+l.close;l.key=l.key||l.inner;if(hasOwnProperty.call(e,l.key)){l.initial=e[l.key]}l=i(l);push(l);o.push(l.key);s.add(l.key);let u=a.find((t=>t.name===l.key));l.field=r.find((t=>t.name===l.key));if(!u){u=new Item(l);a.push(u)}u.lines.push(l.line-1);continue}let n=l[l.length-1];if(n.type==="text"&&n.line===h){n.value+=t}else{push({type:"text",value:t})}}push({type:"eos",value:""});return{input:n,tabstops:l,unique:s,keys:o,items:a}};t.exports=async t=>{let e=t.options;let i=new Set(e.required===true?[]:e.required||[]);let r={...e.values,...e.initial};let{tabstops:n,items:l,keys:a}=await tokenize(e,r);let o=createFn("result",t,e);let h=createFn("format",t,e);let u=createFn("validate",t,e,true);let c=t.isValue.bind(t);return async(r={},p=false)=>{let d=0;r.required=i;r.items=l;r.keys=a;r.output="";let validate=async(t,e,i,s)=>{let r=await u(t,e,i,s);if(r===false){return"Invalid field "+i.name}return r};for(let i of n){let n=i.value;let a=i.key;if(i.type!=="template"){if(n)r.output+=n;continue}if(i.type==="template"){let u=l.find((t=>t.name===a));if(e.required===true){r.required.add(u.name)}let f=[u.input,r.values[u.value],u.value,n].find(c);let m=u.field||{};let g=m.message||i.inner;if(p){let t=await validate(r.values[a],r,u,d);if(t&&typeof t==="string"||t===false){r.invalid.set(a,t);continue}r.invalid.delete(a);let e=await o(r.values[a],r,u,d);r.output+=s(e);continue}u.placeholder=false;let y=n;n=await h(n,r,u,d);if(f!==n){r.values[a]=f;n=t.styles.typing(f);r.missing.delete(g)}else{r.values[a]=void 0;f=`<${g}>`;n=t.styles.primary(f);u.placeholder=true;if(r.required.has(a)){r.missing.add(g)}}if(r.missing.has(g)&&r.validating){n=t.styles.warning(f)}if(r.invalid.has(a)&&r.validating){n=t.styles.danger(f)}if(d===r.index){if(y!==n){n=t.styles.underline(n)}else{n=t.styles.heading(s(n))}}d++}if(n){r.output+=n}}let f=r.output.split("\n").map((t=>" "+t));let m=l.length;let g=0;for(let e of l){if(r.invalid.has(e.name)){e.lines.forEach((t=>{if(f[t][0]!==" ")return;f[t]=r.styles.danger(r.symbols.bullet)+f[t].slice(1)}))}if(t.isValue(r.values[e.name])){g++}}r.completed=(g/m*100).toFixed(0);r.output=f.join("\n");return r.output}};function createFn(t,e,i,s){return(i,r,n,l)=>{if(typeof n.field[t]==="function"){return n.field[t].call(e,i,r,n,l)}return[s,i].find((t=>e.isValue(t)))}}},50:function(t,e,i){"use strict";const s=i(521);const r=i(783);const n=i(329);const l=/^(?:\x1b)([a-zA-Z0-9])$/;const a=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/;const o={OP:"f1",OQ:"f2",OR:"f3",OS:"f4","[11~":"f1","[12~":"f2","[13~":"f3","[14~":"f4","[[A":"f1","[[B":"f2","[[C":"f3","[[D":"f4","[[E":"f5","[15~":"f5","[17~":"f6","[18~":"f7","[19~":"f8","[20~":"f9","[21~":"f10","[23~":"f11","[24~":"f12","[A":"up","[B":"down","[C":"right","[D":"left","[E":"clear","[F":"end","[H":"home",OA:"up",OB:"down",OC:"right",OD:"left",OE:"clear",OF:"end",OH:"home","[1~":"home","[2~":"insert","[3~":"delete","[4~":"end","[5~":"pageup","[6~":"pagedown","[[5~":"pageup","[[6~":"pagedown","[7~":"home","[8~":"end","[a":"up","[b":"down","[c":"right","[d":"left","[e":"clear","[2$":"insert","[3$":"delete","[5$":"pageup","[6$":"pagedown","[7$":"home","[8$":"end",Oa:"up",Ob:"down",Oc:"right",Od:"left",Oe:"clear","[2^":"insert","[3^":"delete","[5^":"pageup","[6^":"pagedown","[7^":"home","[8^":"end","[Z":"tab"};function isShiftKey(t){return["[a","[b","[c","[d","[e","[2$","[3$","[5$","[6$","[7$","[8$","[Z"].includes(t)}function isCtrlKey(t){return["Oa","Ob","Oc","Od","Oe","[2^","[3^","[5^","[6^","[7^","[8^"].includes(t)}const keypress=(t="",e={})=>{let i;let s={name:e.name,ctrl:false,meta:false,shift:false,option:false,sequence:t,raw:t,...e};if(Buffer.isBuffer(t)){if(t[0]>127&&t[1]===void 0){t[0]-=128;t=""+String(t)}else{t=String(t)}}else if(t!==void 0&&typeof t!=="string"){t=String(t)}else if(!t){t=s.sequence||""}s.sequence=s.sequence||t||s.name;if(t==="\r"){s.raw=void 0;s.name="return"}else if(t==="\n"){s.name="enter"}else if(t==="\t"){s.name="tab"}else if(t==="\b"||t===""||t===""||t==="\b"){s.name="backspace";s.meta=t.charAt(0)===""}else if(t===""||t===""){s.name="escape";s.meta=t.length===2}else if(t===" "||t===" "){s.name="space";s.meta=t.length===2}else if(t<=""){s.name=String.fromCharCode(t.charCodeAt(0)+"a".charCodeAt(0)-1);s.ctrl=true}else if(t.length===1&&t>="0"&&t<="9"){s.name="number"}else if(t.length===1&&t>="a"&&t<="z"){s.name=t}else if(t.length===1&&t>="A"&&t<="Z"){s.name=t.toLowerCase();s.shift=true}else if(i=l.exec(t)){s.meta=true;s.shift=/^[A-Z]$/.test(i[1])}else if(i=a.exec(t)){let e=[...t];if(e[0]===""&&e[1]===""){s.option=true}let r=[i[1],i[2],i[4],i[6]].filter(Boolean).join("");let n=(i[3]||i[5]||1)-1;s.ctrl=!!(n&4);s.meta=!!(n&10);s.shift=!!(n&1);s.code=r;s.name=o[r];s.shift=isShiftKey(r)||s.shift;s.ctrl=isCtrlKey(r)||s.ctrl}return s};keypress.listen=(t={},e)=>{let{stdin:i}=t;if(!i||i!==process.stdin&&!i.isTTY){throw new Error("Invalid stream passed")}let r=s.createInterface({terminal:true,input:i});s.emitKeypressEvents(i,r);const l=new n(((t,i)=>e(t,keypress(t,i),r)));let a=i.isRaw;if(i.isTTY)i.setRawMode(true);i.on("keypress",l.enqueue);r.resume();let off=()=>{if(i.isTTY)i.setRawMode(a);i.removeListener("keypress",l.enqueue);l.destroy();r.pause();r.close()};return off};keypress.action=(t,e,i)=>{let s={...r,...i};if(e.ctrl){e.action=s.ctrl[e.name];return e}if(e.option&&s.option){e.action=s.option[e.name];return e}if(e.shift){e.action=s.shift[e.name];return e}e.action=s.keys[e.name];return e};t.exports=keypress},446:function(t,e,i){"use strict";const s=i(408);t.exports=(t,e={})=>{t.cursorHide();let{input:i="",initial:r="",pos:n,showCursor:l=true,color:a}=e;let o=a||t.styles.placeholder;let h=s.inverse(t.styles.primary);let blinker=e=>h(t.styles.black(e));let u=i;let c=" ";let p=blinker(c);if(t.blink&&t.blink.off===true){blinker=t=>t;p=""}if(l&&n===0&&r===""&&i===""){return blinker(c)}if(l&&n===0&&(i===r||i==="")){return blinker(r[0])+o(r.slice(1))}r=s.isPrimitive(r)?`${r}`:"";i=s.isPrimitive(i)?`${i}`:"";let d=r&&r.startsWith(i)&&r!==i;let f=d?blinker(r[i.length]):p;if(n!==i.length&&l===true){u=i.slice(0,n)+blinker(i[n])+i.slice(n+1);f=""}if(l===false){f=""}if(d){let e=t.styles.unstyle(u+f);return u+f+o(r.slice(e.length))}return u+f}},61:function(t,e,i){"use strict";const s=i(361);const r=i(286);const n=i(50);const l=i(881);const a=i(684);const o=i(476);const h=i(408);const u=i(423);class Prompt extends s{constructor(t={}){super();this.name=t.name;this.type=t.type;this.options=t;o(this);l(this);this.state=new a(this);this.initial=[t.initial,t.default].find((t=>t!=null));this.stdout=t.stdout||process.stdout;this.stdin=t.stdin||process.stdin;this.scale=t.scale||1;this.term=this.options.term||process.env.TERM_PROGRAM;this.margin=margin(this.options.margin);this.setMaxListeners(0);setOptions(this)}async keypress(t,e={}){this.keypressed=true;let i=n.action(t,n(t,e),this.options.actions);this.state.keypress=i;this.emit("keypress",t,i);this.emit("state",this.state.clone());const s=this.options[i.action]||this[i.action]||this.dispatch;if(typeof s==="function"){return await s.call(this,t,i)}this.alert()}alert(){delete this.state.alert;if(this.options.show===false){this.emit("alert")}else{this.stdout.write(u.code.beep)}}cursorHide(){this.stdout.write(u.cursor.hide());const t=h.onExit((()=>this.cursorShow()));this.on("close",(()=>{this.cursorShow();t()}))}cursorShow(){this.stdout.write(u.cursor.show())}write(t){if(!t)return;if(this.stdout&&this.state.show!==false){this.stdout.write(t)}this.state.buffer+=t}clear(t=0){let e=this.state.buffer;this.state.buffer="";if(!e&&!t||this.options.show===false)return;this.stdout.write(u.cursor.down(t)+u.clear(e,this.width))}restore(){if(this.state.closed||this.options.show===false)return;let{prompt:t,after:e,rest:i}=this.sections();let{cursor:s,initial:r="",input:n="",value:l=""}=this;let a=this.state.size=i.length;let o={after:e,cursor:s,initial:r,input:n,prompt:t,size:a,value:l};let h=u.cursor.restore(o);if(h){this.stdout.write(h)}}sections(){let{buffer:t,input:e,prompt:i}=this.state;i=r(i);let s=r(t);let n=s.indexOf(i);let l=s.slice(0,n);let a=s.slice(n);let o=a.split("\n");let h=o[0];let u=o[o.length-1];let c=i+(e?" "+e:"");let p=c.length;let d=p<h.length?h.slice(p+1):"";return{header:l,prompt:h,after:d,rest:o.slice(1),last:u}}async submit(){this.state.submitted=true;this.state.validating=true;if(this.options.onSubmit){await this.options.onSubmit.call(this,this.name,this.value,this)}let t=this.state.error||await this.validate(this.value,this.state);if(t!==true){let e="\n"+this.symbols.pointer+" ";if(typeof t==="string"){e+=t.trim()}else{e+="Invalid input"}this.state.error="\n"+this.styles.danger(e);this.state.submitted=false;await this.render();await this.alert();this.state.validating=false;this.state.error=void 0;return}this.state.validating=false;await this.render();await this.close();this.value=await this.result(this.value);this.emit("submit",this.value)}async cancel(t){this.state.cancelled=this.state.submitted=true;await this.render();await this.close();if(typeof this.options.onCancel==="function"){await this.options.onCancel.call(this,this.name,this.value,this)}this.emit("cancel",await this.error(t))}async close(){this.state.closed=true;try{let t=this.sections();let e=Math.ceil(t.prompt.length/this.width);if(t.rest){this.write(u.cursor.down(t.rest.length))}this.write("\n".repeat(e))}catch(t){}this.emit("close")}start(){if(!this.stop&&this.options.show!==false){this.stop=n.listen(this,this.keypress.bind(this));this.once("close",this.stop);this.emit("start",this)}}async skip(){this.skipped=this.options.skip===true;if(typeof this.options.skip==="function"){this.skipped=await this.options.skip.call(this,this.name,this.value)}return this.skipped}async initialize(){let{format:t,options:e,result:i}=this;this.format=()=>t.call(this,this.value);this.result=()=>i.call(this,this.value);if(typeof e.initial==="function"){this.initial=await e.initial.call(this,this)}if(typeof e.onRun==="function"){await e.onRun.call(this,this)}if(typeof e.onSubmit==="function"){let t=e.onSubmit.bind(this);let i=this.submit.bind(this);delete this.options.onSubmit;this.submit=async()=>{await t(this.name,this.value,this);return i()}}await this.start();await this.render()}render(){throw new Error("expected prompt to have a custom render method")}run(){return new Promise((async(t,e)=>{this.once("submit",t);this.once("cancel",e);if(await this.skip()){this.render=()=>{};return this.submit()}await this.initialize();this.emit("run")}))}async element(t,e,i){let{options:s,state:r,symbols:n,timers:l}=this;let a=l&&l[t];r.timer=a;let o=s[t]||r[t]||n[t];let h=e&&e[t]!=null?e[t]:await o;if(h==="")return h;let u=await this.resolve(h,r,e,i);if(!u&&e&&e[t]){return this.resolve(o,r,e,i)}return u}async prefix(){let t=await this.element("prefix")||this.symbols;let e=this.timers&&this.timers.prefix;let i=this.state;i.timer=e;if(h.isObject(t))t=t[i.status]||t.pending;if(!h.hasColor(t)){let e=this.styles[i.status]||this.styles.pending;return e(t)}return t}async message(){let t=await this.element("message");if(!h.hasColor(t)){return this.styles.strong(t)}return t}async separator(){let t=await this.element("separator")||this.symbols;let e=this.timers&&this.timers.separator;let i=this.state;i.timer=e;let s=t[i.status]||t.pending||i.separator;let r=await this.resolve(s,i);if(h.isObject(r))r=r[i.status]||r.pending;if(!h.hasColor(r)){return this.styles.muted(r)}return r}async pointer(t,e){let i=await this.element("pointer",t,e);if(typeof i==="string"&&h.hasColor(i)){return i}if(i){let t=this.styles;let s=this.index===e;let r=s?t.primary:t=>t;let n=await this.resolve(i[s?"on":"off"]||i,this.state);let l=!h.hasColor(n)?r(n):n;return s?l:" ".repeat(n.length)}}async indicator(t,e){let i=await this.element("indicator",t,e);if(typeof i==="string"&&h.hasColor(i)){return i}if(i){let e=this.styles;let s=t.enabled===true;let r=s?e.success:e.dark;let n=i[s?"on":"off"]||i;return!h.hasColor(n)?r(n):n}return""}body(){return null}footer(){if(this.state.status==="pending"){return this.element("footer")}}header(){if(this.state.status==="pending"){return this.element("header")}}async hint(){if(this.state.status==="pending"&&!this.isValue(this.state.input)){let t=await this.element("hint");if(!h.hasColor(t)){return this.styles.muted(t)}return t}}error(t){return!this.state.submitted?t||this.state.error:""}format(t){return t}result(t){return t}validate(t){if(this.options.required===true){return this.isValue(t)}return true}isValue(t){return t!=null&&t!==""}resolve(t,...e){return h.resolve(this,t,...e)}get base(){return Prompt.prototype}get style(){return this.styles[this.state.status]}get height(){return this.options.rows||h.height(this.stdout,25)}get width(){return this.options.columns||h.width(this.stdout,80)}get size(){return{width:this.width,height:this.height}}set cursor(t){this.state.cursor=t}get cursor(){return this.state.cursor}set input(t){this.state.input=t}get input(){return this.state.input}set value(t){this.state.value=t}get value(){let{input:t,value:e}=this.state;let i=[e,t].find(this.isValue.bind(this));return this.isValue(i)?i:this.initial}static get prompt(){return t=>new this(t).run()}}function setOptions(t){let isValidKey=e=>t[e]===void 0||typeof t[e]==="function";let e=["actions","choices","initial","margin","roles","styles","symbols","theme","timers","value"];let i=["body","footer","error","header","hint","indicator","message","prefix","separator","skip"];for(let s of Object.keys(t.options)){if(e.includes(s))continue;if(/^on[A-Z]/.test(s))continue;let r=t.options[s];if(typeof r==="function"&&isValidKey(s)){if(!i.includes(s)){t[s]=r.bind(t)}}else if(typeof t[s]!=="function"){t[s]=r}}}function margin(t){if(typeof t==="number"){t=[t,t,t,t]}let e=[].concat(t||[]);let pad=t=>t%2===0?"\n":" ";let i=[];for(let t=0;t<4;t++){let s=pad(t);if(e[t]){i.push(s.repeat(e[t]))}else{i.push("")}}return i}t.exports=Prompt},543:function(t,e,i){"use strict";const s=i(466);const highlight=(t,e)=>{const i=t?new RegExp(t,"ig"):/$^/;return s=>t?s.replace(i,(t=>e(t))):s};class AutoComplete extends s{constructor(t){super(t);this.cursorShow()}moveCursor(t){this.state.cursor+=t}dispatch(t){return this.append(t)}space(t){return this.options.multiple?super.space(t):this.append(t)}append(t){let{cursor:e,input:i}=this.state;this.input=i.slice(0,e)+t+i.slice(e);this.moveCursor(1);return this.complete()}delete(){let{cursor:t,input:e}=this.state;if(!e)return this.alert();this.input=e.slice(0,t-1)+e.slice(t);this.moveCursor(-1);return this.complete()}deleteForward(){let{cursor:t,input:e}=this.state;if(e[t]===void 0)return this.alert();this.input=`${e}`.slice(0,t)+`${e}`.slice(t+1);return this.complete()}number(t){return this.append(t)}async complete(){this.completing=true;this.choices=await this.suggest(this.input,this.state._choices);this.state.limit=void 0;this.index=Math.min(Math.max(this.visible.length-1,0),this.index);await this.render();this.completing=false}suggest(t=this.input,e=this.state._choices){if(typeof this.options.suggest==="function"){return this.options.suggest.call(this,t,e)}let i=t.toLowerCase();return e.filter((t=>t.message.toLowerCase().includes(i)))}pointer(){return""}format(){if(!this.focused)return this.input;if(this.options.multiple&&this.state.submitted){return this.selected.map((t=>this.styles.primary(t.message))).join(", ")}if(this.state.submitted){let t=this.value=this.input=this.focused.value;return this.styles.primary(t)}return this.input}async render(){if(this.state.status!=="pending")return super.render();const t=this.options.highlight||this.styles.complement;const style=(e,i)=>{if(!e)return e;if(t.stack)return t(e);return t.call(this,e)};const e=highlight(this.input,style);const i=this.choices;this.choices=i.map((t=>({...t,message:e(t.message)})));await super.render();this.choices=i}submit(){if(this.options.multiple){this.value=this.selected.map((t=>t.name))}return super.submit()}}t.exports=AutoComplete},672:function(t,e,i){"use strict";const s=i(345);function defaultAuthenticate(t,e){if(t.username===this.options.username&&t.password===this.options.password){return true}return false}const factory=(t=defaultAuthenticate)=>{const e=[{name:"username",message:"username"},{name:"password",message:"password",format(t){if(this.options.showPassword){return t}let e=this.state.submitted?this.styles.primary:this.styles.muted;return e(this.symbols.asterisk.repeat(t.length))}}];class BasicAuthPrompt extends(s.create(t)){constructor(t){super({...t,choices:e})}static create(t){return factory(t)}}return BasicAuthPrompt};t.exports=factory()},403:function(t,e,i){"use strict";const s=i(814);class ConfirmPrompt extends s{constructor(t){super(t);this.default=this.options.default||(this.initial?"(Y/n)":"(y/N)")}}t.exports=ConfirmPrompt},2:function(t,e,i){"use strict";const s=i(466);const r=i(36);const n=r.prototype;class Editable extends s{constructor(t){super({...t,multiple:true});this.align=[this.options.align,"left"].find((t=>t!=null));this.emptyError="";this.values={}}dispatch(t,e){let i=this.focused;let s=i.parent||{};if(!i.editable&&!s.editable){if(t==="a"||t==="i")return super[t]()}return n.dispatch.call(this,t,e)}append(t,e){return n.append.call(this,t,e)}delete(t,e){return n.delete.call(this,t,e)}space(t){return this.focused.editable?this.append(t):super.space()}number(t){return this.focused.editable?this.append(t):super.number(t)}next(){return this.focused.editable?n.next.call(this):super.next()}prev(){return this.focused.editable?n.prev.call(this):super.prev()}async indicator(t,e){let i=t.indicator||"";let s=t.editable?i:super.indicator(t,e);return await this.resolve(s,this.state,t,e)||""}indent(t){return t.role==="heading"?"":t.editable?" ":"  "}async renderChoice(t,e){t.indent="";if(t.editable)return n.renderChoice.call(this,t,e);return super.renderChoice(t,e)}error(){return""}footer(){return this.state.error}async validate(){let t=true;for(let e of this.choices){if(typeof e.validate!=="function"){continue}if(e.role==="heading"){continue}let i=e.parent?this.value[e.parent.name]:this.value;if(e.editable){i=e.value===e.name?e.initial||"":e.value}else if(!this.isDisabled(e)){i=e.enabled===true}t=await e.validate(i,this.state);if(t!==true){break}}if(t!==true){this.state.error=typeof t==="string"?t:"Invalid Input"}return t}submit(){if(this.focused.newChoice===true)return super.submit();if(this.choices.some((t=>t.newChoice))){return this.alert()}this.value={};for(let t of this.choices){let e=t.parent?this.value[t.parent.name]:this.value;if(t.role==="heading"){this.value[t.name]={};continue}if(t.editable){e[t.name]=t.value===t.name?t.initial||"":t.value}else if(!this.isDisabled(t)){e[t.name]=t.enabled===true}}return this.base.submit.call(this)}}t.exports=Editable},36:function(t,e,i){"use strict";const s=i(286);const r=i(466);const n=i(446);class FormPrompt extends r{constructor(t){super({...t,multiple:true});this.type="form";this.initial=this.options.initial;this.align=[this.options.align,"right"].find((t=>t!=null));this.emptyError="";this.values={}}async reset(t){await super.reset();if(t===true)this._index=this.index;this.index=this._index;this.values={};this.choices.forEach((t=>t.reset&&t.reset()));return this.render()}dispatch(t){return!!t&&this.append(t)}append(t){let e=this.focused;if(!e)return this.alert();let{cursor:i,input:s}=e;e.value=e.input=s.slice(0,i)+t+s.slice(i);e.cursor++;return this.render()}delete(){let t=this.focused;if(!t||t.cursor<=0)return this.alert();let{cursor:e,input:i}=t;t.value=t.input=i.slice(0,e-1)+i.slice(e);t.cursor--;return this.render()}deleteForward(){let t=this.focused;if(!t)return this.alert();let{cursor:e,input:i}=t;if(i[e]===void 0)return this.alert();let s=`${i}`.slice(0,e)+`${i}`.slice(e+1);t.value=t.input=s;return this.render()}right(){let t=this.focused;if(!t)return this.alert();if(t.cursor>=t.input.length)return this.alert();t.cursor++;return this.render()}left(){let t=this.focused;if(!t)return this.alert();if(t.cursor<=0)return this.alert();t.cursor--;return this.render()}space(t,e){return this.dispatch(t,e)}number(t,e){return this.dispatch(t,e)}next(){let t=this.focused;if(!t)return this.alert();let{initial:e,input:i}=t;if(e&&e.startsWith(i)&&i!==e){t.value=t.input=e;t.cursor=t.value.length;return this.render()}return super.next()}prev(){let t=this.focused;if(!t)return this.alert();if(t.cursor===0)return super.prev();t.value=t.input="";t.cursor=0;return this.render()}separator(){return""}format(t){return!this.state.submitted?super.format(t):""}pointer(){return""}indicator(t){return t.input?"⦿":"⊙"}async choiceSeparator(t,e){let i=await this.resolve(t.separator,this.state,t,e)||":";return i?" "+this.styles.disabled(i):""}async renderChoice(t,e){await this.onChoice(t,e);let{state:i,styles:r}=this;let{cursor:l,initial:a="",name:o,input:h=""}=t;let{muted:u,submitted:c,primary:p,danger:d}=r;let f=this.index===e;let m=t.validate||(()=>true);let g=await this.choiceSeparator(t,e);let y=t.message;if(this.align==="right")y=y.padStart(this.longest+1," ");if(this.align==="left")y=y.padEnd(this.longest+1," ");let b=this.values[o]=h||a;let w=h?"success":"dark";if(await m.call(t,b,this.state)!==true){w="danger"}let v=r[w];let x=v(await this.indicator(t,e))+(t.pad||"");let k=this.indent(t);let line=()=>[k,x,y+g,h].filter(Boolean).join(" ");if(i.submitted){y=s(y);h=c(h);return line()}if(t.format){h=await t.format.call(this,h,t,e)}else{let t=this.styles.muted;let e={input:h,initial:a,pos:l,showCursor:f,color:t};h=n(this,e)}if(!this.isValue(h)){h=this.styles.muted(this.symbols.ellipsis)}if(t.result){this.values[o]=await t.result.call(this,b,t,e)}if(f){y=p(y)}if(t.error){h+=(h?" ":"")+d(t.error.trim())}else if(t.hint){h+=(h?" ":"")+u(t.hint.trim())}return line()}async submit(){this.value=this.values;return super.base.submit.call(this)}}t.exports=FormPrompt},185:function(t,e,i){"use strict";const s=i(408);const define=(t,i)=>{s.defineExport(e,t,i);s.defineExport(e,t.toLowerCase(),i)};define("AutoComplete",(()=>i(543)));define("BasicAuth",(()=>i(672)));define("Confirm",(()=>i(403)));define("Editable",(()=>i(2)));define("Form",(()=>i(36)));define("Input",(()=>i(790)));define("Invisible",(()=>i(282)));define("List",(()=>i(371)));define("MultiSelect",(()=>i(465)));define("Numeral",(()=>i(544)));define("Password",(()=>i(437)));define("Scale",(()=>i(696)));define("Select",(()=>i(466)));define("Snippet",(()=>i(633)));define("Sort",(()=>i(984)));define("Survey",(()=>i(935)));define("Text",(()=>i(736)));define("Toggle",(()=>i(21)));define("Quiz",(()=>i(757)))},790:function(t,e,i){"use strict";const s=i(945);const r=i(727);class Input extends s{constructor(t){super(t);let e=this.options.history;if(e&&e.store){let t=e.values||this.initial;this.autosave=!!e.autosave;this.store=e.store;this.data=this.store.get("values")||{past:[],present:t};this.initial=this.data.present||this.data.past[this.data.past.length-1]}}completion(t){if(!this.store)return this.alert();this.data=r(t,this.data,this.input);if(!this.data.present)return this.alert();this.input=this.data.present;this.cursor=this.input.length;return this.render()}altUp(){return this.completion("prev")}altDown(){return this.completion("next")}prev(){this.save();return super.prev()}save(){if(!this.store)return;this.data=r("save",this.data,this.input);this.store.set("values",this.data)}submit(){if(this.store&&this.autosave===true){this.save()}return super.submit()}}t.exports=Input},282:function(t,e,i){"use strict";const s=i(945);class InvisiblePrompt extends s{format(){return""}}t.exports=InvisiblePrompt},371:function(t,e,i){"use strict";const s=i(945);class ListPrompt extends s{constructor(t={}){super(t);this.sep=this.options.separator||/, */;this.initial=t.initial||""}split(t=this.value){return t?String(t).split(this.sep):[]}format(){let t=this.state.submitted?this.styles.primary:t=>t;return this.list.map(t).join(", ")}async submit(t){let e=this.state.error||await this.validate(this.list,this.state);if(e!==true){this.state.error=e;return super.submit()}this.value=this.list;return super.submit()}get list(){return this.split()}}t.exports=ListPrompt},465:function(t,e,i){"use strict";const s=i(466);class MultiSelect extends s{constructor(t){super({...t,multiple:true})}}t.exports=MultiSelect},544:function(t,e,i){t.exports=i(473)},437:function(t,e,i){"use strict";const s=i(945);class PasswordPrompt extends s{constructor(t){super(t);this.cursorShow()}format(t=this.input){if(!this.keypressed)return"";let e=this.state.submitted?this.styles.primary:this.styles.muted;return e(this.symbols.asterisk.repeat(t.length))}}t.exports=PasswordPrompt},757:function(t,e,i){"use strict";const s=i(466);class Quiz extends s{constructor(t){super(t);if(typeof this.options.correctChoice!=="number"||this.options.correctChoice<0){throw new Error("Please specify the index of the correct answer from the list of choices")}}async toChoices(t,e){let i=await super.toChoices(t,e);if(i.length<2){throw new Error("Please give at least two choices to the user")}if(this.options.correctChoice>i.length){throw new Error("Please specify the index of the correct answer from the list of choices")}return i}check(t){return t.index===this.options.correctChoice}async result(t){return{selectedAnswer:t,correctAnswer:this.options.choices[this.options.correctChoice].value,correct:await this.check(this.state)}}}t.exports=Quiz},696:function(t,e,i){"use strict";const s=i(286);const r=i(971);const n=i(408);class LikertScale extends r{constructor(t={}){super(t);this.widths=[].concat(t.messageWidth||50);this.align=[].concat(t.align||"left");this.linebreak=t.linebreak||false;this.edgeLength=t.edgeLength||3;this.newline=t.newline||"\n   ";let e=t.startNumber||1;if(typeof this.scale==="number"){this.scaleKey=false;this.scale=Array(this.scale).fill(0).map(((t,i)=>({name:i+e})))}}async reset(){this.tableized=false;await super.reset();return this.render()}tableize(){if(this.tableized===true)return;this.tableized=true;let t=0;for(let e of this.choices){t=Math.max(t,e.message.length);e.scaleIndex=e.initial||2;e.scale=[];for(let t=0;t<this.scale.length;t++){e.scale.push({index:t})}}this.widths[0]=Math.min(this.widths[0],t+3)}async dispatch(t,e){if(this.multiple){return this[e.name]?await this[e.name](t,e):await super.dispatch(t,e)}this.alert()}heading(t,e,i){return this.styles.strong(t)}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let t=this.focused;if(t.scaleIndex>=this.scale.length-1)return this.alert();t.scaleIndex++;return this.render()}left(){let t=this.focused;if(t.scaleIndex<=0)return this.alert();t.scaleIndex--;return this.render()}indent(){return""}format(){if(this.state.submitted){let t=this.choices.map((t=>this.styles.info(t.index)));return t.join(", ")}return""}pointer(){return""}renderScaleKey(){if(this.scaleKey===false)return"";if(this.state.submitted)return"";let t=this.scale.map((t=>`   ${t.name} - ${t.message}`));let e=["",...t].map((t=>this.styles.muted(t)));return e.join("\n")}renderScaleHeading(t){let e=this.scale.map((t=>t.name));if(typeof this.options.renderScaleHeading==="function"){e=this.options.renderScaleHeading.call(this,t)}let i=this.scaleLength-e.join("").length;let s=Math.round(i/(e.length-1));let r=e.map((t=>this.styles.strong(t)));let n=r.join(" ".repeat(s));let l=" ".repeat(this.widths[0]);return this.margin[3]+l+this.margin[1]+n}scaleIndicator(t,e,i){if(typeof this.options.scaleIndicator==="function"){return this.options.scaleIndicator.call(this,t,e,i)}let s=t.scaleIndex===e.index;if(e.disabled)return this.styles.hint(this.symbols.radio.disabled);if(s)return this.styles.success(this.symbols.radio.on);return this.symbols.radio.off}renderScale(t,e){let i=t.scale.map((i=>this.scaleIndicator(t,i,e)));let s=this.term==="Hyper"?"":" ";return i.join(s+this.symbols.line.repeat(this.edgeLength))}async renderChoice(t,e){await this.onChoice(t,e);let i=this.index===e;let r=await this.pointer(t,e);let l=await t.hint;if(l&&!n.hasColor(l)){l=this.styles.muted(l)}let pad=t=>this.margin[3]+t.replace(/\s+$/,"").padEnd(this.widths[0]," ");let a=this.newline;let o=this.indent(t);let h=await this.resolve(t.message,this.state,t,e);let u=await this.renderScale(t,e);let c=this.margin[1]+this.margin[3];this.scaleLength=s(u).length;this.widths[0]=Math.min(this.widths[0],this.width-this.scaleLength-c.length);let p=n.wordWrap(h,{width:this.widths[0],newline:a});let d=p.split("\n").map((t=>pad(t)+this.margin[1]));if(i){u=this.styles.info(u);d=d.map((t=>this.styles.info(t)))}d[0]+=u;if(this.linebreak)d.push("");return[o+r,d.join("\n")].filter(Boolean)}async renderChoices(){if(this.state.submitted)return"";this.tableize();let t=this.visible.map((async(t,e)=>await this.renderChoice(t,e)));let e=await Promise.all(t);let i=await this.renderScaleHeading();return this.margin[0]+[i,...e.map((t=>t.join(" ")))].join("\n")}async render(){let{submitted:t,size:e}=this.state;let i=await this.prefix();let s=await this.separator();let r=await this.message();let n="";if(this.options.promptLine!==false){n=[i,r,s,""].join(" ");this.state.prompt=n}let l=await this.header();let a=await this.format();let o=await this.renderScaleKey();let h=await this.error()||await this.hint();let u=await this.renderChoices();let c=await this.footer();let p=this.emptyError;if(a)n+=a;if(h&&!n.includes(h))n+=" "+h;if(t&&!a&&!u.trim()&&this.multiple&&p!=null){n+=this.styles.danger(p)}this.clear(e);this.write([l,n,o,u,c].filter(Boolean).join("\n"));if(!this.state.submitted){this.write(this.margin[2])}this.restore()}submit(){this.value={};for(let t of this.choices){this.value[t.name]=t.scaleIndex}return this.base.submit.call(this)}}t.exports=LikertScale},466:function(t,e,i){"use strict";const s=i(971);const r=i(408);class SelectPrompt extends s{constructor(t){super(t);this.emptyError=this.options.emptyError||"No items were selected"}async dispatch(t,e){if(this.multiple){return this[e.name]?await this[e.name](t,e):await super.dispatch(t,e)}this.alert()}separator(){if(this.options.separator)return super.separator();let t=this.styles.muted(this.symbols.ellipsis);return this.state.submitted?super.separator():t}pointer(t,e){return!this.multiple||this.options.pointer?super.pointer(t,e):""}indicator(t,e){return this.multiple?super.indicator(t,e):""}choiceMessage(t,e){let i=this.resolve(t.message,this.state,t,e);if(t.role==="heading"&&!r.hasColor(i)){i=this.styles.strong(i)}return this.resolve(i,this.state,t,e)}choiceSeparator(){return":"}async renderChoice(t,e){await this.onChoice(t,e);let i=this.index===e;let s=await this.pointer(t,e);let n=await this.indicator(t,e)+(t.pad||"");let l=await this.resolve(t.hint,this.state,t,e);if(l&&!r.hasColor(l)){l=this.styles.muted(l)}let a=this.indent(t);let o=await this.choiceMessage(t,e);let line=()=>[this.margin[3],a+s+n,o,this.margin[1],l].filter(Boolean).join(" ");if(t.role==="heading"){return line()}if(t.disabled){if(!r.hasColor(o)){o=this.styles.disabled(o)}return line()}if(i){o=this.styles.em(o)}return line()}async renderChoices(){if(this.state.loading==="choices"){return this.styles.warning("Loading choices")}if(this.state.submitted)return"";let t=this.visible.map((async(t,e)=>await this.renderChoice(t,e)));let e=await Promise.all(t);if(!e.length)e.push(this.styles.danger("No matching choices"));let i=this.margin[0]+e.join("\n");let s;if(this.options.choicesHeader){s=await this.resolve(this.options.choicesHeader,this.state)}return[s,i].filter(Boolean).join("\n")}format(){if(!this.state.submitted||this.state.cancelled)return"";if(Array.isArray(this.selected)){return this.selected.map((t=>this.styles.primary(t.name))).join(", ")}return this.styles.primary(this.selected.name)}async render(){let{submitted:t,size:e}=this.state;let i="";let s=await this.header();let r=await this.prefix();let n=await this.separator();let l=await this.message();if(this.options.promptLine!==false){i=[r,l,n,""].join(" ");this.state.prompt=i}let a=await this.format();let o=await this.error()||await this.hint();let h=await this.renderChoices();let u=await this.footer();if(a)i+=a;if(o&&!i.includes(o))i+=" "+o;if(t&&!a&&!h.trim()&&this.multiple&&this.emptyError!=null){i+=this.styles.danger(this.emptyError)}this.clear(e);this.write([s,i,h,u].filter(Boolean).join("\n"));this.write(this.margin[2]);this.restore()}}t.exports=SelectPrompt},633:function(t,e,i){"use strict";const s=i(286);const r=i(206);const n=i(61);class SnippetPrompt extends n{constructor(t){super(t);this.cursorHide();this.reset(true)}async initialize(){this.interpolate=await r(this);await super.initialize()}async reset(t){this.state.keys=[];this.state.invalid=new Map;this.state.missing=new Set;this.state.completed=0;this.state.values={};if(t!==true){await this.initialize();await this.render()}}moveCursor(t){let e=this.getItem();this.cursor+=t;e.cursor+=t}dispatch(t,e){if(!e.code&&!e.ctrl&&t!=null&&this.getItem()){this.append(t,e);return}this.alert()}append(t,e){let i=this.getItem();let s=i.input.slice(0,this.cursor);let r=i.input.slice(this.cursor);this.input=i.input=`${s}${t}${r}`;this.moveCursor(1);this.render()}delete(){let t=this.getItem();if(this.cursor<=0||!t.input)return this.alert();let e=t.input.slice(this.cursor);let i=t.input.slice(0,this.cursor-1);this.input=t.input=`${i}${e}`;this.moveCursor(-1);this.render()}increment(t){return t>=this.state.keys.length-1?0:t+1}decrement(t){return t<=0?this.state.keys.length-1:t-1}first(){this.state.index=0;this.render()}last(){this.state.index=this.state.keys.length-1;this.render()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1);this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1);this.render()}prev(){this.state.index=this.decrement(this.state.index);this.getItem();this.render()}next(){this.state.index=this.increment(this.state.index);this.getItem();this.render()}up(){this.prev()}down(){this.next()}format(t){let e=this.state.completed<100?this.styles.warning:this.styles.success;if(this.state.submitted===true&&this.state.completed!==100){e=this.styles.danger}return e(`${this.state.completed}% completed`)}async render(){let{index:t,keys:e=[],submitted:i,size:s}=this.state;let r=[this.options.newline,"\n"].find((t=>t!=null));let n=await this.prefix();let l=await this.separator();let a=await this.message();let o=[n,a,l].filter(Boolean).join(" ");this.state.prompt=o;let h=await this.header();let u=await this.error()||"";let c=await this.hint()||"";let p=i?"":await this.interpolate(this.state);let d=this.state.key=e[t]||"";let f=await this.format(d);let m=await this.footer();if(f)o+=" "+f;if(c&&!f&&this.state.completed===0)o+=" "+c;this.clear(s);let g=[h,o,p,m,u.trim()];this.write(g.filter(Boolean).join(r));this.restore()}getItem(t){let{items:e,keys:i,index:s}=this.state;let r=e.find((t=>t.name===i[s]));if(r&&r.input!=null){this.input=r.input;this.cursor=r.cursor}return r}async submit(){if(typeof this.interpolate!=="function")await this.initialize();await this.interpolate(this.state,true);let{invalid:t,missing:e,output:i,values:r}=this.state;if(t.size){let e="";for(let[i,s]of t)e+=`Invalid ${i}: ${s}\n`;this.state.error=e;return super.submit()}if(e.size){this.state.error="Required: "+[...e.keys()].join(", ");return super.submit()}let n=s(i).split("\n");let l=n.map((t=>t.slice(1))).join("\n");this.value={values:r,result:l};return super.submit()}}t.exports=SnippetPrompt},984:function(t,e,i){"use strict";const s="(Use <shift>+<up/down> to sort)";const r=i(466);class Sort extends r{constructor(t){super({...t,reorder:false,sort:true,multiple:true});this.state.hint=[this.options.hint,s].find(this.isValue.bind(this))}indicator(){return""}async renderChoice(t,e){let i=await super.renderChoice(t,e);let s=this.symbols.identicalTo+" ";let r=this.index===e&&this.sorting?this.styles.muted(s):"  ";if(this.options.drag===false)r="";if(this.options.numbered===true){return r+`${e+1} - `+i}return r+i}get selected(){return this.choices}submit(){this.value=this.choices.map((t=>t.value));return super.submit()}}t.exports=Sort},935:function(t,e,i){"use strict";const s=i(971);class Survey extends s{constructor(t={}){super(t);this.emptyError=t.emptyError||"No items were selected";this.term=process.env.TERM_PROGRAM;if(!this.options.header){let t=["","4 - Strongly Agree","3 - Agree","2 - Neutral","1 - Disagree","0 - Strongly Disagree",""];t=t.map((t=>this.styles.muted(t)));this.state.header=t.join("\n   ")}}async toChoices(...t){if(this.createdScales)return false;this.createdScales=true;let e=await super.toChoices(...t);for(let t of e){t.scale=createScale(5,this.options);t.scaleIdx=2}return e}dispatch(){this.alert()}space(){let t=this.focused;let e=t.scale[t.scaleIdx];let i=e.selected;t.scale.forEach((t=>t.selected=false));e.selected=!i;return this.render()}indicator(){return""}pointer(){return""}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let t=this.focused;if(t.scaleIdx>=t.scale.length-1)return this.alert();t.scaleIdx++;return this.render()}left(){let t=this.focused;if(t.scaleIdx<=0)return this.alert();t.scaleIdx--;return this.render()}indent(){return"   "}async renderChoice(t,e){await this.onChoice(t,e);let i=this.index===e;let s=this.term==="Hyper";let r=!s?8:9;let n=!s?" ":"";let l=this.symbols.line.repeat(r);let a=" ".repeat(r+(s?0:1));let dot=t=>(t?this.styles.success("◉"):"◯")+n;let o=e+1+".";let h=i?this.styles.heading:this.styles.noop;let u=await this.resolve(t.message,this.state,t,e);let c=this.indent(t);let p=c+t.scale.map(((e,i)=>dot(i===t.scaleIdx))).join(l);let val=e=>e===t.scaleIdx?h(e):e;let d=c+t.scale.map(((t,e)=>val(e))).join(a);let line=()=>[o,u].filter(Boolean).join(" ");let lines=()=>[line(),p,d," "].filter(Boolean).join("\n");if(i){p=this.styles.cyan(p);d=this.styles.cyan(d)}return lines()}async renderChoices(){if(this.state.submitted)return"";let t=this.visible.map((async(t,e)=>await this.renderChoice(t,e)));let e=await Promise.all(t);if(!e.length)e.push(this.styles.danger("No matching choices"));return e.join("\n")}format(){if(this.state.submitted){let t=this.choices.map((t=>this.styles.info(t.scaleIdx)));return t.join(", ")}return""}async render(){let{submitted:t,size:e}=this.state;let i=await this.prefix();let s=await this.separator();let r=await this.message();let n=[i,r,s].filter(Boolean).join(" ");this.state.prompt=n;let l=await this.header();let a=await this.format();let o=await this.error()||await this.hint();let h=await this.renderChoices();let u=await this.footer();if(a||!o)n+=" "+a;if(o&&!n.includes(o))n+=" "+o;if(t&&!a&&!h&&this.multiple&&this.type!=="form"){n+=this.styles.danger(this.emptyError)}this.clear(e);this.write([n,l,h,u].filter(Boolean).join("\n"));this.restore()}submit(){this.value={};for(let t of this.choices){this.value[t.name]=t.scaleIdx}return this.base.submit.call(this)}}function createScale(t,e={}){if(Array.isArray(e.scale)){return e.scale.map((t=>({...t})))}let i=[];for(let e=1;e<t+1;e++)i.push({i:e,selected:false});return i}t.exports=Survey},736:function(t,e,i){t.exports=i(790)},21:function(t,e,i){"use strict";const s=i(814);class TogglePrompt extends s{async initialize(){await super.initialize();this.value=this.initial=this.resolve(this.options.initial);this.disabled=this.options.disabled||"no";this.enabled=this.options.enabled||"yes";await this.render()}reset(){this.value=this.initial;this.render()}delete(){this.alert()}toggle(){this.value=!this.value;this.render()}enable(){if(this.value===true)return this.alert();this.value=true;this.render()}disable(){if(this.value===false)return this.alert();this.value=false;this.render()}up(){this.toggle()}down(){this.toggle()}right(){this.toggle()}left(){this.toggle()}next(){this.toggle()}prev(){this.toggle()}dispatch(t="",e){switch(t.toLowerCase()){case" ":return this.toggle();case"1":case"y":case"t":return this.enable();case"0":case"n":case"f":return this.disable();default:{return this.alert()}}}format(){let active=t=>this.styles.primary.underline(t);let t=[this.value?this.disabled:active(this.disabled),this.value?active(this.enabled):this.enabled];return t.join(this.styles.muted(" / "))}async render(){let{size:t}=this.state;let e=await this.header();let i=await this.prefix();let s=await this.separator();let r=await this.message();let n=await this.format();let l=await this.error()||await this.hint();let a=await this.footer();let o=[i,r,s,n].join(" ");this.state.prompt=o;if(l&&!o.includes(l))o+=" "+l;this.clear(t);this.write([e,o,a].filter(Boolean).join("\n"));this.write(this.margin[2]);this.restore()}}t.exports=TogglePrompt},329:function(t){"use strict";t.exports=class Queue{_queue=[];_executing=false;_jobRunner=null;constructor(t){this._jobRunner=t}enqueue=(...t)=>{this._queue.push(t);this._dequeue()};destroy(){this._queue.length=0;this._jobRunner=null}_dequeue(){if(this._executing||!this._queue.length)return;this._executing=true;this._jobRunner(...this._queue.shift());setTimeout((()=>{this._executing=false;this._dequeue()}))}}},68:function(t,e,i){"use strict";const s=i(408);const r={default(t,e){return e},checkbox(t,e){throw new Error("checkbox role is not implemented yet")},editable(t,e){throw new Error("editable role is not implemented yet")},expandable(t,e){throw new Error("expandable role is not implemented yet")},heading(t,e){e.disabled="";e.indicator=[e.indicator," "].find((t=>t!=null));e.message=e.message||"";return e},input(t,e){throw new Error("input role is not implemented yet")},option(t,e){return r.default(t,e)},radio(t,e){throw new Error("radio role is not implemented yet")},separator(t,e){e.disabled="";e.indicator=[e.indicator," "].find((t=>t!=null));e.message=e.message||t.symbols.line.repeat(5);return e},spacer(t,e){return e}};t.exports=(t,e={})=>{let i=s.merge({},r,e.roles);return i[t]||i.default}},684:function(t,e,i){"use strict";const{define:s,width:r}=i(408);class State{constructor(t){let e=t.options;s(this,"_prompt",t);this.type=t.type;this.name=t.name;this.message="";this.header="";this.footer="";this.error="";this.hint="";this.input="";this.cursor=0;this.index=0;this.lines=0;this.tick=0;this.prompt="";this.buffer="";this.width=r(e.stdout||process.stdout);Object.assign(this,e);this.name=this.name||this.message;this.message=this.message||this.name;this.symbols=t.symbols;this.styles=t.styles;this.required=new Set;this.cancelled=false;this.submitted=false}clone(){let t={...this};t.status=this.status;t.buffer=Buffer.from(t.buffer);delete t.clone;return t}set color(t){this._color=t}get color(){let t=this.prompt.styles;if(this.cancelled)return t.cancelled;if(this.submitted)return t.submitted;let e=this._color||t[this.status];return typeof e==="function"?e:t.pending}set loading(t){this._loading=t}get loading(){if(typeof this._loading==="boolean")return this._loading;if(this.loadingChoices)return"choices";return false}get status(){if(this.cancelled)return"cancelled";if(this.submitted)return"submitted";return"pending"}}t.exports=State},420:function(t,e,i){"use strict";const s=i(408);const r=i(57);const n={default:r.noop,noop:r.noop,set inverse(t){this._inverse=t},get inverse(){return this._inverse||s.inverse(this.primary)},set complement(t){this._complement=t},get complement(){return this._complement||s.complement(this.primary)},primary:r.cyan,success:r.green,danger:r.magenta,strong:r.bold,warning:r.yellow,muted:r.dim,disabled:r.gray,dark:r.dim.gray,underline:r.underline,set info(t){this._info=t},get info(){return this._info||this.primary},set em(t){this._em=t},get em(){return this._em||this.primary.underline},set heading(t){this._heading=t},get heading(){return this._heading||this.muted.underline},set pending(t){this._pending=t},get pending(){return this._pending||this.primary},set submitted(t){this._submitted=t},get submitted(){return this._submitted||this.success},set cancelled(t){this._cancelled=t},get cancelled(){return this._cancelled||this.danger},set typing(t){this._typing=t},get typing(){return this._typing||this.dim},set placeholder(t){this._placeholder=t},get placeholder(){return this._placeholder||this.primary.dim},set highlight(t){this._highlight=t},get highlight(){return this._highlight||this.inverse}};n.merge=(t={})=>{if(t.styles&&typeof t.styles.enabled==="boolean"){r.enabled=t.styles.enabled}if(t.styles&&typeof t.styles.visible==="boolean"){r.visible=t.styles.visible}let e=s.merge({},n,t.styles);delete e.merge;for(let t of Object.keys(r)){if(!hasOwnProperty.call(e,t)){Reflect.defineProperty(e,t,{get:()=>r[t]})}}for(let t of Object.keys(r.styles)){if(!hasOwnProperty.call(e,t)){Reflect.defineProperty(e,t,{get:()=>r[t]})}}return e};t.exports=n},492:function(t,e,i){"use strict";const s=process.platform==="win32";const r=i(57);const n=i(408);const l={...r.symbols,upDownDoubleArrow:"⇕",upDownDoubleArrow2:"⬍",upDownArrow:"↕",asterisk:"*",asterism:"⁂",bulletWhite:"◦",electricArrow:"⌁",ellipsisLarge:"⋯",ellipsisSmall:"…",fullBlock:"█",identicalTo:"≡",indicator:r.symbols.check,leftAngle:"‹",mark:"※",minus:"−",multiplication:"×",obelus:"÷",percent:"%",pilcrow:"¶",pilcrow2:"❡",pencilUpRight:"✐",pencilDownRight:"✎",pencilRight:"✏",plus:"+",plusMinus:"±",pointRight:"☞",rightAngle:"›",section:"§",hexagon:{off:"⬡",on:"⬢",disabled:"⬢"},ballot:{on:"☑",off:"☐",disabled:"☒"},stars:{on:"★",off:"☆",disabled:"☆"},folder:{on:"▼",off:"▶",disabled:"▶"},prefix:{pending:r.symbols.question,submitted:r.symbols.check,cancelled:r.symbols.cross},separator:{pending:r.symbols.pointerSmall,submitted:r.symbols.middot,cancelled:r.symbols.middot},radio:{off:s?"( )":"◯",on:s?"(*)":"◉",disabled:s?"(|)":"Ⓘ"},numbers:["⓪","①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","⑪","⑫","⑬","⑭","⑮","⑯","⑰","⑱","⑲","⑳","㉑","㉒","㉓","㉔","㉕","㉖","㉗","㉘","㉙","㉚","㉛","㉜","㉝","㉞","㉟","㊱","㊲","㊳","㊴","㊵","㊶","㊷","㊸","㊹","㊺","㊻","㊼","㊽","㊾","㊿"]};l.merge=t=>{let e=n.merge({},r.symbols,l,t.symbols);delete e.merge;return e};t.exports=l},476:function(t,e,i){"use strict";const s=i(420);const r=i(492);const n=i(408);t.exports=t=>{t.options=n.merge({},t.options.theme,t.options);t.symbols=r.merge(t.options);t.styles=s.merge(t.options)}},881:function(t){"use strict";t.exports=t=>{t.timers=t.timers||{};let e=t.options.timers;if(!e)return;for(let i of Object.keys(e)){let s=e[i];if(typeof s==="number"){s={interval:s}}create(t,i,s)}};function create(t,e,i={}){let s=t.timers[e]={name:e,start:Date.now(),ms:0,tick:0};let r=i.interval||120;s.frames=i.frames||[];s.loading=true;let n=setInterval((()=>{s.ms=Date.now()-s.start;s.tick++;t.render()}),r);s.stop=()=>{s.loading=false;clearInterval(n)};Reflect.defineProperty(s,"interval",{value:n});t.once("close",(()=>s.stop()));return s.stop}},971:function(t,e,i){"use strict";const s=i(286);const r=i(61);const n=i(68);const l=i(408);const{reorder:a,scrollUp:o,scrollDown:h,isObject:u,swap:c}=l;class ArrayPrompt extends r{constructor(t){super(t);this.cursorHide();this.maxSelected=t.maxSelected||Infinity;this.multiple=t.multiple||false;this.initial=t.initial||0;this.delay=t.delay||0;this.longest=0;this.num=""}async initialize(){if(typeof this.options.initial==="function"){this.initial=await this.options.initial.call(this)}await this.reset(true);await super.initialize()}async reset(){let{choices:t,initial:e,autofocus:i,suggest:s}=this.options;this.state._choices=[];this.state.choices=[];this.choices=await Promise.all(await this.toChoices(t));this.choices.forEach((t=>t.enabled=false));if(typeof s!=="function"&&this.selectable.length===0){throw new Error("At least one choice must be selectable")}if(u(e))e=Object.keys(e);if(Array.isArray(e)){if(i!=null)this.index=this.findIndex(i);e.forEach((t=>this.enable(this.find(t))));await this.render()}else{if(i!=null)e=i;if(typeof e==="string")e=this.findIndex(e);if(typeof e==="number"&&e>-1){this.index=Math.max(0,Math.min(e,this.choices.length));this.enable(this.find(this.index))}}if(this.isDisabled(this.focused)){await this.down()}}async toChoices(t,e){this.state.loadingChoices=true;let i=[];let s=0;let toChoices=async(t,e)=>{if(typeof t==="function")t=await t.call(this);if(t instanceof Promise)t=await t;for(let r=0;r<t.length;r++){let n=t[r]=await this.toChoice(t[r],s++,e);i.push(n);if(n.choices){await toChoices(n.choices,n)}}return i};return toChoices(t,e).then((t=>{this.state.loadingChoices=false;return t}))}async toChoice(t,e,i){if(typeof t==="function")t=await t.call(this,this);if(t instanceof Promise)t=await t;if(typeof t==="string")t={name:t};if(t.normalized)return t;t.normalized=true;let r=t.value;let a=n(t.role,this.options);t=a(this,t);if(typeof t.disabled==="string"&&!t.hint){t.hint=t.disabled;t.disabled=true}if(t.disabled===true&&t.hint==null){t.hint="(disabled)"}if(t.index!=null)return t;t.name=t.name||t.key||t.title||t.value||t.message;t.message=t.message||t.name||"";t.value=[t.value,t.name].find(this.isValue.bind(this));t.input="";t.index=e;t.cursor=0;l.define(t,"parent",i);t.level=i?i.level+1:1;if(t.indent==null){t.indent=i?i.indent+"  ":t.indent||""}t.path=i?i.path+"."+t.name:t.name;t.enabled=!!(this.multiple&&!this.isDisabled(t)&&(t.enabled||this.isSelected(t)));if(!this.isDisabled(t)){this.longest=Math.max(this.longest,s(t.message).length)}let o={...t};t.reset=(e=o.input,i=o.value)=>{for(let e of Object.keys(o))t[e]=o[e];t.input=e;t.value=i};if(r==null&&typeof t.initial==="function"){t.input=await t.initial.call(this,this.state,t,e)}return t}async onChoice(t,e){this.emit("choice",t,e,this);if(typeof t.onChoice==="function"){await t.onChoice.call(this,this.state,t,e)}}async addChoice(t,e,i){let s=await this.toChoice(t,e,i);this.choices.push(s);this.index=this.choices.length-1;this.limit=this.choices.length;return s}async newItem(t,e,i){let s={name:"New choice name?",editable:true,newChoice:true,...t};let r=await this.addChoice(s,e,i);r.updateChoice=()=>{delete r.newChoice;r.name=r.message=r.input;r.input="";r.cursor=0};return this.render()}indent(t){if(t.indent==null){return t.level>1?"  ".repeat(t.level-1):""}return t.indent}dispatch(t,e){if(this.multiple&&this[e.name])return this[e.name]();this.alert()}focus(t,e){if(typeof e!=="boolean")e=t.enabled;if(e&&!t.enabled&&this.selected.length>=this.maxSelected){return this.alert()}this.index=t.index;t.enabled=e&&!this.isDisabled(t);return t}space(){if(!this.multiple)return this.alert();if(!this.focused)return;this.toggle(this.focused);return this.render()}a(){if(this.maxSelected<this.choices.length)return this.alert();let t=this.selectable.every((t=>t.enabled));this.choices.forEach((e=>e.enabled=!t));return this.render()}i(){if(this.choices.length-this.selected.length>this.maxSelected){return this.alert()}this.choices.forEach((t=>t.enabled=!t.enabled));return this.render()}g(){if(!this.choices.some((t=>!!t.parent)))return this.a();const t=this.focused;this.toggle(t.parent&&!t.choices?t.parent:t);return this.render()}toggle(t,e){if(!t.enabled&&this.selected.length>=this.maxSelected){return this.alert()}if(typeof e!=="boolean")e=!t.enabled;t.enabled=e;if(t.choices){t.choices.forEach((t=>this.toggle(t,e)))}let i=t.parent;while(i){let t=i.choices.filter((t=>this.isDisabled(t)));i.enabled=t.every((t=>t.enabled===true));i=i.parent}reset(this,this.choices);this.emit("toggle",t,this);return t}enable(t){if(this.selected.length>=this.maxSelected)return this.alert();t.enabled=!this.isDisabled(t);t.choices&&t.choices.forEach(this.enable.bind(this));return t}disable(t){t.enabled=false;t.choices&&t.choices.forEach(this.disable.bind(this));return t}number(t){this.num+=t;let number=t=>{let e=Number(t);if(e>this.choices.length-1)return this.alert();let i=this.focused;let s=this.choices.find((t=>e===t.index));if(!s.enabled&&this.selected.length>=this.maxSelected){return this.alert()}if(this.visible.indexOf(s)===-1){let t=a(this.choices);let e=t.indexOf(s);if(i.index>e){let i=t.slice(e,e+this.limit);let s=t.filter((t=>!i.includes(t)));this.choices=i.concat(s)}else{let i=e-this.limit+1;this.choices=t.slice(i).concat(t.slice(0,i))}}this.index=this.choices.indexOf(s);this.toggle(this.focused);return this.render()};clearTimeout(this.numberTimeout);return new Promise((t=>{let e=this.choices.length;let i=this.num;let handle=(e=false,s)=>{clearTimeout(this.numberTimeout);if(e)s=number(i);this.num="";t(s)};if(i==="0"||i.length===1&&Number(i+"0")>e){return handle(true)}if(Number(i)>e){return handle(false,this.alert())}this.numberTimeout=setTimeout((()=>handle(true)),this.delay)}))}home(){this.choices=a(this.choices);this.index=0;return this.render()}end(){let t=this.choices.length-this.limit;let e=a(this.choices);this.choices=e.slice(t).concat(e.slice(0,t));this.index=this.limit-1;return this.render()}first(){this.index=0;return this.render()}last(){this.index=this.visible.length-1;return this.render()}prev(){if(this.visible.length<=1)return this.alert();return this.up()}next(){if(this.visible.length<=1)return this.alert();return this.down()}right(){if(this.cursor>=this.input.length)return this.alert();this.cursor++;return this.render()}left(){if(this.cursor<=0)return this.alert();this.cursor--;return this.render()}up(){let t=this.choices.length;let e=this.visible.length;let i=this.index;if(this.options.scroll===false&&i===0){return this.alert()}if(t>e&&i===0){return this.scrollUp()}this.index=(i-1%t+t)%t;if(this.isDisabled()&&!this.allChoicesAreDisabled()){return this.up()}return this.render()}down(){let t=this.choices.length;let e=this.visible.length;let i=this.index;if(this.options.scroll===false&&i===e-1){return this.alert()}if(t>e&&i===e-1){return this.scrollDown()}this.index=(i+1)%t;if(this.isDisabled()&&!this.allChoicesAreDisabled()){return this.down()}return this.render()}scrollUp(t=0){this.choices=o(this.choices);this.index=t;if(this.isDisabled()){return this.up()}return this.render()}scrollDown(t=this.visible.length-1){this.choices=h(this.choices);this.index=t;if(this.isDisabled()){return this.down()}return this.render()}async shiftUp(){if(this.options.sort===true){this.sorting=true;this.swap(this.index-1);await this.up();this.sorting=false;return}return this.scrollUp(this.index)}async shiftDown(){if(this.options.sort===true){this.sorting=true;this.swap(this.index+1);await this.down();this.sorting=false;return}return this.scrollDown(this.index)}pageUp(){if(this.visible.length<=1)return this.alert();this.limit=Math.max(this.limit-1,0);this.index=Math.min(this.limit-1,this.index);this._limit=this.limit;if(this.isDisabled()){return this.up()}return this.render()}pageDown(){if(this.visible.length>=this.choices.length)return this.alert();this.index=Math.max(0,this.index);this.limit=Math.min(this.limit+1,this.choices.length);this._limit=this.limit;if(this.isDisabled()){return this.down()}return this.render()}swap(t){c(this.choices,this.index,t)}allChoicesAreDisabled(t=this.choices){return t.every((t=>this.isDisabled(t)))}isDisabled(t=this.focused){let e=["disabled","collapsed","hidden","completing","readonly"];if(t&&e.some((e=>t[e]===true))){return true}return t&&t.role==="heading"}isEnabled(t=this.focused){if(Array.isArray(t))return t.every((t=>this.isEnabled(t)));if(t.choices){let e=t.choices.filter((t=>!this.isDisabled(t)));return t.enabled&&e.every((t=>this.isEnabled(t)))}return t.enabled&&!this.isDisabled(t)}isChoice(t,e){return t.name===e||t.index===Number(e)}isSelected(t){if(Array.isArray(this.initial)){return this.initial.some((e=>this.isChoice(t,e)))}return this.isChoice(t,this.initial)}map(t=[],e="value"){return[].concat(t||[]).reduce(((t,i)=>{t[i]=this.find(i,e);return t}),{})}filter(t,e){let isChoice=(e,i)=>[e.name,i].includes(t);let i=typeof t==="function"?t:isChoice;let s=this.options.multiple?this.state._choices:this.choices;let r=s.filter(i);if(e){return r.map((t=>t[e]))}return r}find(t,e){if(u(t))return e?t[e]:t;let isChoice=(e,i)=>[e.name,i].includes(t);let i=typeof t==="function"?t:isChoice;let s=this.choices.find(i);if(s){return e?s[e]:s}}findIndex(t){return this.choices.indexOf(this.find(t))}async submit(){let t=this.focused;if(!t)return this.alert();if(t.newChoice){if(!t.input)return this.alert();t.updateChoice();return this.render()}if(this.choices.some((t=>t.newChoice))){return this.alert()}let{reorder:e,sort:i}=this.options;let s=this.multiple===true;let r=this.selected;if(r===void 0){return this.alert()}if(Array.isArray(r)&&e!==false&&i!==true){r=l.reorder(r)}this.value=s?r.map((t=>t.name)):r.name;return super.submit()}set choices(t=[]){this.state._choices=this.state._choices||[];this.state.choices=t;for(let e of t){if(!this.state._choices.some((t=>t.name===e.name))){this.state._choices.push(e)}}if(!this._initial&&this.options.initial){this._initial=true;let t=this.initial;if(typeof t==="string"||typeof t==="number"){let e=this.find(t);if(e){this.initial=e.index;this.focus(e,true)}}}}get choices(){return reset(this,this.state.choices||[])}set visible(t){this.state.visible=t}get visible(){return(this.state.visible||this.choices).slice(0,this.limit)}set limit(t){this.state.limit=t}get limit(){let{state:t,options:e,choices:i}=this;let s=t.limit||this._limit||e.limit||i.length;return Math.min(s,this.height)}set value(t){super.value=t}get value(){if(typeof super.value!=="string"&&super.value===this.initial){return this.input}return super.value}set index(t){this.state.index=t}get index(){return Math.max(0,this.state?this.state.index:0)}get enabled(){return this.filter(this.isEnabled.bind(this))}get focused(){let t=this.choices[this.index];if(t&&this.state.submitted&&this.multiple!==true){t.enabled=true}return t}get selectable(){return this.choices.filter((t=>!this.isDisabled(t)))}get selected(){return this.multiple?this.enabled:this.focused}}function reset(t,e){if(e instanceof Promise)return e;if(typeof e==="function"){if(l.isAsyncFn(e))return e;e=e.call(t,t)}for(let i of e){if(Array.isArray(i.choices)){let e=i.choices.filter((e=>!t.isDisabled(e)));i.enabled=e.every((t=>t.enabled===true))}if(t.isDisabled(i)===true){delete i.enabled}}return e}t.exports=ArrayPrompt},345:function(t,e,i){"use strict";const s=i(36);const defaultAuthenticate=()=>{throw new Error("expected prompt to have a custom authenticate method")};const factory=(t=defaultAuthenticate)=>{class AuthPrompt extends s{constructor(t){super(t)}async submit(){this.value=await t.call(this,this.values,this.state);super.base.submit.call(this)}static create(t){return factory(t)}}return AuthPrompt};t.exports=factory()},814:function(t,e,i){"use strict";const s=i(61);const{isPrimitive:r,hasColor:n}=i(408);class BooleanPrompt extends s{constructor(t){super(t);this.cursorHide()}async initialize(){let t=await this.resolve(this.initial,this.state);this.input=await this.cast(t);await super.initialize()}dispatch(t){if(!this.isValue(t))return this.alert();this.input=t;return this.submit()}format(t){let{styles:e,state:i}=this;return!i.submitted?e.primary(t):e.success(t)}cast(t){return this.isTrue(t)}isTrue(t){return/^[ty1]/i.test(t)}isFalse(t){return/^[fn0]/i.test(t)}isValue(t){return r(t)&&(this.isTrue(t)||this.isFalse(t))}async hint(){if(this.state.status==="pending"){let t=await this.element("hint");if(!n(t)){return this.styles.muted(t)}return t}}async render(){let{input:t,size:e}=this.state;let i=await this.prefix();let s=await this.separator();let r=await this.message();let n=this.styles.muted(this.default);let l=[i,r,n,s].filter(Boolean).join(" ");this.state.prompt=l;let a=await this.header();let o=this.value=this.cast(t);let h=await this.format(o);let u=await this.error()||await this.hint();let c=await this.footer();if(u&&!l.includes(u))h+=" "+u;l+=" "+h;this.clear(e);this.write([a,l,c].filter(Boolean).join("\n"));this.restore()}set value(t){super.value=t}get value(){return this.cast(super.value)}}t.exports=BooleanPrompt},568:function(t,e,i){t.exports={ArrayPrompt:i(971),AuthPrompt:i(345),BooleanPrompt:i(814),NumberPrompt:i(473),StringPrompt:i(945)}},473:function(t,e,i){"use strict";const s=i(945);class NumberPrompt extends s{constructor(t={}){super({style:"number",...t});this.min=this.isValue(t.min)?this.toNumber(t.min):-Infinity;this.max=this.isValue(t.max)?this.toNumber(t.max):Infinity;this.delay=t.delay!=null?t.delay:1e3;this.float=t.float!==false;this.round=t.round===true||t.float===false;this.major=t.major||10;this.minor=t.minor||1;this.initial=t.initial!=null?t.initial:"";this.input=String(this.initial);this.cursor=this.input.length;this.cursorShow()}append(t){if(!/[-+.]/.test(t)||t==="."&&this.input.includes(".")){return this.alert("invalid number")}return super.append(t)}number(t){return super.append(t)}next(){if(this.input&&this.input!==this.initial)return this.alert();if(!this.isValue(this.initial))return this.alert();this.input=this.initial;this.cursor=String(this.initial).length;return this.render()}up(t){let e=t||this.minor;let i=this.toNumber(this.input);if(i>this.max+e)return this.alert();this.input=`${i+e}`;return this.render()}down(t){let e=t||this.minor;let i=this.toNumber(this.input);if(i<this.min-e)return this.alert();this.input=`${i-e}`;return this.render()}shiftDown(){return this.down(this.major)}shiftUp(){return this.up(this.major)}format(t=this.input){if(typeof this.options.format==="function"){return this.options.format.call(this,t)}return this.styles.info(t)}toNumber(t=""){return this.float?+t:Math.round(+t)}isValue(t){return/^[-+]?[0-9]+((\.)|(\.[0-9]+))?$/.test(t)}submit(){let t=[this.input,this.initial].find((t=>this.isValue(t)));this.value=this.toNumber(t||0);return super.submit()}}t.exports=NumberPrompt},945:function(t,e,i){"use strict";const s=i(61);const r=i(50);const n=i(446);const{isPrimitive:l}=i(408);class StringPrompt extends s{constructor(t){super(t);this.initial=l(this.initial)?String(this.initial):"";if(this.initial)this.cursorHide();this.state.prevCursor=0;this.state.clipboard=[];this.keypressTimeout=this.options.keypressTimeout!==undefined?this.options.keypressTimeout:null}async keypress(t,e=(t?r(t,{}):{})){const i=Date.now();const s=i-this.lastKeypress;this.lastKeypress=i;const n=e.name==="return"||e.name==="enter";let l=this.state.prevKeypress;let a;this.state.prevKeypress=e;if(this.keypressTimeout!=null&&n){if(s<this.keypressTimeout){return this.submit()}this.state.multilineBuffer=this.state.multilineBuffer||"";this.state.multilineBuffer+=t;a=true;l=null}if(a||this.options.multiline&&n){if(!l||l.name!=="return"){return this.append("\n",e)}}return super.keypress(t,e)}moveCursor(t){this.cursor+=t}reset(){this.input=this.value="";this.cursor=0;return this.render()}dispatch(t,e){if(!t||e.ctrl||e.code)return this.alert();this.append(t)}append(t){let{cursor:e,input:i}=this.state;this.input=`${i}`.slice(0,e)+t+`${i}`.slice(e);this.moveCursor(String(t).length);this.render()}insert(t){this.append(t)}delete(){let{cursor:t,input:e}=this.state;if(t<=0)return this.alert();this.input=`${e}`.slice(0,t-1)+`${e}`.slice(t);this.moveCursor(-1);this.render()}deleteForward(){let{cursor:t,input:e}=this.state;if(e[t]===void 0)return this.alert();this.input=`${e}`.slice(0,t)+`${e}`.slice(t+1);this.render()}cutForward(){let t=this.cursor;if(this.input.length<=t)return this.alert();this.state.clipboard.push(this.input.slice(t));this.input=this.input.slice(0,t);this.render()}cutLeft(){let t=this.cursor;if(t===0)return this.alert();let e=this.input.slice(0,t);let i=this.input.slice(t);let s=e.split(" ");this.state.clipboard.push(s.pop());this.input=s.join(" ");this.cursor=this.input.length;this.input+=i;this.render()}paste(){if(!this.state.clipboard.length)return this.alert();this.insert(this.state.clipboard.pop());this.render()}toggleCursor(){if(this.state.prevCursor){this.cursor=this.state.prevCursor;this.state.prevCursor=0}else{this.state.prevCursor=this.cursor;this.cursor=0}this.render()}first(){this.cursor=0;this.render()}last(){this.cursor=this.input.length-1;this.render()}next(){let t=this.initial!=null?String(this.initial):"";if(!t||!t.startsWith(this.input))return this.alert();this.input=this.initial;this.cursor=this.initial.length;this.render()}prev(){if(!this.input)return this.alert();this.reset()}backward(){return this.left()}forward(){return this.right()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1);return this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1);return this.render()}isValue(t){return!!t}async format(t=this.value){let e=await this.resolve(this.initial,this.state);if(!this.state.submitted){return n(this,{input:t,initial:e,pos:this.cursor})}return this.styles.submitted(t||e)}async render(){let t=this.state.size;let e=await this.prefix();let i=await this.separator();let s=await this.message();let r=[e,s,i].filter(Boolean).join(" ");this.state.prompt=r;let n=await this.header();let l=await this.format();let a=await this.error()||await this.hint();let o=await this.footer();if(a&&!l.includes(a))l+=" "+a;r+=" "+l;this.clear(t);this.write([n,r,o].filter(Boolean).join("\n"));this.restore()}}t.exports=StringPrompt},408:function(t,e,i){"use strict";const s=Object.prototype.toString;const r=i(57);let n=false;let l=new Set;const a={yellow:"blue",cyan:"red",green:"magenta",black:"white",blue:"yellow",red:"cyan",magenta:"green",white:"black"};e.longest=(t,e)=>t.reduce(((t,i)=>Math.max(t,e?i[e].length:i.length)),0);e.hasColor=t=>!!t&&r.hasColor(t);const o=e.isObject=t=>t!==null&&typeof t==="object"&&!Array.isArray(t);e.nativeType=t=>s.call(t).slice(8,-1).toLowerCase().replace(/\s/g,"");e.isAsyncFn=t=>e.nativeType(t)==="asyncfunction";e.isPrimitive=t=>t!=null&&typeof t!=="object"&&typeof t!=="function";e.resolve=(t,e,...i)=>{if(typeof e==="function"){return e.call(t,...i)}return e};e.scrollDown=(t=[])=>[...t.slice(1),t[0]];e.scrollUp=(t=[])=>[t.pop(),...t];e.reorder=(t=[])=>{let e=t.slice();e.sort(((t,e)=>{if(t.index>e.index)return 1;if(t.index<e.index)return-1;return 0}));return e};e.swap=(t,e,i)=>{let s=t.length;let r=i===s?0:i<0?s-1:i;let n=t[e];t[e]=t[r];t[r]=n};e.width=(t,e=80)=>{let i=t&&t.columns?t.columns:e;if(t&&typeof t.getWindowSize==="function"){i=t.getWindowSize()[0]}if(process.platform==="win32"){return i-1}return i};e.height=(t,e=20)=>{let i=t&&t.rows?t.rows:e;if(t&&typeof t.getWindowSize==="function"){i=t.getWindowSize()[1]}return i};e.wordWrap=(t,e={})=>{if(!t)return t;if(typeof e==="number"){e={width:e}}let{indent:i="",newline:s="\n"+i,width:r=80}=e;let n=(s+i).match(/[^\S\n]/g)||[];r-=n.length;let l=`.{1,${r}}([\\s\\u200B]+|$)|[^\\s\\u200B]+?([\\s\\u200B]+|$)`;let a=t.trim();let o=new RegExp(l,"g");let h=a.match(o)||[];h=h.map((t=>t.replace(/\n$/,"")));if(e.padEnd)h=h.map((t=>t.padEnd(r," ")));if(e.padStart)h=h.map((t=>t.padStart(r," ")));return i+h.join(s)};e.unmute=t=>{let e=t.stack.find((t=>r.keys.color.includes(t)));if(e){return r[e]}let i=t.stack.find((t=>t.slice(2)==="bg"));if(i){return r[e.slice(2)]}return t=>t};e.pascal=t=>t?t[0].toUpperCase()+t.slice(1):"";e.inverse=t=>{if(!t||!t.stack)return t;let i=t.stack.find((t=>r.keys.color.includes(t)));if(i){let s=r["bg"+e.pascal(i)];return s?s.black:t}let s=t.stack.find((t=>t.slice(0,2)==="bg"));if(s){return r[s.slice(2).toLowerCase()]||t}return r.none};e.complement=t=>{if(!t||!t.stack)return t;let i=t.stack.find((t=>r.keys.color.includes(t)));let s=t.stack.find((t=>t.slice(0,2)==="bg"));if(i&&!s){return r[a[i]||i]}if(s){let i=s.slice(2).toLowerCase();let n=a[i];if(!n)return t;return r["bg"+e.pascal(n)]||t}return r.none};e.meridiem=t=>{let e=t.getHours();let i=t.getMinutes();let s=e>=12?"pm":"am";e=e%12;let r=e===0?12:e;let n=i<10?"0"+i:i;return r+":"+n+" "+s};e.set=(t={},i="",s)=>i.split(".").reduce(((t,i,r,n)=>{let l=n.length-1>r?t[i]||{}:s;if(!e.isObject(l)&&r<n.length-1)l={};return t[i]=l}),t);e.get=(t={},e="",i)=>{let s=t[e]==null?e.split(".").reduce(((t,e)=>t&&t[e]),t):t[e];return s==null?i:s};e.mixin=(t,i)=>{if(!o(t))return i;if(!o(i))return t;for(let s of Object.keys(i)){let r=Object.getOwnPropertyDescriptor(i,s);if(hasOwnProperty.call(r,"value")){if(hasOwnProperty.call(t,s)&&o(r.value)){let n=Object.getOwnPropertyDescriptor(t,s);if(o(n.value)&&n.value!==r.value){t[s]=e.merge({},t[s],i[s])}else{Reflect.defineProperty(t,s,r)}}else{Reflect.defineProperty(t,s,r)}}else{Reflect.defineProperty(t,s,r)}}return t};e.merge=(...t)=>{let i={};for(let s of t)e.mixin(i,s);return i};e.mixinEmitter=(t,i)=>{let s=i.constructor.prototype;for(let r of Object.keys(s)){let n=s[r];if(typeof n==="function"){e.define(t,r,n.bind(i))}else{e.define(t,r,n)}}};const onExit=(t,e)=>{if(n)return;n=true;l.forEach((t=>t()));if(t===true){process.exit(128+e)}};const h=onExit.bind(null,true,15);const u=onExit.bind(null,true,2);e.onExit=t=>{if(l.size===0){process.once("SIGTERM",h);process.once("SIGINT",u);process.once("exit",onExit)}l.add(t);return()=>{l.delete(t);if(l.size===0){process.off("SIGTERM",h);process.off("SIGINT",u);process.off("exit",onExit)}}};e.define=(t,e,i)=>{Reflect.defineProperty(t,e,{value:i})};e.defineExport=(t,e,i)=>{let s;Reflect.defineProperty(t,e,{enumerable:true,configurable:true,set(t){s=t},get(){return s?s():i()}})}},286:function(t){"use strict";t.exports=require("../strip-ansi")},491:function(t){"use strict";t.exports=require("assert")},361:function(t){"use strict";t.exports=require("events")},521:function(t){"use strict";t.exports=require("readline")}};var e={};function __nccwpck_require__(i){var s=e[i];if(s!==undefined){return s.exports}var r=e[i]={exports:{}};var n=true;try{t[i](r,r.exports,__nccwpck_require__);n=false}finally{if(n)delete e[i]}return r.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var i=__nccwpck_require__(589);module.exports=i})();