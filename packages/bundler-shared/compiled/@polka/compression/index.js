(function(){var e={165:function(e,t,n){const r=n(796);const NOOP=()=>{};const i=/text|javascript|\/json|xml/i;function getChunkSize(e,t){return e?Buffer.byteLength(e,t):0}e.exports=function({threshold:e=1024,level:t=-1,brotli:n=false,gzip:o=true,mimes:a=i}={}){const s=typeof n==="object"&&n||{};const c=typeof o==="object"&&o||{};if(!r.createBrotliCompress)n=false;return(i,l,f=NOOP)=>{const u=i.headers["accept-encoding"]+"";const p=(n&&u.match(/\bbr\b/)||o&&u.match(/\bgzip\b/)||[])[0];if(i.method==="HEAD"||!p)return f();let _;let d=[];let h=0;let b=false;let g=0;function start(){b=true;g=l.getHeader("Content-Length")|0||g;const n=a.test(String(l.getHeader("Content-Type")||"text/plain"));const i=!l.getHeader("Content-Encoding");const o=d||[];if(n&&i&&g>=e){l.setHeader("Content-Encoding",p);l.removeHeader("Content-Length");if(p==="br"){_=r.createBrotliCompress({params:Object.assign({[r.constants.BROTLI_PARAM_QUALITY]:t,[r.constants.BROTLI_PARAM_SIZE_HINT]:g},s)})}else{_=r.createGzip(Object.assign({level:t},c))}_.on("data",(e=>m.call(l,e)||_.pause()));C.call(l,"drain",(()=>_.resume()));_.on("end",(()=>y.call(l)));o.forEach((e=>_.on.apply(_,e)))}else{d=null;o.forEach((e=>C.apply(l,e)))}v.call(l,h||l.statusCode)}const{end:y,write:m,on:C,writeHead:v}=l;l.writeHead=function(e,t,n){if(typeof t!=="string")[n,t]=[t,n];if(n)for(let e in n)l.setHeader(e,n[e]);h=e;return this};l.write=function(e,t){g+=getChunkSize(e,t);if(!b)start();if(!_)return m.apply(this,arguments);return _.write.apply(_,arguments)};l.end=function(e,t){if(arguments.length>0&&typeof e!=="function"){g+=getChunkSize(e,t)}if(!b)start();if(!_)return y.apply(this,arguments);return _.end.apply(_,arguments)};l.on=function(e,t){if(!d)C.call(this,e,t);else if(_)_.on(e,t);else d.push([e,t]);return this};f()}}},796:function(e){"use strict";e.exports=require("zlib")}};var t={};function __nccwpck_require__(n){var r=t[n];if(r!==undefined){return r.exports}var i=t[n]={exports:{}};var o=true;try{e[n](i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[n]}return i.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var n=__nccwpck_require__(165);module.exports=n})();